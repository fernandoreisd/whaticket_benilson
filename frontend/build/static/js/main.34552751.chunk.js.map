{"version":3,"sources":["assets/sound.mp3","assets/wa-background.png","assets/logo.png","translate/languages/index.js","translate/languages/pt.js","translate/languages/en.js","translate/languages/es.js","translate/i18n.js","errors/toastError.js","services/api.js","hooks/useWhatsApps/index.js","context/WhatsApp/WhatsAppsContext.js","hooks/useAuth.js/index.js","context/Auth/AuthContext.js","rules.js","components/Can/index.js","layout/MainListItems.js","components/ButtonWithSpinner/index.js","components/MarkdownWrapper/index.js","components/TicketListItem/index.js","hooks/useTickets/index.js","components/NotificationsPopOver/index.js","components/QueueSelect/index.js","components/UserModal/index.js","components/BackdropLoading/index.js","layout/index.js","pages/Dashboard/Title.js","pages/Dashboard/Chart.js","pages/Dashboard/index.js","components/ContactModal/index.js","components/NewTicketModal/index.js","components/TicketsListSkeleton/index.js","components/TicketsList/index.js","components/TabPanel/index.js","components/TicketsQueueSelect/index.js","components/TicketsAgentSelect/index.js","components/TicketsManager/index.js","components/ContactDrawerSkeleton/index.js","components/ContactDrawer/index.js","components/MessageInput/RecordingTimer.js","context/ReplyingMessage/ReplyingMessageContext.js","components/MessageInput/index.js","hooks/useLocalStorage/index.js","components/TicketHeaderSkeleton/index.js","components/TicketHeader/index.js","components/TicketInfo/index.js","components/ConfirmationModal/index.js","hooks/useQueues/index.js","components/TransferTicketModal/index.js","components/TicketOptionsMenu/index.js","components/TicketActionButtons/index.js","components/VcardPreview/index.js","components/LocationPreview/index.js","components/ModalImageCors/index.js","components/MessageOptionsMenu/index.js","components/MessagesList/index.js","components/Ticket/index.js","pages/Tickets/index.js","pages/Signup/index.js","pages/Login/index.js","components/MainContainer/index.js","components/MainHeader/index.js","components/MainHeaderButtonsWrapper/index.js","components/Title/index.js","components/TableRowSkeleton/index.js","components/WhatsAppModal/index.js","components/QrcodeModal/index.js","pages/Connections/index.js","pages/Settings/index.js","pages/Users/index.js","pages/Contacts/index.js","components/QuickAnswersModal/index.js","pages/QuickAnswers/index.js","components/ColorPicker/index.js","components/QueueModal/index.js","pages/Queues/index.js","routes/Route.js","routes/index.js","App.js","index.js"],"names":["module","exports","messages","pt","translations","signup","title","toasts","success","fail","form","name","email","password","buttons","submit","login","register","auth","dashboard","charts","perDay","inAttendance","waiting","closed","connections","deleted","confirmationModal","deleteTitle","deleteMessage","disconnectTitle","disconnectMessage","add","disconnect","tryAgain","qrcode","newQr","connecting","toolTips","disconnected","content","connected","timeout","table","status","lastUpdate","default","battery","actions","session","whatsappModal","edit","farewellMessage","okAdd","okEdit","cancel","qrCode","message","contacts","searchPlaceholder","importTitlte","importMessage","import","whatsapp","contactModal","mainInfo","extraInfo","number","extraName","extraValue","addExtraInfo","quickAnswersModal","shortcut","queueModal","color","greetingMessage","userModal","profile","chat","noTicketMessage","ticketsManager","newTicket","ticketsQueueSelect","placeholder","tickets","notification","tabs","open","search","showAll","transferTicketModal","fieldLabel","fieldQueueLabel","fieldQueuePlaceholder","noOptions","ok","ticketsList","pendingHeader","assignedHeader","noTicketsTitle","noTicketsMessage","accept","newTicketModal","mainDrawer","listItems","quickAnswers","queues","administration","users","settings","appBar","user","logout","notifications","noTickets","greeting","queueSelect","inputLabel","userCreation","options","enabled","disabled","timeCreateNewTicket","note","call","CheckMsgIsGroup","messagesList","header","assignedTo","return","resolve","reopen","messagesInput","placeholderOpen","placeholderClosed","signMessage","contactDrawer","ticketOptionsMenu","delete","transfer","confirm","messageOptionsMenu","reply","backendErrors","ERR_NO_OTHER_WHATSAPP","ERR_NO_DEF_WAPP_FOUND","ERR_WAPP_NOT_INITIALIZED","ERR_WAPP_CHECK_CONTACT","ERR_WAPP_INVALID_CONTACT","ERR_WAPP_DOWNLOAD_MEDIA","ERR_INVALID_CREDENTIALS","ERR_SENDING_WAPP_MSG","ERR_DELETE_WAPP_MSG","ERR_OTHER_OPEN_TICKET","ERR_SESSION_EXPIRED","ERR_USER_CREATION_DISABLED","ERR_NO_PERMISSION","ERR_DUPLICATED_CONTACT","ERR_NO_SETTING_FOUND","ERR_NO_CONTACT_FOUND","ERR_NO_TICKET_FOUND","ERR_NO_USER_FOUND","ERR_NO_WAPP_FOUND","ERR_CREATING_MESSAGE","ERR_CREATING_TICKET","ERR_FETCH_WAPP_MSG","ERR_QUEUE_COLOR_ALREADY_EXISTS","ERR_WAPP_GREETING_REQUIRED","en","titleFrom","es","i18n","use","LanguageDetector","init","debug","defaultNS","fallbackLng","ns","resources","toastError","err","errorMsg","response","data","error","exists","toast","t","toastId","api","axios","create","baseURL","process","withCredentials","i","reducer","state","action","type","whatsApps","payload","whatsApp","whatsAppIndex","findIndex","s","id","updatedAt","retries","whatsAppId","splice","useWhatsApps","useReducer","dispatch","useState","loading","setLoading","useEffect","get","fetchSession","socket","openSocket","on","whatsappId","WhatsAppsContext","createContext","WhatsAppsProvider","children","Provider","value","useAuth","history","useHistory","isAuth","setIsAuth","setUser","interceptors","request","config","token","localStorage","getItem","headers","JSON","parse","Promise","reject","originalRequest","_retry","post","setItem","stringify","defaults","Authorization","removeItem","undefined","handleLogin","userData","push","handleLogout","isAdminUser","AuthContext","AuthProvider","rules","static","admin","superv","Can","role","perform","yes","no","permissions","staticPermissions","includes","dynamicPermissions","dynamic","permissionCondition","check","ListItemLink","props","icon","primary","to","className","renderLink","React","useMemo","forwardRef","itemProps","ref","ListItem","button","component","ListItemIcon","ListItemText","defaultProps","MainListItems","drawerClose","useContext","connectionWarning","setConnectionWarning","delayDebounceFn","setTimeout","length","filter","whats","clearTimeout","onClick","Divider","ListSubheader","inset","Badge","badgeContent","useStyles","makeStyles","theme","position","buttonProgress","green","top","left","marginTop","marginLeft","ButtonWithSpinner","rest","classes","Button","CircularProgress","size","elements","allowedElements","CustomLink","target","rel","MarkdownWrapper","boldRegex","tildaRegex","test","replace","markdownOptions","disableParsingRawHTML","forceInline","overrides","a","forEach","element","el","ticket","pendingTicket","cursor","noTicketsDiv","display","height","margin","flexDirection","alignItems","justifyContent","noTicketsText","textAlign","fontSize","lineHeight","fontWeight","contactNameWrapper","lastMessageTime","justifySelf","closedBadge","alignSelf","marginRight","contactLastMessage","paddingRight","newMessagesCount","bottomButton","badgeStyle","backgroundColor","acceptButton","ticketQueueColor","flex","width","userTag","right","bottom","background","border","padding","paddingLeft","borderRadius","TicketListItem","ticketId","useParams","isMounted","useRef","current","handleAcepptTicket","put","userId","handleViewTicket","Fragment","key","dense","e","selected","clsx","Tooltip","arrow","placement","queue","style","ListItemAvatar","Avatar","src","contact","profilePicUrl","disableTypography","Typography","noWrap","variant","lastMessage","isSameDay","parseISO","Date","format","secondary","unreadMessages","badge","IconButton","useTickets","searchParam","pageNumber","date","queueIds","withUnreadMessages","hasMore","setHasMore","setTickets","count","setCount","fetchTickets","params","horasFecharAutomaticamente","REACT_APP_HOURS_CLOSE_TICKETS_AUTO","Number","dataLimite","setHours","getHours","closeTicket","tabContainer","overflowY","maxHeight","scrollbarStyles","popoverPaper","maxWidth","spacing","breakpoints","down","noShadow","boxShadow","NotificationsPopOver","ticketIdUrl","location","pathname","split","ticketIdRef","anchorEl","isOpen","setIsOpen","setNotifications","setDesktopNotifications","useSound","alertSound","play","soundAlertRef","historyRef","window","Notification","requestPermission","console","log","emit","prevState","ticketIndex","notfiticationIndex","n","tag","String","close","read","document","visibilityState","isGroup","handleNotifications","body","renotify","onclick","preventDefault","focus","handleClickAway","NotificationTicket","aria-label","Popover","disableScrollLock","anchorOrigin","vertical","horizontal","transformOrigin","paper","onClose","List","map","chips","flexWrap","chip","QueueSelect","selectedQueueIds","onChange","setQueues","FormControl","fullWidth","InputLabel","Select","multiple","labelWidth","MenuProps","getContentAnchorEl","renderValue","find","q","Chip","label","MenuItem","root","multFieldLine","btnWrapper","formControl","minWidth","UserSchema","Yup","shape","min","max","required","UserModal","initialState","loggedInUser","setSelectedQueueIds","showPassword","setShowPassword","userQueueIds","fetchUser","handleClose","handleSaveUser","values","Dialog","scroll","DialogTitle","initialValues","enableReinitialize","validationSchema","onSubmit","setSubmitting","touched","errors","isSubmitting","DialogContent","dividers","as","TextField","autoFocus","Boolean","helperText","InputProps","endAdornment","InputAdornment","VisibilityOff","labelId","DialogActions","backdrop","zIndex","drawer","BackdropLoading","Backdrop","toolbar","toolbarIcon","minHeight","transition","transitions","easing","sharp","duration","leavingScreen","appBarShift","enteringScreen","menuButton","menuButtonHidden","flexGrow","drawerPaper","whiteSpace","drawerPaperClose","overflowX","up","appBarSpacer","overflow","container","paddingTop","paddingBottom","LoggedInLayout","userModalOpen","setUserModalOpen","setAnchorEl","menuOpen","setMenuOpen","drawerOpen","setDrawerOpen","drawerVariant","setDrawerVariant","offsetWidth","handleCloseMenu","Drawer","AppBar","Toolbar","edge","aria-controls","aria-haspopup","event","currentTarget","Menu","Title","gutterBottom","Chart","useTheme","toISOString","time","amount","chartData","setChartData","aux","startOfHour","createdAt","ResponsiveContainer","BarChart","barSize","CartesianGrid","strokeDasharray","XAxis","dataKey","stroke","palette","text","YAxis","allowDecimals","Label","angle","textAnchor","fill","Bar","main","fixedHeightPaper","customFixedHeightPaper","customFixedHeightPaperLg","Dashboard","GetTickets","Container","Grid","item","xs","Paper","paragraph","textField","extraAttr","ContactSchema","ContactModal","contactId","onSave","setContact","fetchContact","handleSaveContact","marginBottom","remove","info","index","createFilterOptions","trim","NewTicketModal","modalOpen","setOptions","setSearchParam","selectedContact","setSelectedContact","newContact","setNewContact","contactModalOpen","setContactModalOpen","fetchContacts","handleSaveTicket","Autocomplete","clearOnBlur","autoHighlight","freeSolo","clearOnEscape","getOptionLabel","option","renderOption","filterOptions","filtered","inputValue","newValue","handleSelectOption","renderInput","onKeyPress","TicketsSkeleton","Skeleton","animation","ticketsListWrapper","borderTopRightRadius","borderBottomRightRadius","borderTop","ticketsListHeader","borderBottom","ticketsCount","unshift","TicketsList","selectedAgentId","updateCount","setPageNumber","shouldUpdateTicket","queueId","indexOf","square","elevation","onScroll","scrollTop","scrollHeight","clientHeight","TicketsListSkeleton","TabPanel","aria-labelledby","TicketsQueueSelect","userQueues","displayEmpty","Checkbox","checked","TicketsAgentSelect","agents","agent","ticketsWrapper","tabsHeader","settingsIcon","tab","ticketOptionsBox","serachInputWrapper","searchIcon","searchInput","outlineStyle","show","hide","searchContainer","TicketsManager","setTab","tabOpen","newTicketModalOpen","setNewTicketModalOpen","showAllTickets","setShowAllTickets","setOpenCount","pendingCount","setPendingCount","setAgents","setSelectedAgentId","toUpperCase","loadAgents","applyPanelStyle","searchedTerm","toLowerCase","Tabs","indicatorColor","textColor","Tab","FormControlLabel","labelPlacement","control","Switch","val","ContactDrawerSkeleton","contactHeader","contactAvatar","contactDetails","contactExtraInfo","flexShrink","borderRight","ContactDrawer","handleDrawerClose","setModalOpen","anchor","PaperProps","BackdropProps","ModalProps","getElementById","alt","Link","href","timerBox","RecordingTimer","minutes","seconds","timer","setTimer","interval","setInterval","clearInterval","addZero","ReplyMessageContext","ReplyMessageProvider","replyingMessage","setReplyingMessage","Mp3Recorder","MicRecorder","bitRate","mainWrapper","newMessageBox","messageInputWrapper","messageInput","sendMessageIcons","uploadInput","viewMediaInputWrapper","emojiBox","circleLoading","opacity","audioLoading","recorderWrapper","alignContent","cancelAudioIcon","sendAudioIcon","replyginMsgWrapper","replyginMsgContainer","replyginMsgBody","replyginContactMsgSideColor","replyginSelfMsgSideColor","messageContactName","messageQuickAnswersWrapper","listStyle","textOverflow","MessageInput","ticketStatus","medias","setMedias","inputMessage","setInputMessage","showEmoji","setShowEmoji","recording","setRecording","setQuickAnswer","typeBar","setTypeBar","inputRef","initialValue","storedValue","setStoredValue","valueToStore","Function","useLocalStorage","handleChangeMedias","files","selectedMedias","Array","from","handleUploadMedia","formData","FormData","append","media","handleSendMessage","fromMe","mediaUrl","quotedMsg","handleStartRecording","navigator","mediaDevices","getUserMedia","audio","start","handleLoadQuickAnswer","substring","handleUploadAudio","stop","getMp3","blob","filename","getTime","handleCancelAudio","handleMenuItemClick","renderReplyingMessage","Hidden","only","ClickAwayListener","onClickAway","perLine","showPreview","showSkinTones","onSelect","emoji","native","htmlFor","keepMounted","InputBase","input","multiline","maxRows","onPaste","clipboardData","handleInputPaste","shiftKey","messageQuickAnswersWrapperItem","handleQuickAnswersClick","ticketHeader","TicketHeaderSkeleton","Card","CardHeader","titleTypographyProps","subheaderTypographyProps","avatar","subheader","TicketHeader","TicketInfo","ConfirmationModal","onConfirm","useQueues","findAll","TransferTicketModal","ticketid","allQueues","setAllQueues","selectedUser","setSelectedUser","selectedQueue","setSelectedQueue","findAllQueues","list","loadQueues","fetchUsers","transf","isArray","noOptionsText","TicketOptionsMenu","confirmationOpen","setConfirmationOpen","transferTicketModalOpen","setTransferTicketModalOpen","handleDeleteTicket","handleOpenConfirmationModal","actionButtons","TicketActionButtons","ticketOptionsMenuOpen","handleUpdateTicketStatus","startIcon","Replay","VcardPreview","numbers","contactObj","handleNewChat","LocationPreview","image","link","description","handleLocation","float","dangerouslySetInnerHTML","__html","clear","messageMedia","objectFit","borderTopLeftRadius","borderBottomLeftRadius","ModalImageCors","imageUrl","fetching","setFetching","blobUrl","setBlobUrl","responseType","url","URL","createObjectURL","Blob","fetchImage","smallSrcSet","medium","large","MessageOptionsMenu","handleDeleteMessage","messagesListWrapper","messageCenter","verticalAlign","backgroundImage","whatsBackground","messageLeft","quotedContainerLeft","quotedSideColorLeft","messageRight","quotedContainerRight","quotedMsgRight","quotedSideColorRight","messageActionsButton","textContentItem","overflowWrap","textContentItemDeleted","fontStyle","timestamp","dailyTimestamp","dailyTimestampText","ackIcons","deletedIcon","ackDoneAllIcon","downloadMedia","newMessages","messageIndex","m","newMessage","messageToUpdate","MessagesList","lastMessageRef","selectedMessage","setSelectedMessage","messageOptionsMenuOpen","currentTicketId","scrollToBottom","fetchMessages","scrollIntoView","handleOpenMessageOptionsMenu","checkMessageMedia","mediaType","locationParts","imageLocation","linkLocation","descriptionLocation","array","obj","ind","controls","GetApp","renderDailyTimestamps","messageDay","previousMessageDay","renderMessageDivider","renderQuotedMessage","prevPageNumber","isDeleted","ExpandMore","xmlns","viewBox","d","Block","ack","AccessTime","Done","DoneAll","renderMessageAck","ticketInfo","flexBasis","ticketActionButtons","borderLeft","mainWrapperShift","easeOut","Ticket","setTicket","fetchTicket","chatContainer","chatPapper","contactsWrapper","contactsWrapperSmall","messagessWrapper","welcomeMsg","ticketsManagerClosed","Chat","md","SignUp","handleSignUp","CssBaseline","LockOutlined","autoComplete","justify","RouterLink","Box","mt","Login","handleChangeInput","logo","require","noValidate","mainContainer","contentWrapper","MainContainer","contactsHeader","MainHeader","MainHeaderButtonsWrapper","customTableCell","TableRowSkeleton","columns","TableRow","TableCell","_","align","SessionSchema","memo","isDefault","setWhatsApp","whatsQueueIds","handleSaveWhatsApp","whatsappData","rows","selectedIds","setQrCode","mainPaper","tooltip","typography","pxToRem","tooltipPopper","CustomToolTip","popper","Connections","whatsAppModalOpen","setWhatsAppModalOpen","qrModalOpen","setQrModalOpen","selectedWhatsApp","setSelectedWhatsApp","confirmModalOpen","setConfirmModalOpen","confirmationModalInitialState","confirmModalInfo","setConfirmModalInfo","handleStartWhatsAppSession","handleRequestNewQrCode","handleCloseWhatsAppModal","useCallback","handleCloseQrModal","handleSubmitConfirmationModal","renderActionButtons","handleOpenQrModal","Table","TableHead","TableBody","CheckCircle","BatteryChargingFull","renderStatusBattery","SignalCellularConnectedNoInternet0Bar","CropFree","SignalCellular4Bar","SignalCellularConnectedNoInternet2Bar","renderStatusToolTips","handleEditWhatsApp","Edit","settingOption","Settings","setSettings","settingIndex","setting","handleChangeSetting","selectedValue","settingKey","getSettingValue","readonly","newUsers","userIndex","u","Users","deletingUser","setDeletingUser","handleDeleteUser","startAdornment","handleEditUser","newContacts","contactIndex","c","Contacts","selectedContactId","setSelectedContactId","deletingContact","setDeletingContact","confirmOpen","setConfirmOpen","handleDeleteContact","handleimportContact","go","textQuickAnswerContainer","QuickAnswerSchema","QuickAnswersModal","quickAnswerId","quickAnswer","fetchQuickAnswer","handleSaveQuickAnswer","newQuickAnswers","quickAnswerIndex","QuickAnswers","selectedQuickAnswers","setSelectedQuickAnswers","quickAnswersModalOpen","setQuickAnswersModalOpen","deletingQuickAnswers","setDeletingQuickAnswers","fetchQuickAnswers","handleDeleteQuickAnswers","handleEditQuickAnswers","ColorPicker","currentColor","selectedColor","setSelectedColor","paperFullWidth","triangle","colors","hex","onChangeComplete","colorAdorment","QueueSchema","QueueModal","colorPickerModalOpen","setColorPickerModalOpen","setQueue","greetingRef","handleSaveQueue","onFocus","Colorize","newQueues","queueIndex","Queues","queueModalOpen","setQueueModalOpen","handleDeleteQueue","handleEditQueue","Route","Component","isPrivate","isAdminRoute","Routes","exact","path","Signup","Tickets","autoClose","App","locale","setLocale","createTheme","i18nlocale","ptBR","ThemeProvider","ReactDOM","render"],"mappings":";yFAAAA,EAAOC,QAAU,IAA0B,mC,oBCA3CD,EAAOC,QAAU,IAA0B,2C,0DCA3CD,EAAOC,QAAU,IAA0B,kC,0eCIrCC,GAAQ,uCCJG,CACfC,GAAI,CACFC,aAAc,CACZC,OAAQ,CACNC,MAAO,cACPC,OAAQ,CACNC,QAAS,uDACTC,KAAM,4DAERC,KAAM,CACJC,KAAM,OACNC,MAAO,QACPC,SAAU,SAEZC,QAAS,CACPC,OAAQ,YACRC,MAAO,gCAGXA,MAAO,CACLV,MAAO,QACPI,KAAM,CACJE,MAAO,QACPC,SAAU,SAEZC,QAAS,CACPC,OAAQ,SACRE,SAAU,sCAGdC,KAAM,CACJX,OAAQ,CACNC,QAAS,gCAGbW,UAAW,CACTC,OAAQ,CACNC,OAAQ,CACNf,MAAO,qBAGXJ,SAAU,CACRoB,aAAc,CACZhB,MAAO,kBAETiB,QAAS,CACPjB,MAAO,cAETkB,OAAQ,CACNlB,MAAO,gBAIbmB,YAAa,CACXnB,MAAO,cACPC,OAAQ,CACNmB,QAAS,sDAEXC,kBAAmB,CACjBC,YAAa,UACbC,cAAe,kEACfC,gBAAiB,cACjBC,kBACE,8DAEJjB,QAAS,CACPkB,IAAK,qBACLC,WAAY,cACZC,SAAU,mBACVC,OAAQ,UACRC,MAAO,eACPC,WAAY,cAEdC,SAAU,CACRC,aAAc,CACZjC,MAAO,yCACPkC,QACE,kHAEJL,OAAQ,CACN7B,MAAO,+BACPkC,QACE,4FAEJC,UAAW,CACTnC,MAAO,4BAEToC,QAAS,CACPpC,MAAO,yCACPkC,QACE,+JAGNG,MAAO,CACLhC,KAAM,OACNiC,OAAQ,SACRC,WAAY,8BACZC,QAAS,YACTC,QAAS,UACTC,QAAS,cACTC,QAAS,cAGbC,cAAe,CACb5C,MAAO,CACL0B,IAAK,qBACLmB,KAAM,mBAERzC,KAAM,CACJC,KAAM,OACNmC,QAAS,YACTM,gBAAiB,yBAEnBtC,QAAS,CACPuC,MAAO,YACPC,OAAQ,SACRC,OAAQ,YAEV/C,QAAS,+BAEXgD,OAAQ,CACNC,QAAS,0CAEXC,SAAU,CACRpD,MAAO,WACPC,OAAQ,CACNmB,QAAS,oCAEXiC,kBAAmB,eACnBhC,kBAAmB,CACjBC,YAAa,WACbgC,aAAc,oBACd/B,cACE,kGACFgC,cAAe,kDAEjB/C,QAAS,CACPgD,OAAQ,oBACR9B,IAAK,qBAEPW,MAAO,CACLhC,KAAM,OACNoD,SAAU,WACVnD,MAAO,QACPoC,QAAS,gBAGbgB,aAAc,CACZ1D,MAAO,CACL0B,IAAK,oBACLmB,KAAM,kBAERzC,KAAM,CACJuD,SAAU,mBACVC,UAAW,+BACXvD,KAAM,OACNwD,OAAQ,wBACRvD,MAAO,QACPwD,UAAW,gBACXC,WAAY,SAEdvD,QAAS,CACPwD,aAAc,6BACdjB,MAAO,YACPC,OAAQ,SACRC,OAAQ,YAEV/C,QAAS,8BAEX+D,kBAAmB,CACjBjE,MAAO,CACL0B,IAAK,+BACLmB,KAAM,6BAERzC,KAAM,CACJ8D,SAAU,SACVf,QAAS,sBAEX3C,QAAS,CACPuC,MAAO,YACPC,OAAQ,SACRC,OAAQ,YAEV/C,QAAS,yCAEXiE,WAAY,CACVnE,MAAO,CACL0B,IAAK,iBACLmB,KAAM,eAERzC,KAAM,CACJC,KAAM,OACN+D,MAAO,MACPC,gBAAiB,8BAEnB7D,QAAS,CACPuC,MAAO,YACPC,OAAQ,SACRC,OAAQ,aAGZqB,UAAW,CACTtE,MAAO,CACL0B,IAAK,uBACLmB,KAAM,qBAERzC,KAAM,CACJC,KAAM,OACNC,MAAO,QACPC,SAAU,QACVgE,QAAS,UAEX/D,QAAS,CACPuC,MAAO,YACPC,OAAQ,SACRC,OAAQ,YAEV/C,QAAS,iCAEXsE,KAAM,CACJC,gBAAiB,qDAEnBC,eAAgB,CACdlE,QAAS,CACPmE,UAAW,kBAGfC,mBAAoB,CAClBC,YAAa,SAEfC,QAAS,CACP7E,OAAQ,CACNmB,QAAS,+CAEX2D,aAAc,CACZ5B,QAAS,eAEX6B,KAAM,CACJC,KAAM,CAAEjF,MAAO,aACfkB,OAAQ,CAAElB,MAAO,cACjBkF,OAAQ,CAAElF,MAAO,WAEnBkF,OAAQ,CACNL,YAAa,8BAEfrE,QAAS,CACP2E,QAAS,UAGbC,oBAAqB,CACnBpF,MAAO,sBACPqF,WAAY,iCACZC,gBAAiB,uBACjBC,sBAAuB,qBACvBC,UAAW,6CACXhF,QAAS,CACPiF,GAAI,aACJxC,OAAQ,aAGZyC,YAAa,CACXC,cAAe,aACfC,eAAgB,oBAChBC,eAAgB,mBAChBC,iBACE,mEACFtF,QAAS,CACPuF,OAAQ,cAGZC,eAAgB,CACdhG,MAAO,gBACPqF,WAAY,kCACZ3D,IAAK,YACLlB,QAAS,CACPiF,GAAI,mBACJxC,OAAQ,aAGZgD,WAAY,CACVC,UAAW,CACTrF,UAAW,YACXM,YAAa,cACb2D,QAAS,YACT1B,SAAU,WACV+C,aAAc,uBACdC,OAAQ,QACRC,eAAgB,sBAChBC,MAAO,cACPC,SAAU,uBAEZC,OAAQ,CACNC,KAAM,CACJlC,QAAS,SACTmC,OAAQ,UAIdC,cAAe,CACbC,UAAW,8BAEbR,OAAQ,CACNpG,MAAO,QACPqC,MAAO,CACLhC,KAAM,OACN+D,MAAO,MACPyC,SAAU,6BACVnE,QAAS,eAEXlC,QAAS,CACPkB,IAAK,kBAEPL,kBAAmB,CACjBC,YAAa,UACbC,cACE,0KAGNuF,YAAa,CACXC,WAAY,SAEdZ,aAAc,CACZnG,MAAO,uBACPqC,MAAO,CACL6B,SAAU,SACVf,QAAS,qBACTT,QAAS,eAEXlC,QAAS,CACPkB,IAAK,gCAEPzB,OAAQ,CACNmB,QAAS,+CAEXiC,kBAAmB,eACnBhC,kBAAmB,CACjBC,YACE,iEACFC,cAAe,+CAGnB+E,MAAO,CACLtG,MAAO,cACPqC,MAAO,CACLhC,KAAM,OACNC,MAAO,QACPiE,QAAS,SACT7B,QAAS,eAEXlC,QAAS,CACPkB,IAAK,wBAEPzB,OAAQ,CACNmB,QAAS,uCAEXC,kBAAmB,CACjBC,YAAa,UACbC,cACE,wHAGNgF,SAAU,CACRrG,QAAS,0CACTF,MAAO,sBACPuG,SAAU,CACRS,aAAc,CACZ3G,KAAM,8BACN4G,QAAS,CACPC,QAAS,UACTC,SAAU,eAGdC,oBAAqB,CACnB/G,KAAM,kCACNgH,KAAM,oHACNJ,QAAS,CACP,GAAM,cACN,GAAM,cACN,GAAM,WACN,IAAO,YACP,KAAS,aACT,KAAS,SACT,KAAS,UACT,MAAU,UACV,MAAU,WACV,MAAU,WACV,OAAW,aAGfK,KAAM,CACJjH,KAAM,mBACN4G,QAAS,CACPC,QAAS,UACTC,SAAU,eAGdI,gBAAiB,CACflH,KAAM,8BACN4G,QAAS,CACLC,QAAS,UACTC,SAAU,iBAKpBK,aAAc,CACZC,OAAQ,CACNC,WAAY,yBACZlH,QAAS,CACPmH,OAAQ,oBACRC,QAAS,oBACTC,OAAQ,mBACR9B,OAAQ,sBAId+B,cAAe,CACbC,gBAAiB,+DACjBC,kBACE,2DACFC,YAAa,WAEfC,cAAe,CACbT,OAAQ,mBACRjH,QAAS,CACPqC,KAAM,kBAERe,UAAW,4BAEbuE,kBAAmB,CACjBC,OAAQ,UACRC,SAAU,aACVhH,kBAAmB,CACjBrB,MAAO,gCACPmD,QACE,gFAEJ3C,QAAS,CACP4H,OAAQ,UACRnF,OAAQ,aAGZ5B,kBAAmB,CACjBb,QAAS,CACP8H,QAAS,KACTrF,OAAQ,aAGZsF,mBAAoB,CAClBH,OAAQ,UACRI,MAAO,YACPnH,kBAAmB,CACjBrB,MAAO,mBACPmD,QAAS,+CAGbsF,cAAe,CACbC,sBAAuB,+CACvBC,sBACE,8EACFC,yBACE,4FACFC,uBACE,+FACFC,yBAA0B,uDAC1BC,wBACE,4FACFC,wBACE,0DACFC,qBACE,6EACFC,oBAAqB,yDACrBC,sBAAuB,yDACvBC,oBAAqB,uCACrBC,2BACE,qEACFC,kBAAmB,6DACnBC,uBAAwB,8CACxBC,qBAAsB,qDACtBC,qBAAsB,yCACtBC,oBAAqB,4CACrBC,kBAAmB,4CACnBC,kBAAmB,0CACnBC,qBAAsB,4CACtBC,oBAAqB,8CACrBC,mBACE,uEACFC,+BACE,gDACFC,2BACE,uFC1eO,CACfC,GAAI,CACFpK,aAAc,CACZC,OAAQ,CACNC,MAAO,UACPC,OAAQ,CACNC,QAAS,2CACTC,KAAM,iDAERC,KAAM,CACJC,KAAM,OACNC,MAAO,QACPC,SAAU,YAEZC,QAAS,CACPC,OAAQ,WACRC,MAAO,qCAGXA,MAAO,CACLV,MAAO,QACPI,KAAM,CACJE,MAAO,QACPC,SAAU,YAEZC,QAAS,CACPC,OAAQ,QACRE,SAAU,qCAGdC,KAAM,CACJX,OAAQ,CACNC,QAAS,wBAGbW,UAAW,CACTC,OAAQ,CACNC,OAAQ,CACNf,MAAO,oBAGXJ,SAAU,CACRoB,aAAc,CACZhB,MAAO,cAETiB,QAAS,CACPjB,MAAO,WAETkB,OAAQ,CACNlB,MAAO,YAIbmB,YAAa,CACXnB,MAAO,cACPC,OAAQ,CACNmB,QAAS,4CAEXC,kBAAmB,CACjBC,YAAa,SACbC,cAAe,uCACfC,gBAAiB,aACjBC,kBAAmB,oDAErBjB,QAAS,CACPkB,IAAK,eACLC,WAAY,aACZC,SAAU,YACVC,OAAQ,UACRC,MAAO,cACPC,WAAY,eAEdC,SAAU,CACRC,aAAc,CACZjC,MAAO,mCACPkC,QACE,kGAEJL,OAAQ,CACN7B,MAAO,2BACPkC,QACE,wFAEJC,UAAW,CACTnC,MAAO,0BAEToC,QAAS,CACPpC,MAAO,2CACPkC,QACE,qIAGNG,MAAO,CACLhC,KAAM,OACNiC,OAAQ,SACRC,WAAY,cACZC,QAAS,UACTE,QAAS,UACTC,QAAS,YAGbC,cAAe,CACb5C,MAAO,CACL0B,IAAK,eACLmB,KAAM,iBAERzC,KAAM,CACJC,KAAM,OACNmC,QAAS,WAEXhC,QAAS,CACPuC,MAAO,MACPC,OAAQ,OACRC,OAAQ,UAEV/C,QAAS,gCAEXgD,OAAQ,CACNC,QAAS,oCAEXC,SAAU,CACRpD,MAAO,WACPC,OAAQ,CACNmB,QAAS,gCAEXiC,kBAAmB,aACnBhC,kBAAmB,CACjBC,YAAa,SACbgC,aAAc,kBACd/B,cACE,kFACFgC,cAAe,sDAEjB/C,QAAS,CACPgD,OAAQ,kBACR9B,IAAK,eAEPW,MAAO,CACLhC,KAAM,OACNoD,SAAU,WACVnD,MAAO,QACPoC,QAAS,YAGbgB,aAAc,CACZ1D,MAAO,CACL0B,IAAK,cACLmB,KAAM,gBAERzC,KAAM,CACJuD,SAAU,kBACVC,UAAW,yBACXvD,KAAM,OACNwD,OAAQ,kBACRvD,MAAO,QACPwD,UAAW,aACXC,WAAY,SAEdvD,QAAS,CACPwD,aAAc,kBACdjB,MAAO,MACPC,OAAQ,OACRC,OAAQ,UAEV/C,QAAS,+BAEX+D,kBAAmB,CACjBjE,MAAO,CACL0B,IAAK,kBACLmB,KAAM,qBAERzC,KAAM,CACJ8D,SAAU,WACVf,QAAS,eAEX3C,QAAS,CACPuC,MAAO,MACPC,OAAQ,OACRC,OAAQ,UAEV/C,QAAS,mCAEXiE,WAAY,CACVnE,MAAO,CACL0B,IAAK,YACLmB,KAAM,cAERzC,KAAM,CACJC,KAAM,OACN+D,MAAO,QACPC,gBAAiB,oBAEnB7D,QAAS,CACPuC,MAAO,MACPC,OAAQ,OACRC,OAAQ,WAGZqB,UAAW,CACTtE,MAAO,CACL0B,IAAK,WACLmB,KAAM,aAERzC,KAAM,CACJC,KAAM,OACNC,MAAO,QACPC,SAAU,WACVgE,QAAS,WAEX/D,QAAS,CACPuC,MAAO,MACPC,OAAQ,OACRC,OAAQ,UAEV/C,QAAS,4BAEXsE,KAAM,CACJC,gBAAiB,sCAEnBC,eAAgB,CACdlE,QAAS,CACPmE,UAAW,QAGfC,mBAAoB,CAClBC,YAAa,UAEfC,QAAS,CACP7E,OAAQ,CACNmB,QAAS,4CAEX2D,aAAc,CACZ5B,QAAS,gBAEX6B,KAAM,CACJC,KAAM,CAAEjF,MAAO,SACfkB,OAAQ,CAAElB,MAAO,YACjBkF,OAAQ,CAAElF,MAAO,WAEnBkF,OAAQ,CACNL,YAAa,gCAEfrE,QAAS,CACP2E,QAAS,QAGbC,oBAAqB,CACnBpF,MAAO,kBACPqF,WAAY,2BACZC,gBAAiB,oBACjBC,sBAAuB,wBACvBC,UAAW,+BACXhF,QAAS,CACPiF,GAAI,WACJxC,OAAQ,WAGZyC,YAAa,CACXC,cAAe,QACfC,eAAgB,aAChBC,eAAgB,gBAChBC,iBAAkB,oDAClBtF,QAAS,CACPuF,OAAQ,WAGZC,eAAgB,CACdhG,MAAO,gBACPqF,WAAY,+BACZ3D,IAAK,MACLlB,QAAS,CACPiF,GAAI,OACJxC,OAAQ,WAGZgD,WAAY,CACVC,UAAW,CACTrF,UAAW,YACXM,YAAa,cACb2D,QAAS,UACT1B,SAAU,WACV+C,aAAc,gBACdC,OAAQ,SACRC,eAAgB,iBAChBC,MAAO,QACPC,SAAU,YAEZC,OAAQ,CACNC,KAAM,CACJlC,QAAS,UACTmC,OAAQ,YAIdC,cAAe,CACbC,UAAW,qBAEbR,OAAQ,CACNpG,MAAO,SACPqC,MAAO,CACLhC,KAAM,OACN+D,MAAO,QACPyC,SAAU,mBACVnE,QAAS,WAEXlC,QAAS,CACPkB,IAAK,aAEPL,kBAAmB,CACjBC,YAAa,SACbC,cACE,wHAGNuF,YAAa,CACXC,WAAY,UAEdZ,aAAc,CACZnG,MAAO,gBACPqC,MAAO,CACL6B,SAAU,WACVf,QAAS,cACTT,QAAS,WAEXlC,QAAS,CACPkB,IAAK,mBAEPzB,OAAQ,CACNmB,QAAS,qCAEXiC,kBAAmB,YACnBhC,kBAAmB,CACjBC,YAAa,qDACbC,cAAe,kCAGnB+E,MAAO,CACLtG,MAAO,QACPqC,MAAO,CACLhC,KAAM,OACNC,MAAO,QACPiE,QAAS,UACT7B,QAAS,WAEXlC,QAAS,CACPkB,IAAK,YAEPzB,OAAQ,CACNmB,QAAS,6BAEXC,kBAAmB,CACjBC,YAAa,SACbC,cACE,4EAGNgF,SAAU,CACRrG,QAAS,+BACTF,MAAO,WACPuG,SAAU,CACRS,aAAc,CACZ3G,KAAM,gBACN4G,QAAS,CACPC,QAAS,UACTC,SAAU,eAKlBK,aAAc,CACZC,OAAQ,CACNC,WAAY,eACZlH,QAAS,CACPmH,OAAQ,SACRC,QAAS,UACTC,OAAQ,SACR9B,OAAQ,YAId+B,cAAe,CACbC,gBAAiB,sEACjBC,kBAAmB,kDACnBC,YAAa,QAEfC,cAAe,CACbT,OAAQ,kBACRjH,QAAS,CACPqC,KAAM,gBAERe,UAAW,qBAEbuE,kBAAmB,CACjBC,OAAQ,SACRC,SAAU,WACVhH,kBAAmB,CACjBrB,MAAO,kBACPmK,UAAW,gBACXhH,QAAS,0DAEX3C,QAAS,CACP4H,OAAQ,SACRnF,OAAQ,WAGZ5B,kBAAmB,CACjBb,QAAS,CACP8H,QAAS,KACTrF,OAAQ,WAGZsF,mBAAoB,CAClBH,OAAQ,SACRI,MAAO,QACPnH,kBAAmB,CACjBrB,MAAO,kBACPmD,QAAS,oCAGbsF,cAAe,CACbC,sBACE,yDACFC,sBACE,qDACFC,yBACE,oEACFC,uBACE,4DACFC,yBAA0B,uCAC1BC,wBACE,kEACFC,wBAAyB,0CACzBC,qBACE,0DACFC,oBAAqB,yCACrBC,sBACE,mDACFC,oBAAqB,iCACrBC,2BACE,+CACFC,kBAAmB,qDACnBC,uBAAwB,6CACxBC,qBAAsB,iCACtBC,qBAAsB,iCACtBC,oBAAqB,gCACrBC,kBAAmB,8BACnBC,kBAAmB,kCACnBC,qBAAsB,4CACtBC,oBAAqB,2CACrBC,mBACE,+DACFC,+BACE,kDACFC,2BACE,qECtcO,CACfG,GAAI,CACFtK,aAAc,CACZC,OAAQ,CACNC,MAAO,WACPC,OAAQ,CACNC,QACE,gFACFC,KAAM,yDAERC,KAAM,CACJC,KAAM,SACNC,MAAO,wBACPC,SAAU,iBAEZC,QAAS,CACPC,OAAQ,gBACRC,MAAO,oDAGXA,MAAO,CACLV,MAAO,sBACPI,KAAM,CACJE,MAAO,wBACPC,SAAU,iBAEZC,QAAS,CACPC,OAAQ,UACRE,SAAU,6CAGdC,KAAM,CACJX,OAAQ,CACNC,QAAS,qCAGbW,UAAW,CACTC,OAAQ,CACNC,OAAQ,CACNf,MAAO,kBAGXJ,SAAU,CACRoB,aAAc,CACZhB,MAAO,eAETiB,QAAS,CACPjB,MAAO,aAETkB,OAAQ,CACNlB,MAAO,gBAIbmB,YAAa,CACXnB,MAAO,aACPC,OAAQ,CACNmB,QACE,sEAEJC,kBAAmB,CACjBC,YAAa,SACbC,cAAe,4DACfC,gBAAiB,cACjBC,kBAAmB,4DAErBjB,QAAS,CACPkB,IAAK,kBACLC,WAAY,cACZC,SAAU,wBACVC,OAAQ,UACRC,MAAO,gBACPC,WAAY,cAEdC,SAAU,CACRC,aAAc,CACZjC,MAAO,8CACPkC,QACE,kIAEJL,OAAQ,CACN7B,MAAO,wCACPkC,QACE,sHAEJC,UAAW,CACTnC,MAAO,2BAEToC,QAAS,CACPpC,MAAO,yDACPkC,QACE,wLAGNG,MAAO,CACLhC,KAAM,SACNiC,OAAQ,SACRC,WAAY,6BACZC,QAAS,cACTE,QAAS,WACTC,QAAS,cAGbC,cAAe,CACb5C,MAAO,CACL0B,IAAK,kBACLmB,KAAM,kBAERzC,KAAM,CACJC,KAAM,SACNmC,QAAS,eAEXhC,QAAS,CACPuC,MAAO,UACPC,OAAQ,UACRC,OAAQ,YAEV/C,QAAS,yCAEXgD,OAAQ,CACNC,QAAS,qDAEXC,SAAU,CACRpD,MAAO,YACPC,OAAQ,CACNmB,QAAS,4CAEXiC,kBAAmB,YACnBhC,kBAAmB,CACjBC,YAAa,SACbgC,aAAc,qBACd/B,cACE,sGACFgC,cACE,kEAEJ/C,QAAS,CACPgD,OAAQ,qBACR9B,IAAK,oBAEPW,MAAO,CACLhC,KAAM,SACNoD,SAAU,WACVnD,MAAO,wBACPoC,QAAS,aAGbgB,aAAc,CACZ1D,MAAO,CACL0B,IAAK,mBACLmB,KAAM,mBAERzC,KAAM,CACJuD,SAAU,wBACVC,UAAW,2BACXvD,KAAM,SACNwD,OAAQ,wBACRvD,MAAO,wBACPwD,UAAW,mBACXC,WAAY,SAEdvD,QAAS,CACPwD,aAAc,yBACdjB,MAAO,UACPC,OAAQ,UACRC,OAAQ,YAEV/C,QAAS,yCAEX+D,kBAAmB,CACjBjE,MAAO,CACL0B,IAAK,8BACLmB,KAAM,8BAERzC,KAAM,CACJ8D,SAAU,QACVf,QAAS,uBAEX3C,QAAS,CACPuC,MAAO,UACPC,OAAQ,UACRC,OAAQ,YAEV/C,QAAS,+CAEXiE,WAAY,CACVnE,MAAO,CACL0B,IAAK,eACLmB,KAAM,eAERzC,KAAM,CACJC,KAAM,SACN+D,MAAO,QACPC,gBAAiB,qBAEnB7D,QAAS,CACPuC,MAAO,YACPC,OAAQ,UACRC,OAAQ,aAGZqB,UAAW,CACTtE,MAAO,CACL0B,IAAK,kBACLmB,KAAM,kBAERzC,KAAM,CACJC,KAAM,SACNC,MAAO,wBACPC,SAAU,gBACVgE,QAAS,UAEX/D,QAAS,CACPuC,MAAO,UACPC,OAAQ,UACRC,OAAQ,YAEV/C,QAAS,wCAEXsE,KAAM,CACJC,gBAAiB,gDAEnBC,eAAgB,CACdlE,QAAS,CACPmE,UAAW,UAGfC,mBAAoB,CAClBC,YAAa,UAEfC,QAAS,CACP7E,OAAQ,CACNmB,QAAS,gDAEX2D,aAAc,CACZ5B,QAAS,cAEX6B,KAAM,CACJC,KAAM,CAAEjF,MAAO,WACfkB,OAAQ,CAAElB,MAAO,aACjBkF,OAAQ,CAAElF,MAAO,WAEnBkF,OAAQ,CACNL,YAAa,8BAEfrE,QAAS,CACP2E,QAAS,UAGbC,oBAAqB,CACnBpF,MAAO,oBACPqF,WAAY,+BACZC,gBAAiB,uBACjBC,sBAAuB,sBACvBC,UAAW,4CACXhF,QAAS,CACPiF,GAAI,aACJxC,OAAQ,aAGZyC,YAAa,CACXC,cAAe,OACfC,eAAgB,gBAChBC,eAAgB,mBAChBC,iBACE,wEACFtF,QAAS,CACPuF,OAAQ,aAGZC,eAAgB,CACdhG,MAAO,eACPqF,WAAY,kCACZ3D,IAAK,YACLlB,QAAS,CACPiF,GAAI,UACJxC,OAAQ,aAGZgD,WAAY,CACVC,UAAW,CACTrF,UAAW,YACXM,YAAa,aACb2D,QAAS,UACT1B,SAAU,YACV+C,aAAc,wBACdC,OAAQ,SACRC,eAAgB,oBAChBC,MAAO,WACPC,SAAU,oBAEZC,OAAQ,CACNC,KAAM,CACJlC,QAAS,SACTmC,OAAQ,sBAIdC,cAAe,CACbC,UAAW,uBAEbR,OAAQ,CACNpG,MAAO,SACPqC,MAAO,CACLhC,KAAM,SACN+D,MAAO,QACPyC,SAAU,oBACVnE,QAAS,kBAEXlC,QAAS,CACPkB,IAAK,gBAEPL,kBAAmB,CACjBC,YAAa,WACbC,cACE,+JAGNuF,YAAa,CACXC,WAAY,UAEdZ,aAAc,CACZnG,MAAO,wBACPqC,MAAO,CACL6B,SAAU,QACVf,QAAS,sBACTT,QAAS,YAEXlC,QAAS,CACPkB,IAAK,+BAEPzB,OAAQ,CACNmB,QAAS,+CAEXiC,kBAAmB,aACnBhC,kBAAmB,CACjBC,YACE,qEACFC,cAAe,yCAGnB+E,MAAO,CACLtG,MAAO,WACPqC,MAAO,CACLhC,KAAM,SACNC,MAAO,wBACPiE,QAAS,SACT7B,QAAS,YAEXlC,QAAS,CACPkB,IAAK,mBAEPzB,OAAQ,CACNmB,QAAS,uCAEXC,kBAAmB,CACjBC,YAAa,SACbC,cACE,oHAGNgF,SAAU,CACRrG,QAAS,gDACTF,MAAO,mBACPuG,SAAU,CACRS,aAAc,CACZ3G,KAAM,0BACN4G,QAAS,CACPC,QAAS,aACTC,SAAU,oBAKlBK,aAAc,CACZC,OAAQ,CACNC,WAAY,cACZlH,QAAS,CACPmH,OAAQ,WACRC,QAAS,WACTC,OAAQ,UACR9B,OAAQ,aAId+B,cAAe,CACbC,gBAAiB,wFACjBC,kBACE,8DACFC,YAAa,UAEfC,cAAe,CACbT,OAAQ,wBACRjH,QAAS,CACPqC,KAAM,mBAERe,UAAW,uBAEbuE,kBAAmB,CACjBC,OAAQ,SACRC,SAAU,aACVhH,kBAAmB,CACjBrB,MAAO,sBACPmK,UAAW,gBACXhH,QACE,qGAEJ3C,QAAS,CACP4H,OAAQ,SACRnF,OAAQ,aAGZ5B,kBAAmB,CACjBb,QAAS,CACP8H,QAAS,KACTrF,OAAQ,aAGZsF,mBAAoB,CAClBH,OAAQ,SACRI,MAAO,YACPnH,kBAAmB,CACjBrB,MAAO,sBACPmD,QAAS,2CAGbsF,cAAe,CACbC,sBACE,kEACFC,sBACE,mFACFC,yBACE,wGACFC,uBACE,sFACFC,yBAA0B,iDAC1BC,wBACE,yFACFC,wBAAyB,kDACzBC,qBACE,gFACFC,oBAAqB,4CACrBC,sBAAuB,+CACvBC,oBAAqB,wCACrBC,2BACE,qEACFC,kBAAmB,iDACnBC,uBAAwB,4CACxBC,qBACE,0DACFC,qBAAsB,oDACtBC,oBAAqB,kDACrBC,kBAAmB,mDACnBC,kBAAmB,0CACnBC,qBAAsB,iDACtBC,oBAAqB,gDACrBC,mBACE,0EACFC,+BACE,4CACFC,2BACE,0ECxcVI,IAAKC,IAAIC,KAAkBC,KAAK,CAC/BC,OAAO,EACPC,UAAW,CAAC,gBACZC,YAAa,KACbC,GAAI,CAAC,gBACLC,UAAWjL,K,yCCUGkL,GAjBI,SAAAC,GAAQ,IAAD,IACnBC,GAAuB,QAAZ,EAAAD,EAAIE,gBAAQ,OAAM,QAAN,EAAZ,EAAcC,YAAI,WAAN,EAAZ,EAAoB/H,UAAW4H,EAAIE,SAASC,KAAKC,MAC9DH,EACCX,IAAKe,OAAO,iBAAD,OAAkBJ,IAChCK,IAAMF,MAAMd,IAAKiB,EAAE,iBAAD,OAAkBN,IAAa,CAChDO,QAASP,IAGVK,IAAMF,MAAMH,EAAU,CACrBO,QAASP,IAIXK,IAAMF,MAAM,iC,UCTCK,G,QALHC,EAAMC,OAAO,CACxBC,QAASC,qCACTC,iBAAiB,I,cCHlB,mmGAAAC,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,sQAKA,IAAMC,GAAU,SAACC,EAAOC,GACvB,GAAoB,mBAAhBA,EAAOC,KAA2B,CACrC,IAAMC,EAAYF,EAAOG,QAEzB,OAAO,aAAID,GAGZ,GAAoB,qBAAhBF,EAAOC,KAA6B,CACvC,IAAMG,EAAWJ,EAAOG,QAClBE,EAAgBN,EAAMO,WAAU,SAAAC,GAAC,OAAIA,EAAEC,KAAOJ,EAASI,MAE7D,OAAuB,IAAnBH,GACHN,EAAMM,GAAiBD,EAChB,aAAIL,IAEL,CAAEK,GAAQ,oBAAKL,IAIvB,GAAoB,mBAAhBC,EAAOC,KAA2B,CACrC,IAAMG,EAAWJ,EAAOG,QAClBE,EAAgBN,EAAMO,WAAU,SAAAC,GAAC,OAAIA,EAAEC,KAAOJ,EAASI,MAE7D,OAAuB,IAAnBH,GACHN,EAAMM,GAAehK,OAAS+J,EAAS/J,OACvC0J,EAAMM,GAAeI,UAAYL,EAASK,UAC1CV,EAAMM,GAAezK,OAASwK,EAASxK,OACvCmK,EAAMM,GAAeK,QAAUN,EAASM,QACjC,aAAIX,IAEJ,aAAIA,GAIb,GAAoB,qBAAhBC,EAAOC,KAA6B,CACvC,IAAMU,EAAaX,EAAOG,QAEpBE,EAAgBN,EAAMO,WAAU,SAAAC,GAAC,OAAIA,EAAEC,KAAOG,KAIpD,OAHuB,IAAnBN,GACHN,EAAMa,OAAOP,EAAe,GAEtB,aAAIN,GAGZ,GAAoB,UAAhBC,EAAOC,KACV,MAAO,IAoDMY,GAhDM,WACpB,MAA8BC,qBAAWhB,GAAS,IAAG,mBAA9CI,EAAS,KAAEa,EAAQ,KAC1B,EAA8BC,oBAAS,GAAK,mBAArCC,EAAO,KAAEC,EAAU,KA2C1B,OAzCAC,qBAAU,WACTD,GAAW,GACO,yCAAG,gHAEI3B,GAAI6B,IAAI,cAAc,KAAD,WAApCnC,EAAI,EAAJA,KACR8B,EAAS,CAAEd,KAAM,iBAAkBE,QAASlB,IAC5CiC,GAAW,GAAO,gDAElBA,GAAW,GACXrC,GAAW,EAAD,IAAM,yDAEjB,kBATiB,kCAUlBwC,KACE,IAEHF,qBAAU,WACT,IAAMG,EAASC,KAAW5B,sCAoB1B,OAlBA2B,EAAOE,GAAG,YAAY,SAAAvC,GACD,WAAhBA,EAAKe,QACRe,EAAS,CAAEd,KAAM,mBAAoBE,QAASlB,EAAKzH,cAIrD8J,EAAOE,GAAG,YAAY,SAAAvC,GACD,WAAhBA,EAAKe,QACRe,EAAS,CAAEd,KAAM,mBAAoBE,QAASlB,EAAKwC,gBAIrDH,EAAOE,GAAG,mBAAmB,SAAAvC,GACR,WAAhBA,EAAKe,QACRe,EAAS,CAAEd,KAAM,iBAAkBE,QAASlB,EAAKvI,aAI5C,WACN4K,EAAO5L,gBAEN,IAEI,CAAEwK,YAAWe,YChGfS,GAAmBC,0BAEnBC,GAAoB,SAAH,GAAsB,IAAhBC,EAAQ,EAARA,SAC5B,EAA+BhB,KAAvBI,EAAO,EAAPA,QAASf,EAAS,EAATA,UAEjB,OACC,kBAACwB,GAAiBI,SAAQ,CAACC,MAAO,CAAE7B,YAAWe,YAC7CY,I,cCVJ,mmGAAAhC,GAAA,wBAAAA,EAAA,sBAAAA,GAAA,iBAAAA,GAAA,ssDAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,4bAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,yhBAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,qGAAAA,EAAA,yBAAAA,GAAA,IAAAA,EAAA,uBAAAA,GAAA,sQASA,IAsHemC,GAtHC,WACf,IAAMC,EAAUC,cAChB,EAA4BlB,oBAAS,GAAM,mBAApCmB,EAAM,KAAEC,EAAS,KACxB,EAA8BpB,oBAAS,GAAK,mBAArCC,EAAO,KAAEC,EAAU,KAC1B,EAAwBF,mBAAS,IAAG,mBAA7BxG,EAAI,KAAE6H,EAAO,KAEpB9C,GAAI+C,aAAaC,QAAQlE,KACxB,SAAAmE,GACC,IAAMC,EAAQC,aAAaC,QAAQ,SAKnC,OAJIF,IACHD,EAAOI,QAAuB,cAAC,iBAAaC,KAAKC,MAAML,IACvDL,GAAU,IAEJI,KAER,SAAAtD,GACC6D,QAAQC,OAAO9D,MAIjBK,GAAI+C,aAAatD,SAASX,KACzB,SAAAW,GACC,OAAOA,IACP,yCACD,WAAME,GAAK,gFAC2B,GAA/B+D,EAAkB/D,EAAMsD,OACE,OAAvB,OAALtD,QAAK,IAALA,GAAe,QAAV,EAALA,EAAOF,gBAAQ,WAAV,EAAL,EAAiB3I,SAAmB4M,EAAgBC,OAAM,gBAC/B,OAA9BD,EAAgBC,QAAS,EAAK,SAEP3D,GAAI4D,KAAK,uBAAuB,KAAD,EAIrD,OAJqD,UAA9ClE,EAAI,EAAJA,QAEPyD,aAAaU,QAAQ,QAASP,KAAKQ,UAAUpE,EAAKwD,QAClDlD,GAAI+D,SAASV,QAAQW,cAAa,iBAAatE,EAAKwD,QACpD,kBACMlD,GAAI0D,IAAgB,OAM3B,OAJ+B,OAAvB,OAAL/D,QAAK,IAALA,GAAe,QAAV,EAALA,EAAOF,gBAAQ,WAAV,EAAL,EAAiB3I,UACpBqM,aAAac,WAAW,SACxBjE,GAAI+D,SAASV,QAAQW,mBAAgBE,EACrCrB,GAAU,IACV,kBACMW,QAAQC,OAAO9D,IAAM,4CAC5B,mDAnBA,IAsBFiC,qBAAU,WACT,IAAMsB,EAAQC,aAAaC,QAAQ,SACnC,wBAAC,2FACIF,EAAM,CAAD,yCAEgBlD,GAAI4D,KAAK,uBAAuB,KAAD,WAA9ClE,EAAI,EAAJA,KACRM,GAAI+D,SAASV,QAAQW,cAAa,iBAAatE,EAAKwD,OACpDL,GAAU,GACVC,EAAQpD,EAAKzE,MAAM,kDAEnBqE,GAAW,EAAD,IAAM,QAGlBqC,GAAW,GAAO,yDAXnB,KAaE,IAEHC,qBAAU,WACT,IAAMG,EAASC,KAAW5B,sCAQ1B,OANA2B,EAAOE,GAAG,QAAQ,SAAAvC,GACG,WAAhBA,EAAKe,QAAuBf,EAAKzE,KAAKgG,KAAOhG,EAAKgG,IACrD6B,EAAQpD,EAAKzE,SAIR,WACN8G,EAAO5L,gBAEN,CAAC8E,IAyCJ,MAAO,CAAE2H,SAAQ3H,OAAMyG,UAASyC,YAvCf,yCAAG,WAAMC,GAAQ,0EAChB,OAAjBzC,GAAW,GAAM,kBAGO3B,GAAI4D,KAAK,cAAeQ,GAAU,KAAD,WAAhD1E,EAAI,EAAJA,KACRyD,aAAaU,QAAQ,QAASP,KAAKQ,UAAUpE,EAAKwD,QAClDlD,GAAI+D,SAASV,QAAQW,cAAa,iBAAatE,EAAKwD,OACpDJ,EAAQpD,EAAKzE,MACb4H,GAAU,GACVhD,IAAMnL,QAAQmK,IAAKiB,EAAE,wBACrB4C,EAAQ2B,KAAK,YACb1C,GAAW,GAAO,kDAElBrC,GAAW,EAAD,IACVqC,GAAW,GAAO,0DAEnB,gBAhBgB,sCAuC4B2C,aArB3B,yCAAG,+EACH,OAAjB3C,GAAW,GAAM,kBAGV3B,GAAIpD,OAAO,gBAAgB,KAAD,EAChCiG,GAAU,GACVC,EAAQ,IACRK,aAAac,WAAW,SACxBjE,GAAI+D,SAASV,QAAQW,mBAAgBE,EACrCvC,GAAW,GACXe,EAAQ2B,KAAK,UAAU,kDAEvB/E,GAAW,EAAD,IACVqC,GAAW,GAAO,0DAEnB,kBAfiB,mCAqByC4C,YAJvC,WACnB,MAAuB,SAAhBtJ,EAAKlC,WCtHRyL,GAAcpC,0BAEdqC,GAAe,SAAH,GAAsB,IAAhBnC,EAAQ,EAARA,SACvB,EAA0EG,KAAlEf,EAAO,EAAPA,QAASzG,EAAI,EAAJA,KAAM2H,EAAM,EAANA,OAAQuB,EAAW,EAAXA,YAAaG,EAAY,EAAZA,aAAcC,EAAW,EAAXA,YAE1D,OACC,kBAACC,GAAYjC,SAAQ,CACpBC,MAAO,CAAEd,UAASzG,OAAM2H,SAAQuB,cAAaG,eAAcC,gBAE1DjC,ICYWoC,GAzBD,CACbzJ,KAAM,CACL0J,OAAQ,IAGTC,MAAO,CACND,OAAQ,CACP,0BACA,0BACA,+BACA,yBACA,wBACA,8BACA,gCAIFE,OAAQ,CACPF,OAAQ,CACP,2BACA,6BCUGG,GAAM,SAAH,OAAMC,EAAI,EAAJA,KAAMC,EAAO,EAAPA,QAAStF,EAAI,EAAJA,KAAMuF,EAAG,EAAHA,IAAKC,EAAE,EAAFA,GAAE,OA5B7B,SAACH,EAAMtE,EAAQf,GAC5B,IAAMyF,EAAcT,GAAMK,GAC1B,IAAKI,EAEJ,OAAO,EAGR,IAAMC,EAAoBD,EAAYR,OAEtC,GAAIS,GAAqBA,EAAkBC,SAAS5E,GAEnD,OAAO,EAGR,IAAM6E,EAAqBH,EAAYI,QAEvC,GAAID,EAAoB,CACvB,IAAME,EAAsBF,EAAmB7E,GAC/C,QAAK+E,GAKEA,EAAoB9F,GAE5B,OAAO,EAIP+F,CAAMV,EAAMC,EAAStF,GAAQuF,IAAQC,KCRtC,SAASQ,GAAaC,GACpB,IAAQC,EAAiCD,EAAjCC,KAAMC,EAA2BF,EAA3BE,QAASC,EAAkBH,EAAlBG,GAAIC,EAAcJ,EAAdI,UAErBC,EAAaC,IAAMC,SACvB,kBACED,IAAME,YAAW,SAACC,EAAWC,GAAG,OAC9B,kBAAC,IAAU,eAACP,GAAIA,EAAIO,IAAKA,GAASD,SAEtC,CAACN,IAGH,OACE,4BACE,kBAACQ,EAAA,EAAQ,CAACC,QAAM,EAACC,UAAWR,EAAYD,UAAWA,GAChDH,EAAO,kBAACa,EAAA,EAAY,KAAEb,GAAuB,KAC9C,kBAACc,EAAA,EAAY,CAACb,QAASA,MDL/Bf,GAAI6B,aAAe,CAClB1B,IAAK,kBAAM,MACXC,GAAI,kBAAM,OCSX,IAkGe0B,GAlGO,SAACjB,GACrB,IAAQkB,EAAgBlB,EAAhBkB,YACAlG,EAAcmG,qBAAW3E,IAAzBxB,UACA1F,EAAS6L,qBAAWtC,IAApBvJ,KACR,EAAkDwG,oBAAS,GAAM,mBAA1DsF,EAAiB,KAAEC,EAAoB,KAwB9C,OAtBApF,qBAAU,WACR,IAAMqF,EAAkBC,YAAW,WAC7BvG,EAAUwG,OAAS,IACAxG,EAAUyG,QAAO,SAACC,GACrC,MACmB,WAAjBA,EAAMvQ,QACW,YAAjBuQ,EAAMvQ,QACW,iBAAjBuQ,EAAMvQ,QACW,YAAjBuQ,EAAMvQ,QACW,YAAjBuQ,EAAMvQ,UAGOqQ,OAAS,EACxBH,GAAqB,GAErBA,GAAqB,MAGxB,KACH,OAAO,kBAAMM,aAAaL,MACzB,CAACtG,IAGF,yBAAK4G,QAASV,GAEZ,kBAACnB,GAAY,CACXI,GAAG,WACHD,QAAShH,IAAKiB,EAAE,gCAChB8F,KAAM,kBAAC,IAAY,QAGrB,kBAACF,GAAY,CACXI,GAAG,YACHD,QAAShH,IAAKiB,EAAE,iCAChB8F,KAAM,kBAAC,IAAwB,QAEjC,kBAACd,GAAG,CACFC,KAAM9J,EAAKlC,QACXiM,QAAQ,0BACRC,IAAK,kBACH,kBAACS,GAAY,CACXI,GAAG,gBACHD,QAAShH,IAAKiB,EAAE,qCAChB8F,KAAM,kBAAC,IAA0B,WAIvC,kBAACd,GAAG,CACFC,KAAM9J,EAAKlC,QACXiM,QAAQ,0BACRC,IAAK,kBACH,oCACE,kBAACuC,EAAA,EAAO,MACR,kBAACC,EAAA,EAAa,CAACC,OAAK,GACjB7I,IAAKiB,EAAE,wCAEV,kBAAC4F,GAAY,CACXI,GAAG,IACHD,QAAQ,YACRD,KAAM,kBAAC,IAAqB,QAE9B,kBAACF,GAAY,CACXI,GAAG,eACHD,QAAShH,IAAKiB,EAAE,oCAChB8F,KACE,kBAAC+B,EAAA,EAAK,CAACC,aAAcb,EAAoB,IAAM,EAAGnO,MAAM,SACtD,kBAAC,IAAW,SAIlB,kBAAC8M,GAAY,CACXI,GAAG,SACHD,QAAShH,IAAKiB,EAAE,8BAChB8F,KAAM,kBAAC,IAAqB,QAE9B,kBAACF,GAAY,CACXI,GAAG,UACHD,QAAShH,IAAKiB,EAAE,+BAChB8F,KAAM,kBAAC,IAAuB,QAEhC,kBAACF,GAAY,CACXI,GAAG,YACHD,QAAShH,IAAKiB,EAAE,iCAChB8F,KAAM,kBAAC,IAAoB,c,kLC/HnCiC,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtCxB,OAAQ,CACPyB,SAAU,YAGXC,eAAgB,CACfrP,MAAOsP,KAAM,KACbF,SAAU,WACVG,IAAK,MACLC,KAAM,MACNC,WAAY,GACZC,YAAa,QAiBAC,GAbW,SAAH,GAAwC,IAAlC7G,EAAO,EAAPA,QAASY,EAAQ,EAARA,SAAakG,EAAI,mBAChDC,EAAUZ,KAEhB,OACC,kBAACa,GAAA,EAAM,eAAC3C,UAAW0C,EAAQlC,OAAQ5K,SAAU+F,GAAa8G,GACxDlG,EACAZ,GACA,kBAACiH,GAAA,EAAgB,CAACC,KAAM,GAAI7C,UAAW0C,EAAQR,mB,0BCzB7CY,GAAW,CAChB,IACA,OACA,UACA,OACA,UACA,QACA,QACA,IACA,OACA,MACA,MACA,MACA,aACA,OACA,KACA,SACA,SACA,UACA,OACA,OACA,MACA,WACA,OACA,WACA,KACA,MACA,UACA,MACA,SACA,MACA,KACA,KACA,KACA,QACA,WACA,aACA,SACA,SACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,SACA,SACA,KACA,OACA,IACA,SACA,MACA,QACA,MACA,MACA,SACA,QACA,SACA,KACA,OACA,OACA,MACA,OACA,UACA,OACA,WACA,OACA,QACA,MACA,WACA,SACA,KACA,WACA,SACA,SACA,IACA,QACA,UACA,MACA,WACA,IACA,KACA,KACA,OACA,IACA,OACA,SACA,UACA,SACA,QACA,SACA,OACA,SACA,QACA,MACA,UACA,MACA,QACA,QACA,KACA,WACA,QACA,KACA,QACA,OACA,QACA,KACA,QACA,IACA,KACA,MACA,QACA,MAGA,SACA,WACA,OACA,UACA,gBACA,IACA,QACA,OACA,iBACA,SACA,OACA,OACA,UACA,UACA,WACA,iBACA,OACA,OACA,MACA,OACA,SAGKC,GAAkB,CAAC,IAAK,IAAK,SAAU,KAAM,IAAK,OAAQ,OAE1DC,GAAa,SAAH,OAAMzG,EAAQ,EAARA,SAAaqD,EAAK,0BACvC,uCAAOA,EAAK,CAAEqD,OAAO,SAASC,IAAI,wBAChC3G,IA6CY4G,GAzCS,SAAH,GAAsB,IAAhB5G,EAAQ,EAARA,SACpB6G,EAAY,aACZC,EAAa,WAEhB9G,GAAYA,EAAS+C,SAAS,iBAEhC/C,EAAW,MAETA,GAAYA,EAAS+C,SAAS,iBAChC/C,EAAW,MAERA,GAAY6G,EAAUE,KAAK/G,KAC9BA,EAAWA,EAASgH,QAAQH,EAAW,WAEpC7G,GAAY8G,EAAWC,KAAK/G,KAC/BA,EAAWA,EAASgH,QAAQF,EAAY,WAGzC,IAAM3N,EAAUwK,IAAMC,SAAQ,WAC7B,IAAMqD,EAAkB,CACvBC,uBAAuB,EACvBC,aAAa,EACbC,UAAW,CACVC,EAAG,CAAEnD,UAAWuC,MAUlB,OANAF,GAASe,SAAQ,SAAAC,GACXf,GAAgBzD,SAASwE,KAC7BN,E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A,UACA,SACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UAEA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAwBQvrB,SAlBe,SAACzb,GACpB6mC,EAAiB7mC,EAAMinC,KACvBrpB,KAiBIspB,iBAAkB,SAAClnC,GAAK,OAAKyb,EAASzb,EAAMinC,U,wBCjOpD,26MAuBA,IAAMh4B,GAAYC,aAAW,SAAAC,GAAK,MAAK,CACtCsN,KAAM,CACLlL,QAAS,OACT8J,SAAU,QAEX6J,UAAW,CACV3S,YAAapD,EAAMwI,QAAQ,GAC3B3E,KAAM,GAGP2J,WAAY,CACXvN,SAAU,YAGXC,eAAgB,CACfrP,MAAOsP,KAAM,KACbF,SAAU,WACVG,IAAK,MACLC,KAAM,MACNC,WAAY,GACZC,YAAa,IAEdkN,YAAa,CACZnL,OAAQtC,EAAMwI,QAAQ,GACtBkF,SAAU,KAEXsqB,cAAe,CACdl0B,MAAO,GACPzB,OAAQ,QAIJ41B,GAAcrqB,OAAaC,MAAM,CACtC/gB,KAAM8gB,OACJE,IAAI,EAAG,cACPC,IAAI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","file":"static/js/main.34552751.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/sound.8e65b979.mp3\";","module.exports = __webpack_public_path__ + \"static/media/wa-background.adbccee0.png\";","module.exports = __webpack_public_path__ + \"static/media/logo.7d249758.png\";","import { messages as portugueseMessages } from \"./pt\";\nimport { messages as englishMessages } from \"./en\";\nimport { messages as spanishMessages } from \"./es\";\n\nconst messages = {\n\t...portugueseMessages,\n\t...englishMessages,\n\t...spanishMessages,\n};\n\nexport { messages };\n","const messages = {\n  pt: {\n    translations: {\n      signup: {\n        title: \"Cadastre-se\",\n        toasts: {\n          success: \"Usurio criado com sucesso! Faa seu login!!!.\",\n          fail: \"Erro ao criar usurio. Verifique os dados informados.\",\n        },\n        form: {\n          name: \"Nome\",\n          email: \"Email\",\n          password: \"Senha\",\n        },\n        buttons: {\n          submit: \"Cadastrar\",\n          login: \"J tem uma conta? Entre!\",\n        },\n      },\n      login: {\n        title: \"Login\",\n        form: {\n          email: \"Email\",\n          password: \"Senha\",\n        },\n        buttons: {\n          submit: \"Entrar\",\n          register: \"No tem um conta? Cadastre-se!\",\n        },\n      },\n      auth: {\n        toasts: {\n          success: \"Login efetuado com sucesso!\",\n        },\n      },\n      dashboard: {\n        charts: {\n          perDay: {\n            title: \"Conversas hoje: \",\n          },\n        },\n        messages: {\n          inAttendance: {\n            title: \"Em Atendimento\"\n          },\n          waiting: {\n            title: \"Aguardando\"\n          },\n          closed: {\n            title: \"Finalizado\"\n          }\n        }\n      },\n      connections: {\n        title: \"Conexes\",\n        toasts: {\n          deleted: \"Conexo com o WhatsApp excluda com sucesso!\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Deletar\",\n          deleteMessage: \"Voc tem certeza? Essa ao no pode ser revertida.\",\n          disconnectTitle: \"Desconectar\",\n          disconnectMessage:\n            \"Tem certeza? Voc precisar ler o QR Code novamente.\",\n        },\n        buttons: {\n          add: \"Adicionar WhatsApp\",\n          disconnect: \"desconectar\",\n          tryAgain: \"Tentar novamente\",\n          qrcode: \"QR CODE\",\n          newQr: \"Novo QR CODE\",\n          connecting: \"Conectando\",\n        },\n        toolTips: {\n          disconnected: {\n            title: \"Falha ao iniciar sesso do WhatsApp\",\n            content:\n              \"Certifique-se de que seu celular esteja conectado  internet e tente novamente, ou solicite um novo QR Code\",\n          },\n          qrcode: {\n            title: \"Esperando leitura do QR Code\",\n            content:\n              \"Clique no boto 'QR CODE' e leia o QR Code com o seu celular para iniciar a sesso\",\n          },\n          connected: {\n            title: \"Conexo estabelecida!\",\n          },\n          timeout: {\n            title: \"A conexo com o celular foi perdida\",\n            content:\n              \"Certifique-se de que seu celular esteja conectado  internet e o WhatsApp esteja aberto, ou clique no boto 'Desconectar' para obter um novo QR Code\",\n          },\n        },\n        table: {\n          name: \"Nome\",\n          status: \"Status\",\n          lastUpdate: \"ltima atualizao\",\n          default: \"Padro\",\n          battery: \"Bateria\",\n          actions: \"Aes\",\n          session: \"Sesso\",\n        },\n      },\n      whatsappModal: {\n        title: {\n          add: \"Adicionar WhatsApp\",\n          edit: \"Editar WhatsApp\",\n        },\n        form: {\n          name: \"Nome\",\n          default: \"Padro\",\n          farewellMessage: \"Mensagem de despedida\"\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"WhatsApp salvo com sucesso.\",\n      },\n      qrCode: {\n        message: \"Leia o QrCode para iniciar a sesso\",\n      },\n      contacts: {\n        title: \"Contatos\",\n        toasts: {\n          deleted: \"Contato excludo com sucesso!\",\n        },\n        searchPlaceholder: \"Pesquisar...\",\n        confirmationModal: {\n          deleteTitle: \"Deletar \",\n          importTitlte: \"Importar contatos\",\n          deleteMessage:\n            \"Tem certeza que deseja deletar este contato? Todos as conversas relacionados sero perdidos.\",\n          importMessage: \"Deseja importas todos os contatos do telefone?\",\n        },\n        buttons: {\n          import: \"Importar Contatos\",\n          add: \"Adicionar Contato\",\n        },\n        table: {\n          name: \"Nome\",\n          whatsapp: \"WhatsApp\",\n          email: \"Email\",\n          actions: \"Aes\",\n        },\n      },\n      contactModal: {\n        title: {\n          add: \"Adicionar contato\",\n          edit: \"Editar contato\",\n        },\n        form: {\n          mainInfo: \"Dados do contato\",\n          extraInfo: \"Informaes adicionais\",\n          name: \"Nome\",\n          number: \"Nmero do Whatsapp\",\n          email: \"Email\",\n          extraName: \"Nome do campo\",\n          extraValue: \"Valor\",\n        },\n        buttons: {\n          addExtraInfo: \"Adicionar informao\",\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Contato salvo com sucesso.\",\n      },\n      quickAnswersModal: {\n        title: {\n          add: \"Adicionar Resposta Rpida\",\n          edit: \"Editar Resposta Rpida\",\n        },\n        form: {\n          shortcut: \"Atalho\",\n          message: \"Resposta Rpida\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Resposta Rpida salva com sucesso.\",\n      },\n      queueModal: {\n        title: {\n          add: \"Adicionar fila\",\n          edit: \"Editar fila\",\n        },\n        form: {\n          name: \"Nome\",\n          color: \"Cor\",\n          greetingMessage: \"Mensagem de saudao\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      userModal: {\n        title: {\n          add: \"Adicionar usurio\",\n          edit: \"Editar usurio\",\n        },\n        form: {\n          name: \"Nome\",\n          email: \"Email\",\n          password: \"Senha\",\n          profile: \"Perfil\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Usurio salvo com sucesso.\",\n      },\n      chat: {\n        noTicketMessage: \"Selecione um contato para comear a conversar.\",\n      },\n      ticketsManager: {\n        buttons: {\n          newTicket: \"Nova Conversa\",\n        },\n      },\n      ticketsQueueSelect: {\n        placeholder: \"Filas\",\n      },\n      tickets: {\n        toasts: {\n          deleted: \"A conversa que voc estava foi deletado.\",\n        },\n        notification: {\n          message: \"Mensagem de\",\n        },\n        tabs: {\n          open: { title: \"Conversas\" },\n          closed: { title: \"Encerradas\" },\n          search: { title: \"Buscar\" },\n        },\n        search: {\n          placeholder: \"Buscar conversas/mensagens\",\n        },\n        buttons: {\n          showAll: \"Todos\",\n        },\n      },\n      transferTicketModal: {\n        title: \"Transferir Conversa\",\n        fieldLabel: \"Digite para buscar usurios\",\n        fieldQueueLabel: \"Transferir para fila\",\n        fieldQueuePlaceholder: \"Selecione uma fila\",\n        noOptions: \"Nenhum usurio encontrado com esse nome\",\n        buttons: {\n          ok: \"Transferir\",\n          cancel: \"Cancelar\",\n        },\n      },\n      ticketsList: {\n        pendingHeader: \"Aguardando\",\n        assignedHeader: \"Conversas abertas\",\n        noTicketsTitle: \"Nenhuma conversa\",\n        noTicketsMessage:\n          \"Nenhuma conversa encontrada com esse status ou termo pesquisado.\",\n        buttons: {\n          accept: \"Responder\",\n        },\n      },\n      newTicketModal: {\n        title: \"Nova Conversa\",\n        fieldLabel: \"Digite para pesquisar o contato\",\n        add: \"Adicionar\",\n        buttons: {\n          ok: \"Iniciar conversa\",\n          cancel: \"Cancelar\",\n        },\n      },\n      mainDrawer: {\n        listItems: {\n          dashboard: \"Dashboard\",\n          connections: \"Conexes\",\n          tickets: \"Conversas\",\n          contacts: \"Contatos\",\n          quickAnswers: \"Respostas Rpidas\",\n          queues: \"Filas\",\n          administration: \"Administrao\",\n          users: \"Usurios\",\n          settings: \"Configuraes\",\n        },\n        appBar: {\n          user: {\n            profile: \"Perfil\",\n            logout: \"Sair\",\n          },\n        },\n      },\n      notifications: {\n        noTickets: \"Nenhuma notificao.\",\n      },\n      queues: {\n        title: \"Filas\",\n        table: {\n          name: \"Nome\",\n          color: \"Cor\",\n          greeting: \"Mensagem de saudao\",\n          actions: \"Aes\",\n        },\n        buttons: {\n          add: \"Adicionar fila\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage:\n            \"Voc tem certeza? Essa ao no pode ser revertida! Os conversas dessa fila continuaro existindo, mas no tero mais nenhuma fila atribuda.\",\n        },\n      },\n      queueSelect: {\n        inputLabel: \"Filas\",\n      },\n      quickAnswers: {\n        title: \"Respostas Rpidas\",\n        table: {\n          shortcut: \"Atalho\",\n          message: \"Resposta Rpida\",\n          actions: \"Aes\",\n        },\n        buttons: {\n          add: \"Adicionar Resposta Rpida\",\n        },\n        toasts: {\n          deleted: \"Resposta Rpida excluda com sucesso.\",\n        },\n        searchPlaceholder: \"Pesquisar...\",\n        confirmationModal: {\n          deleteTitle:\n            \"Voc tem certeza que quer excluir esta Resposta Rpida: \",\n          deleteMessage: \"Esta ao no pode ser revertida.\",\n        },\n      },\n      users: {\n        title: \"Usurios\",\n        table: {\n          name: \"Nome\",\n          email: \"Email\",\n          profile: \"Perfil\",\n          actions: \"Aes\",\n        },\n        buttons: {\n          add: \"Adicionar usurio\",\n        },\n        toasts: {\n          deleted: \"Usurio excludo com sucesso.\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage:\n            \"Todos os dados do usurio sero perdidos. As conversas abertas deste usurio sero movidos para a fila.\",\n        },\n      },\n      settings: {\n        success: \"Configuraes salvas com sucesso.\",\n        title: \"Configuraes\",\n        settings: {\n          userCreation: {\n            name: \"Criao de usurio\",\n            options: {\n              enabled: \"Ativado\",\n              disabled: \"Desativado\",\n            },\n          },\n          timeCreateNewTicket: {\n            name: \"Mensagem de boas-vindas aps\",\n            note: \"Selecione o tempo que ser necessrio para abrir um novo ticket, caso o cliente entre em contatos novamente\",\n            options: {\n              \"10\": \"10 Segundos\",\n              \"30\": \"30 Segundos\",\n              \"60\": \"1 minuto\",\n              \"300\": \"5 minutos\",\n              \"1800\" : \"30 minutos\",\n              \"3600\" : \"1 hora\",\n              \"7200\" : \"2 horas\",\n              \"21600\" : \"6 horas\",\n              \"43200\" : \"12 horas\",\n              \"86400\" : \"24 horas\",\n              \"172800\" : \"48 horas\",\n            },\n          },  \n          call: {\n            name: \"Aceitar chamadas\",\n            options: {\n              enabled: \"Ativado\",\n              disabled: \"Desativado\",\n            },\n          },\n          CheckMsgIsGroup: {\n            name: \"Ignorar Mensagens de Grupos\",\n            options: {\n                enabled: \"Ativado\",\n                disabled: \"Desativado\",\n            },\n          },\n        },\n      },\n      messagesList: {\n        header: {\n          assignedTo: \"Pessoa Responsvel:\",\n          buttons: {\n            return: \"Retornar Conversa\",\n            resolve: \"Encerrar Conversa\",\n            reopen: \"Reabrir Conversa\",\n            accept: \"Aceitar Conversa\",\n          },\n        },\n      },\n      messagesInput: {\n        placeholderOpen: \"Digite uma mensagem ou tecle ''/'' para respostas rpidas\",\n        placeholderClosed:\n          \"Reabra ou aceite essa conversa para enviar uma mensagem.\",\n        signMessage: \"Assinar\",\n      },\n      contactDrawer: {\n        header: \"Dados do contato\",\n        buttons: {\n          edit: \"Editar contato\",\n        },\n        extraInfo: \"Outras informaes\",\n      },\n      ticketOptionsMenu: {\n        delete: \"Deletar\",\n        transfer: \"Transferir\",\n        confirmationModal: {\n          title: \"Deletar a conversa do contato\",\n          message:\n            \"Ateno! Todas as mensagens relacionadas ao contato sero perdidas.\",\n        },\n        buttons: {\n          delete: \"Excluir\",\n          cancel: \"Cancelar\",\n        },\n      },\n      confirmationModal: {\n        buttons: {\n          confirm: \"Ok\",\n          cancel: \"Cancelar\",\n        },\n      },\n      messageOptionsMenu: {\n        delete: \"Deletar\",\n        reply: \"Responder\",\n        confirmationModal: {\n          title: \"Apagar mensagem?\",\n          message: \"Esta ao no pode ser revertida.\",\n        },\n      },\n      backendErrors: {\n        ERR_NO_OTHER_WHATSAPP: \"Deve haver pelo menos um WhatsApp padro.\",\n        ERR_NO_DEF_WAPP_FOUND:\n          \"Nenhum WhatsApp padro encontrado. Verifique a pgina de conexes.\",\n        ERR_WAPP_NOT_INITIALIZED:\n          \"Esta sesso do WhatsApp no foi inicializada. Verifique a pgina de conexes.\",\n        ERR_WAPP_CHECK_CONTACT:\n          \"No foi possvel verificar o contato do WhatsApp. Verifique a pgina de conexes\",\n        ERR_WAPP_INVALID_CONTACT: \"Este no  um nmero de Whatsapp vlido.\",\n        ERR_WAPP_DOWNLOAD_MEDIA:\n          \"No foi possvel baixar mdia do WhatsApp. Verifique a pgina de conexes.\",\n        ERR_INVALID_CREDENTIALS:\n          \"Erro de autenticao. Por favor, tente novamente.\",\n        ERR_SENDING_WAPP_MSG:\n          \"Erro ao enviar mensagem do WhatsApp. Verifique a pgina de conexes.\",\n        ERR_DELETE_WAPP_MSG: \"No foi possvel excluir a mensagem do WhatsApp.\",\n        ERR_OTHER_OPEN_TICKET: \"J existe uma conversa em aberto para este contato.\",\n        ERR_SESSION_EXPIRED: \"Sesso expirada. Por favor entre.\",\n        ERR_USER_CREATION_DISABLED:\n          \"A criao do usurio foi desabilitada pelo administrador.\",\n        ERR_NO_PERMISSION: \"Voc no tem permisso para acessar este recurso.\",\n        ERR_DUPLICATED_CONTACT: \"J existe um contato com este nmero.\",\n        ERR_NO_SETTING_FOUND: \"Nenhuma configurao encontrada com este ID.\",\n        ERR_NO_CONTACT_FOUND: \"Nenhum contato encontrado com este ID.\",\n        ERR_NO_TICKET_FOUND: \"Nenhum tquete encontrado com este ID.\",\n        ERR_NO_USER_FOUND: \"Nenhum usurio encontrado com este ID.\",\n        ERR_NO_WAPP_FOUND: \"Nenhum WhatsApp encontrado com este ID.\",\n        ERR_CREATING_MESSAGE: \"Erro ao criar mensagem no banco de dados.\",\n        ERR_CREATING_TICKET: \"Erro ao criar tquete no banco de dados.\",\n        ERR_FETCH_WAPP_MSG:\n          \"Erro ao buscar a mensagem no WhtasApp, talvez ela seja muito antiga.\",\n        ERR_QUEUE_COLOR_ALREADY_EXISTS:\n          \"Esta cor j est em uso, escolha outra.\",\n        ERR_WAPP_GREETING_REQUIRED:\n          \"A mensagem de saudao  obrigatrio quando h mais de uma fila.\",\n      },\n    },\n  },\n};\n\nexport { messages };\n","const messages = {\n  en: {\n    translations: {\n      signup: {\n        title: \"Sign up\",\n        toasts: {\n          success: \"User created successfully! Please login!\",\n          fail: \"Error creating user. Check the reported data.\",\n        },\n        form: {\n          name: \"Name\",\n          email: \"Email\",\n          password: \"Password\",\n        },\n        buttons: {\n          submit: \"Register\",\n          login: \"Already have an account? Log in!\",\n        },\n      },\n      login: {\n        title: \"Login\",\n        form: {\n          email: \"Email\",\n          password: \"Password\",\n        },\n        buttons: {\n          submit: \"Enter\",\n          register: \"Don't have an account? Register!\",\n        },\n      },\n      auth: {\n        toasts: {\n          success: \"Login successfully!\",\n        },\n      },\n      dashboard: {\n        charts: {\n          perDay: {\n            title: \"Tickets today: \",\n          },\n        },\n        messages: {\n          inAttendance: {\n            title: \"In Service\"\n          },\n          waiting: {\n            title: \"Waiting\"\n          },\n          closed: {\n            title: \"Closed\"\n          }\n        }\n      },\n      connections: {\n        title: \"Connections\",\n        toasts: {\n          deleted: \"WhatsApp connection deleted sucessfully!\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Delete\",\n          deleteMessage: \"Are you sure? It cannot be reverted.\",\n          disconnectTitle: \"Disconnect\",\n          disconnectMessage: \"Are you sure? You'll need to read QR Code again.\",\n        },\n        buttons: {\n          add: \"Add WhatsApp\",\n          disconnect: \"Disconnect\",\n          tryAgain: \"Try Again\",\n          qrcode: \"QR CODE\",\n          newQr: \"New QR CODE\",\n          connecting: \"Connectiing\",\n        },\n        toolTips: {\n          disconnected: {\n            title: \"Failed to start WhatsApp session\",\n            content:\n              \"Make sure your cell phone is connected to the internet and try again, or request a new QR Code\",\n          },\n          qrcode: {\n            title: \"Waiting for QR Code read\",\n            content:\n              \"Click on 'QR CODE' button and read the QR Code with your cell phone to start session\",\n          },\n          connected: {\n            title: \"Connection established\",\n          },\n          timeout: {\n            title: \"Connection with cell phone has been lost\",\n            content:\n              \"Make sure your cell phone is connected to the internet and WhatsApp is open, or click on 'Disconnect' button to get a new QRcode\",\n          },\n        },\n        table: {\n          name: \"Name\",\n          status: \"Status\",\n          lastUpdate: \"Last Update\",\n          default: \"Default\",\n          actions: \"Actions\",\n          session: \"Session\",\n        },\n      },\n      whatsappModal: {\n        title: {\n          add: \"Add WhatsApp\",\n          edit: \"Edit WhatsApp\",\n        },\n        form: {\n          name: \"Name\",\n          default: \"Default\",\n        },\n        buttons: {\n          okAdd: \"Add\",\n          okEdit: \"Save\",\n          cancel: \"Cancel\",\n        },\n        success: \"WhatsApp saved successfully.\",\n      },\n      qrCode: {\n        message: \"Read QrCode to start the session\",\n      },\n      contacts: {\n        title: \"Contacts\",\n        toasts: {\n          deleted: \"Contact deleted sucessfully!\",\n        },\n        searchPlaceholder: \"Search ...\",\n        confirmationModal: {\n          deleteTitle: \"Delete\",\n          importTitlte: \"Import contacts\",\n          deleteMessage:\n            \"Are you sure you want to delete this contact? All related tickets will be lost.\",\n          importMessage: \"Do you want to import all contacts from the phone?\",\n        },\n        buttons: {\n          import: \"Import Contacts\",\n          add: \"Add Contact\",\n        },\n        table: {\n          name: \"Name\",\n          whatsapp: \"WhatsApp\",\n          email: \"Email\",\n          actions: \"Actions\",\n        },\n      },\n      contactModal: {\n        title: {\n          add: \"Add contact\",\n          edit: \"Edit contact\",\n        },\n        form: {\n          mainInfo: \"Contact details\",\n          extraInfo: \"Additional information\",\n          name: \"Name\",\n          number: \"Whatsapp number\",\n          email: \"Email\",\n          extraName: \"Field name\",\n          extraValue: \"Value\",\n        },\n        buttons: {\n          addExtraInfo: \"Add information\",\n          okAdd: \"Add\",\n          okEdit: \"Save\",\n          cancel: \"Cancel\",\n        },\n        success: \"Contact saved successfully.\",\n      },\n      quickAnswersModal: {\n        title: {\n          add: \"Add Quick Reply\",\n          edit: \"Edit Quick Answer\",\n        },\n        form: {\n          shortcut: \"Shortcut\",\n          message: \"Quick Reply\",\n        },\n        buttons: {\n          okAdd: \"Add\",\n          okEdit: \"Save\",\n          cancel: \"Cancel\",\n        },\n        success: \"Quick Reply saved successfully.\",\n      },\n      queueModal: {\n        title: {\n          add: \"Add queue\",\n          edit: \"Edit queue\",\n        },\n        form: {\n          name: \"Name\",\n          color: \"Color\",\n          greetingMessage: \"Greeting Message\",\n        },\n        buttons: {\n          okAdd: \"Add\",\n          okEdit: \"Save\",\n          cancel: \"Cancel\",\n        },\n      },\n      userModal: {\n        title: {\n          add: \"Add user\",\n          edit: \"Edit user\",\n        },\n        form: {\n          name: \"Name\",\n          email: \"Email\",\n          password: \"Password\",\n          profile: \"Profile\",\n        },\n        buttons: {\n          okAdd: \"Add\",\n          okEdit: \"Save\",\n          cancel: \"Cancel\",\n        },\n        success: \"User saved successfully.\",\n      },\n      chat: {\n        noTicketMessage: \"Select a ticket to start chatting.\",\n      },\n      ticketsManager: {\n        buttons: {\n          newTicket: \"New\",\n        },\n      },\n      ticketsQueueSelect: {\n        placeholder: \"Queues\",\n      },\n      tickets: {\n        toasts: {\n          deleted: \"The ticket you were on has been deleted.\",\n        },\n        notification: {\n          message: \"Message from\",\n        },\n        tabs: {\n          open: { title: \"Inbox\" },\n          closed: { title: \"Resolved\" },\n          search: { title: \"Search\" },\n        },\n        search: {\n          placeholder: \"Search tickets and messages.\",\n        },\n        buttons: {\n          showAll: \"All\",\n        },\n      },\n      transferTicketModal: {\n        title: \"Transfer Ticket\",\n        fieldLabel: \"Type to search for users\",\n        fieldQueueLabel: \"Transfer to queue\",\n        fieldQueuePlaceholder: \"Please select a queue\",\n        noOptions: \"No user found with this name\",\n        buttons: {\n          ok: \"Transfer\",\n          cancel: \"Cancel\",\n        },\n      },\n      ticketsList: {\n        pendingHeader: \"Queue\",\n        assignedHeader: \"Working on\",\n        noTicketsTitle: \"Nothing here!\",\n        noTicketsMessage: \"No tickets found with this status or search term.\",\n        buttons: {\n          accept: \"Accept\",\n        },\n      },\n      newTicketModal: {\n        title: \"Create Ticket\",\n        fieldLabel: \"Type to search for a contact\",\n        add: \"Add\",\n        buttons: {\n          ok: \"Save\",\n          cancel: \"Cancel\",\n        },\n      },\n      mainDrawer: {\n        listItems: {\n          dashboard: \"Dashboard\",\n          connections: \"Connections\",\n          tickets: \"Tickets\",\n          contacts: \"Contacts\",\n          quickAnswers: \"Quick Answers\",\n          queues: \"Queues\",\n          administration: \"Administration\",\n          users: \"Users\",\n          settings: \"Settings\",\n        },\n        appBar: {\n          user: {\n            profile: \"Profile\",\n            logout: \"Logout\",\n          },\n        },\n      },\n      notifications: {\n        noTickets: \"No notifications.\",\n      },\n      queues: {\n        title: \"Queues\",\n        table: {\n          name: \"Name\",\n          color: \"Color\",\n          greeting: \"Greeting message\",\n          actions: \"Actions\",\n        },\n        buttons: {\n          add: \"Add queue\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Delete\",\n          deleteMessage:\n            \"Are you sure? It cannot be reverted! Tickets in this queue will still exist, but will not have any queues assigned.\",\n        },\n      },\n      queueSelect: {\n        inputLabel: \"Queues\",\n      },\n      quickAnswers: {\n        title: \"Quick Answers\",\n        table: {\n          shortcut: \"Shortcut\",\n          message: \"Quick Reply\",\n          actions: \"Actions\",\n        },\n        buttons: {\n          add: \"Add Quick Reply\",\n        },\n        toasts: {\n          deleted: \"Quick Reply deleted successfully.\",\n        },\n        searchPlaceholder: \"Search...\",\n        confirmationModal: {\n          deleteTitle: \"Are you sure you want to delete this Quick Reply: \",\n          deleteMessage: \"This action cannot be undone.\",\n        },\n      },\n      users: {\n        title: \"Users\",\n        table: {\n          name: \"Name\",\n          email: \"Email\",\n          profile: \"Profile\",\n          actions: \"Actions\",\n        },\n        buttons: {\n          add: \"Add user\",\n        },\n        toasts: {\n          deleted: \"User deleted sucessfully.\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Delete\",\n          deleteMessage:\n            \"All user data will be lost. Users' open tickets will be moved to queue.\",\n        },\n      },\n      settings: {\n        success: \"Settings saved successfully.\",\n        title: \"Settings\",\n        settings: {\n          userCreation: {\n            name: \"User creation\",\n            options: {\n              enabled: \"Enabled\",\n              disabled: \"Disabled\",\n            },\n          },\n        },\n      },\n      messagesList: {\n        header: {\n          assignedTo: \"Assigned to:\",\n          buttons: {\n            return: \"Return\",\n            resolve: \"Resolve\",\n            reopen: \"Reopen\",\n            accept: \"Accept\",\n          },\n        },\n      },\n      messagesInput: {\n        placeholderOpen: \"Type a message or press ''/'' to use the registered quick responses\",\n        placeholderClosed: \"Reopen or accept this ticket to send a message.\",\n        signMessage: \"Sign\",\n      },\n      contactDrawer: {\n        header: \"Contact details\",\n        buttons: {\n          edit: \"Edit contact\",\n        },\n        extraInfo: \"Other information\",\n      },\n      ticketOptionsMenu: {\n        delete: \"Delete\",\n        transfer: \"Transfer\",\n        confirmationModal: {\n          title: \"Delete ticket #\",\n          titleFrom: \"from contact \",\n          message: \"Attention! All ticket's related messages will be lost.\",\n        },\n        buttons: {\n          delete: \"Delete\",\n          cancel: \"Cancel\",\n        },\n      },\n      confirmationModal: {\n        buttons: {\n          confirm: \"Ok\",\n          cancel: \"Cancel\",\n        },\n      },\n      messageOptionsMenu: {\n        delete: \"Delete\",\n        reply: \"Reply\",\n        confirmationModal: {\n          title: \"Delete message?\",\n          message: \"This action cannot be reverted.\",\n        },\n      },\n      backendErrors: {\n        ERR_NO_OTHER_WHATSAPP:\n          \"There must be at lest one default WhatsApp connection.\",\n        ERR_NO_DEF_WAPP_FOUND:\n          \"No default WhatsApp found. Check connections page.\",\n        ERR_WAPP_NOT_INITIALIZED:\n          \"This WhatsApp session is not initialized. Check connections page.\",\n        ERR_WAPP_CHECK_CONTACT:\n          \"Could not check WhatsApp contact. Check connections page.\",\n        ERR_WAPP_INVALID_CONTACT: \"This is not a valid whatsapp number.\",\n        ERR_WAPP_DOWNLOAD_MEDIA:\n          \"Could not download media from WhatsApp. Check connections page.\",\n        ERR_INVALID_CREDENTIALS: \"Authentication error. Please try again.\",\n        ERR_SENDING_WAPP_MSG:\n          \"Error sending WhatsApp message. Check connections page.\",\n        ERR_DELETE_WAPP_MSG: \"Couldn't delete message from WhatsApp.\",\n        ERR_OTHER_OPEN_TICKET:\n          \"There's already an open ticket for this contact.\",\n        ERR_SESSION_EXPIRED: \"Session expired. Please login.\",\n        ERR_USER_CREATION_DISABLED:\n          \"User creation was disabled by administrator.\",\n        ERR_NO_PERMISSION: \"You don't have permission to access this resource.\",\n        ERR_DUPLICATED_CONTACT: \"A contact with this number already exists.\",\n        ERR_NO_SETTING_FOUND: \"No setting found with this ID.\",\n        ERR_NO_CONTACT_FOUND: \"No contact found with this ID.\",\n        ERR_NO_TICKET_FOUND: \"No ticket found with this ID.\",\n        ERR_NO_USER_FOUND: \"No user found with this ID.\",\n        ERR_NO_WAPP_FOUND: \"No WhatsApp found with this ID.\",\n        ERR_CREATING_MESSAGE: \"Error while creating message on database.\",\n        ERR_CREATING_TICKET: \"Error while creating ticket on database.\",\n        ERR_FETCH_WAPP_MSG:\n          \"Error fetching the message in WhtasApp, maybe it is too old.\",\n        ERR_QUEUE_COLOR_ALREADY_EXISTS:\n          \"This color is already in use, pick another one.\",\n        ERR_WAPP_GREETING_REQUIRED:\n          \"Greeting message is required if there is more than one queue.\",\n      },\n    },\n  },\n};\n\nexport { messages };\n","const messages = {\n  es: {\n    translations: {\n      signup: {\n        title: \"Registro\",\n        toasts: {\n          success:\n            \"El usuario ha sido creado satisfactoriamente! Ahora inicia sesin!\",\n          fail: \"Error creando el usuario. Verifica la data reportada.\",\n        },\n        form: {\n          name: \"Nombre\",\n          email: \"Correo Electrnico\",\n          password: \"Contrasea\",\n        },\n        buttons: {\n          submit: \"Regstrate\",\n          login: \"Ya tienes una cuenta? Inicia sesin!\",\n        },\n      },\n      login: {\n        title: \"Inicio de Sesin\",\n        form: {\n          email: \"Correo Electrnico\",\n          password: \"Contrasea\",\n        },\n        buttons: {\n          submit: \"Ingresa\",\n          register: \"No tienes cuenta? Regstrate!\",\n        },\n      },\n      auth: {\n        toasts: {\n          success: \"Inicio de sesin exitoso!\",\n        },\n      },\n      dashboard: {\n        charts: {\n          perDay: {\n            title: \"Tickets hoy: \",\n          },\n        },\n        messages: {\n          inAttendance: {\n            title: \"En servicio\"\n          },\n          waiting: {\n            title: \"Esperando\"\n          },\n          closed: {\n            title: \"Finalizado\"\n          }\n        }\n      },\n      connections: {\n        title: \"Conexiones\",\n        toasts: {\n          deleted:\n            \"La conexin de WhatsApp ha sido borrada satisfactoriamente!\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Borrar\",\n          deleteMessage: \"Ests seguro? Este proceso no puede ser revertido.\",\n          disconnectTitle: \"Desconectar\",\n          disconnectMessage: \"Ests seguro? Deber volver a leer el cdigo QR\",\n        },\n        buttons: {\n          add: \"Agrega WhatsApp\",\n          disconnect: \"Desconectar\",\n          tryAgain: \"Intntalo de nuevo\",\n          qrcode: \"QR CODE\",\n          newQr: \"Nuevo QR CODE\",\n          connecting: \"Conectando\",\n        },\n        toolTips: {\n          disconnected: {\n            title: \"No se pudo iniciar la sesin de WhatsApp\",\n            content:\n              \"Asegrese de que su telfono celular est conectado a Internet y vuelva a intentarlo o solicite un nuevo cdigo QR\",\n          },\n          qrcode: {\n            title: \"Esperando la lectura del cdigo QR\",\n            content:\n              \"Haga clic en el botn 'CDIGO QR' y lea el Cdigo QR con su telfono celular para iniciar la sesin\",\n          },\n          connected: {\n            title: \"Conexin establecida\",\n          },\n          timeout: {\n            title: \"Se perdi la conexin con el telfono celular\",\n            content:\n              \"Asegrese de que su telfono celular est conectado a Internet y que WhatsApp est abierto, o haga clic en el botn 'Desconectar' para obtener un nuevo cdigo QR\",\n          },\n        },\n        table: {\n          name: \"Nombre\",\n          status: \"Estado\",\n          lastUpdate: \"ltima Actualizacin\",\n          default: \"Por Defecto\",\n          actions: \"Acciones\",\n          session: \"Sesin\",\n        },\n      },\n      whatsappModal: {\n        title: {\n          add: \"Agrega WhatsApp\",\n          edit: \"Edita WhatsApp\",\n        },\n        form: {\n          name: \"Nombre\",\n          default: \"Por Defecto\",\n        },\n        buttons: {\n          okAdd: \"Agregar\",\n          okEdit: \"Guardar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"WhatsApp guardado satisfactoriamente.\",\n      },\n      qrCode: {\n        message: \"Le el cdigo QR para empezar la sesin.\",\n      },\n      contacts: {\n        title: \"Contactos\",\n        toasts: {\n          deleted: \"Contacto borrado satisfactoriamente!\",\n        },\n        searchPlaceholder: \"Buscar...\",\n        confirmationModal: {\n          deleteTitle: \"Borrar\",\n          importTitlte: \"Importar contactos\",\n          deleteMessage:\n            \"Ests seguro que deseas borrar este contacto? Todos los tickets relacionados se perdern.\",\n          importMessage:\n            \"Quieres importar todos los contactos desde tu telfono?\",\n        },\n        buttons: {\n          import: \"Importar Contactos\",\n          add: \"Agregar Contacto\",\n        },\n        table: {\n          name: \"Nombre\",\n          whatsapp: \"WhatsApp\",\n          email: \"Correo Electrnico\",\n          actions: \"Acciones\",\n        },\n      },\n      contactModal: {\n        title: {\n          add: \"Agregar contacto\",\n          edit: \"Editar contacto\",\n        },\n        form: {\n          mainInfo: \"Detalles del contacto\",\n          extraInfo: \"Informacin adicional\",\n          name: \"Nombre\",\n          number: \"Nmero de Whatsapp\",\n          email: \"Correo Electrnico\",\n          extraName: \"Nombre del Campo\",\n          extraValue: \"Valor\",\n        },\n        buttons: {\n          addExtraInfo: \"Agregar informacin\",\n          okAdd: \"Agregar\",\n          okEdit: \"Guardar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Contacto guardado satisfactoriamente.\",\n      },\n      quickAnswersModal: {\n        title: {\n          add: \"Agregar respuesta rpida\",\n          edit: \"Editar respuesta rpida\",\n        },\n        form: {\n          shortcut: \"Atajo\",\n          message: \"Respuesta rpida\",\n        },\n        buttons: {\n          okAdd: \"Agregar\",\n          okEdit: \"Guardar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Respuesta rpida guardada correctamente.\",\n      },\n      queueModal: {\n        title: {\n          add: \"Agregar cola\",\n          edit: \"Editar cola\",\n        },\n        form: {\n          name: \"Nombre\",\n          color: \"Color\",\n          greetingMessage: \"Mensaje de saludo\",\n        },\n        buttons: {\n          okAdd: \"Aadir\",\n          okEdit: \"Ahorrar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      userModal: {\n        title: {\n          add: \"Agregar usuario\",\n          edit: \"Editar usuario\",\n        },\n        form: {\n          name: \"Nombre\",\n          email: \"Correo Electrnico\",\n          password: \"Contrasea\",\n          profile: \"Perfil\",\n        },\n        buttons: {\n          okAdd: \"Agregar\",\n          okEdit: \"Guardar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Usuario guardado satisfactoriamente.\",\n      },\n      chat: {\n        noTicketMessage: \"Selecciona un ticket para empezar a chatear.\",\n      },\n      ticketsManager: {\n        buttons: {\n          newTicket: \"Nuevo\",\n        },\n      },\n      ticketsQueueSelect: {\n        placeholder: \"Linhas\",\n      },\n      tickets: {\n        toasts: {\n          deleted: \"El ticket en el que estabas ha sido borrado.\",\n        },\n        notification: {\n          message: \"Mensaje de\",\n        },\n        tabs: {\n          open: { title: \"Bandeja\" },\n          closed: { title: \"Resueltos\" },\n          search: { title: \"Buscar\" },\n        },\n        search: {\n          placeholder: \"Buscar tickets y mensajes.\",\n        },\n        buttons: {\n          showAll: \"Todos\",\n        },\n      },\n      transferTicketModal: {\n        title: \"Transferir Ticket\",\n        fieldLabel: \"Escriba para buscar usuarios\",\n        fieldQueueLabel: \"Transferir a la cola\",\n        fieldQueuePlaceholder: \"Seleccione una cola\",\n        noOptions: \"No se encontraron usuarios con ese nombre\",\n        buttons: {\n          ok: \"Transferir\",\n          cancel: \"Cancelar\",\n        },\n      },\n      ticketsList: {\n        pendingHeader: \"Cola\",\n        assignedHeader: \"Trabajando en\",\n        noTicketsTitle: \"Nada ac!\",\n        noTicketsMessage:\n          \"No se encontraron tickets con este estado o trmino de bsqueda\",\n        buttons: {\n          accept: \"Acceptar\",\n        },\n      },\n      newTicketModal: {\n        title: \"Crear Ticket\",\n        fieldLabel: \"Escribe para buscar un contacto\",\n        add: \"Aadir\",\n        buttons: {\n          ok: \"Guardar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      mainDrawer: {\n        listItems: {\n          dashboard: \"Dashboard\",\n          connections: \"Conexiones\",\n          tickets: \"Tickets\",\n          contacts: \"Contactos\",\n          quickAnswers: \"Respuestas rpidas\",\n          queues: \"Linhas\",\n          administration: \"Administracin\",\n          users: \"Usuarios\",\n          settings: \"Configuracin\",\n        },\n        appBar: {\n          user: {\n            profile: \"Perfil\",\n            logout: \"Cerrar Sesin\",\n          },\n        },\n      },\n      notifications: {\n        noTickets: \"Sin notificaciones.\",\n      },\n      queues: {\n        title: \"Linhas\",\n        table: {\n          name: \"Nombre\",\n          color: \"Color\",\n          greeting: \"Mensaje de saludo\",\n          actions: \"Comportamiento\",\n        },\n        buttons: {\n          add: \"Agregar cola\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Eliminar\",\n          deleteMessage:\n            \"Ests seguro? Esta accin no se puede revertir! Los tickets en esa cola seguirn existiendo, pero ya no tendrn ninguna cola asignada.\",\n        },\n      },\n      queueSelect: {\n        inputLabel: \"Linhas\",\n      },\n      quickAnswers: {\n        title: \"Respuestas rpidas\",\n        table: {\n          shortcut: \"Atajo\",\n          message: \"Respuesta rpida\",\n          actions: \"Acciones\",\n        },\n        buttons: {\n          add: \"Agregar respuesta rpida\",\n        },\n        toasts: {\n          deleted: \"Respuesta rpida eliminada correctamente\",\n        },\n        searchPlaceholder: \"Buscar ...\",\n        confirmationModal: {\n          deleteTitle:\n            \"Est seguro de que desea eliminar esta respuesta rpida?\",\n          deleteMessage: \"Esta accin no se puede deshacer.\",\n        },\n      },\n      users: {\n        title: \"Usuarios\",\n        table: {\n          name: \"Nombre\",\n          email: \"Correo Electrnico\",\n          profile: \"Perfil\",\n          actions: \"Acciones\",\n        },\n        buttons: {\n          add: \"Agregar usuario\",\n        },\n        toasts: {\n          deleted: \"Usuario borrado satisfactoriamente.\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Borrar\",\n          deleteMessage:\n            \"Toda la informacin del usuario se perder. Los tickets abiertos de los usuarios se movern a la cola.\",\n        },\n      },\n      settings: {\n        success: \"Configuracin guardada satisfactoriamente.\",\n        title: \"Configuracin\",\n        settings: {\n          userCreation: {\n            name: \"Creacin de usuarios\",\n            options: {\n              enabled: \"Habilitado\",\n              disabled: \"Deshabilitado\",\n            },\n          },\n        },\n      },\n      messagesList: {\n        header: {\n          assignedTo: \"Asignado a:\",\n          buttons: {\n            return: \"Devolver\",\n            resolve: \"Resolver\",\n            reopen: \"Reabrir\",\n            accept: \"Aceptar\",\n          },\n        },\n      },\n      messagesInput: {\n        placeholderOpen: \"Escriba un mensaje o presione '' / '' para usar las respuestas rpidas registradas\",\n        placeholderClosed:\n          \"Vuelva a abrir o acepte este ticket para enviar un mensaje.\",\n        signMessage: \"Firmar\",\n      },\n      contactDrawer: {\n        header: \"Detalles del contacto\",\n        buttons: {\n          edit: \"Editar contacto\",\n        },\n        extraInfo: \"Otra informacin\",\n      },\n      ticketOptionsMenu: {\n        delete: \"Borrar\",\n        transfer: \"Transferir\",\n        confirmationModal: {\n          title: \"Borrar ticket #\",\n          titleFrom: \"del contacto \",\n          message:\n            \"Atencin! Todos los mensajes Todos los mensajes relacionados con el ticket se perdern.\",\n        },\n        buttons: {\n          delete: \"Borrar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      confirmationModal: {\n        buttons: {\n          confirm: \"Ok\",\n          cancel: \"Cancelar\",\n        },\n      },\n      messageOptionsMenu: {\n        delete: \"Borrar\",\n        reply: \"Responder\",\n        confirmationModal: {\n          title: \"Borrar mensaje?\",\n          message: \"Esta accin no puede ser revertida.\",\n        },\n      },\n      backendErrors: {\n        ERR_NO_OTHER_WHATSAPP:\n          \"Debe haber al menos una conexin de WhatsApp predeterminada.\",\n        ERR_NO_DEF_WAPP_FOUND:\n          \"No se encontr WhatsApp predeterminado. Verifique la pgina de conexiones.\",\n        ERR_WAPP_NOT_INITIALIZED:\n          \"Esta sesin de WhatsApp no est inicializada. Verifique la pgina de conexiones.\",\n        ERR_WAPP_CHECK_CONTACT:\n          \"No se pudo verificar el contacto de WhatsApp. Verifique la pgina de conexiones.\",\n        ERR_WAPP_INVALID_CONTACT: \"Este no es un nmero de whatsapp vlido.\",\n        ERR_WAPP_DOWNLOAD_MEDIA:\n          \"No se pudieron descargar los medios de WhatsApp. Verifique la pgina de conexiones.\",\n        ERR_INVALID_CREDENTIALS: \"Error de autenticacin. Vuelva a intentarlo.\",\n        ERR_SENDING_WAPP_MSG:\n          \"Error al enviar el mensaje de WhatsApp. Verifique la pgina de conexiones.\",\n        ERR_DELETE_WAPP_MSG: \"No se pudo borrar el mensaje de WhatsApp.\",\n        ERR_OTHER_OPEN_TICKET: \"Ya hay un ticket abierto para este contacto.\",\n        ERR_SESSION_EXPIRED: \"Sesin caducada. Inicie sesin.\",\n        ERR_USER_CREATION_DISABLED:\n          \"La creacin de usuarios fue deshabilitada por el administrador.\",\n        ERR_NO_PERMISSION: \"No tienes permiso para acceder a este recurso.\",\n        ERR_DUPLICATED_CONTACT: \"Ya existe un contacto con este nmero.\",\n        ERR_NO_SETTING_FOUND:\n          \"No se encontr ninguna configuracin con este ID.\",\n        ERR_NO_CONTACT_FOUND: \"No se encontr ningn contacto con este ID.\",\n        ERR_NO_TICKET_FOUND: \"No se encontr ningn ticket con este ID.\",\n        ERR_NO_USER_FOUND: \"No se encontr ningn usuario con este ID.\",\n        ERR_NO_WAPP_FOUND: \"No se encontr WhatsApp con este ID.\",\n        ERR_CREATING_MESSAGE: \"Error al crear el mensaje en la base de datos.\",\n        ERR_CREATING_TICKET: \"Error al crear el ticket en la base de datos.\",\n        ERR_FETCH_WAPP_MSG:\n          \"Error al obtener el mensaje en WhtasApp, tal vez sea demasiado antiguo.\",\n        ERR_QUEUE_COLOR_ALREADY_EXISTS:\n          \"Este color ya est en uso, elija otro.\",\n        ERR_WAPP_GREETING_REQUIRED:\n          \"El mensaje de saludo es obligatorio cuando hay ms de una cola.\",\n      },\n    },\n  },\n};\n\nexport { messages };\n","import i18n from \"i18next\";\nimport LanguageDetector from \"i18next-browser-languagedetector\";\n\nimport { messages } from \"./languages\";\n\ni18n.use(LanguageDetector).init({\n\tdebug: false,\n\tdefaultNS: [\"translations\"],\n\tfallbackLng: \"en\",\n\tns: [\"translations\"],\n\tresources: messages,\n});\n\nexport { i18n };\n","import { toast } from \"react-toastify\";\nimport { i18n } from \"../translate/i18n\";\n\nconst toastError = err => {\n\tconst errorMsg = err.response?.data?.message || err.response.data.error;\n\tif (errorMsg) {\n\t\tif (i18n.exists(`backendErrors.${errorMsg}`)) {\n\t\t\ttoast.error(i18n.t(`backendErrors.${errorMsg}`), {\n\t\t\t\ttoastId: errorMsg,\n\t\t\t});\n\t\t} else {\n\t\t\ttoast.error(errorMsg, {\n\t\t\t\ttoastId: errorMsg,\n\t\t\t});\n\t\t}\n\t} else {\n\t\ttoast.error(\"500 Erro Interno no Servidor\");\n\t}\n};\n\nexport default toastError;\n","import axios from \"axios\";\n\nconst api = axios.create({\n\tbaseURL: process.env.REACT_APP_BACKEND_URL,\n\twithCredentials: true,\n});\n\nexport default api;\n","import { useState, useEffect, useReducer } from \"react\";\nimport openSocket from \"socket.io-client\";\nimport toastError from \"../../errors/toastError\";\n\nimport api from \"../../services/api\";\n\nconst reducer = (state, action) => {\n\tif (action.type === \"LOAD_WHATSAPPS\") {\n\t\tconst whatsApps = action.payload;\n\n\t\treturn [...whatsApps];\n\t}\n\n\tif (action.type === \"UPDATE_WHATSAPPS\") {\n\t\tconst whatsApp = action.payload;\n\t\tconst whatsAppIndex = state.findIndex(s => s.id === whatsApp.id);\n\n\t\tif (whatsAppIndex !== -1) {\n\t\t\tstate[whatsAppIndex] = whatsApp;\n\t\t\treturn [...state];\n\t\t} else {\n\t\t\treturn [whatsApp, ...state];\n\t\t}\n\t}\n\n\tif (action.type === \"UPDATE_SESSION\") {\n\t\tconst whatsApp = action.payload;\n\t\tconst whatsAppIndex = state.findIndex(s => s.id === whatsApp.id);\n\n\t\tif (whatsAppIndex !== -1) {\n\t\t\tstate[whatsAppIndex].status = whatsApp.status;\n\t\t\tstate[whatsAppIndex].updatedAt = whatsApp.updatedAt;\n\t\t\tstate[whatsAppIndex].qrcode = whatsApp.qrcode;\n\t\t\tstate[whatsAppIndex].retries = whatsApp.retries;\n\t\t\treturn [...state];\n\t\t} else {\n\t\t\treturn [...state];\n\t\t}\n\t}\n\n\tif (action.type === \"DELETE_WHATSAPPS\") {\n\t\tconst whatsAppId = action.payload;\n\n\t\tconst whatsAppIndex = state.findIndex(s => s.id === whatsAppId);\n\t\tif (whatsAppIndex !== -1) {\n\t\t\tstate.splice(whatsAppIndex, 1);\n\t\t}\n\t\treturn [...state];\n\t}\n\n\tif (action.type === \"RESET\") {\n\t\treturn [];\n\t}\n};\n\nconst useWhatsApps = () => {\n\tconst [whatsApps, dispatch] = useReducer(reducer, []);\n\tconst [loading, setLoading] = useState(true);\n\n\tuseEffect(() => {\n\t\tsetLoading(true);\n\t\tconst fetchSession = async () => {\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(\"/whatsapp/\");\n\t\t\t\tdispatch({ type: \"LOAD_WHATSAPPS\", payload: data });\n\t\t\t\tsetLoading(false);\n\t\t\t} catch (err) {\n\t\t\t\tsetLoading(false);\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\t\tfetchSession();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst socket = openSocket(process.env.REACT_APP_BACKEND_URL);\n\n\t\tsocket.on(\"whatsapp\", data => {\n\t\t\tif (data.action === \"update\") {\n\t\t\t\tdispatch({ type: \"UPDATE_WHATSAPPS\", payload: data.whatsapp });\n\t\t\t}\n\t\t});\n\n\t\tsocket.on(\"whatsapp\", data => {\n\t\t\tif (data.action === \"delete\") {\n\t\t\t\tdispatch({ type: \"DELETE_WHATSAPPS\", payload: data.whatsappId });\n\t\t\t}\n\t\t});\n\n\t\tsocket.on(\"whatsappSession\", data => {\n\t\t\tif (data.action === \"update\") {\n\t\t\t\tdispatch({ type: \"UPDATE_SESSION\", payload: data.session });\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tsocket.disconnect();\n\t\t};\n\t}, []);\n\n\treturn { whatsApps, loading };\n};\n\nexport default useWhatsApps;\n","import React, { createContext } from \"react\";\n\nimport useWhatsApps from \"../../hooks/useWhatsApps\";\n\nconst WhatsAppsContext = createContext();\n\nconst WhatsAppsProvider = ({ children }) => {\n\tconst { loading, whatsApps } = useWhatsApps();\n\n\treturn (\n\t\t<WhatsAppsContext.Provider value={{ whatsApps, loading }}>\n\t\t\t{children}\n\t\t</WhatsAppsContext.Provider>\n\t);\n};\n\nexport { WhatsAppsContext, WhatsAppsProvider };\n","import { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport openSocket from \"socket.io-client\";\n\nimport { toast } from \"react-toastify\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useAuth = () => {\n\tconst history = useHistory();\n\tconst [isAuth, setIsAuth] = useState(false);\n\tconst [loading, setLoading] = useState(true);\n\tconst [user, setUser] = useState({});\n\n\tapi.interceptors.request.use(\n\t\tconfig => {\n\t\t\tconst token = localStorage.getItem(\"token\");\n\t\t\tif (token) {\n\t\t\t\tconfig.headers[\"Authorization\"] = `Bearer ${JSON.parse(token)}`;\n\t\t\t\tsetIsAuth(true);\n\t\t\t}\n\t\t\treturn config;\n\t\t},\n\t\terror => {\n\t\t\tPromise.reject(error);\n\t\t}\n\t);\n\n\tapi.interceptors.response.use(\n\t\tresponse => {\n\t\t\treturn response;\n\t\t},\n\t\tasync error => {\n\t\t\tconst originalRequest = error.config;\n\t\t\tif (error?.response?.status === 403 && !originalRequest._retry) {\n\t\t\t\toriginalRequest._retry = true;\n\n\t\t\t\tconst { data } = await api.post(\"/auth/refresh_token\");\n\t\t\t\tif (data) {\n\t\t\t\t\tlocalStorage.setItem(\"token\", JSON.stringify(data.token));\n\t\t\t\t\tapi.defaults.headers.Authorization = `Bearer ${data.token}`;\n\t\t\t\t}\n\t\t\t\treturn api(originalRequest);\n\t\t\t}\n\t\t\tif (error?.response?.status === 401) {\n\t\t\t\tlocalStorage.removeItem(\"token\");\n\t\t\t\tapi.defaults.headers.Authorization = undefined;\n\t\t\t\tsetIsAuth(false);\n\t\t\t}\n\t\t\treturn Promise.reject(error);\n\t\t}\n\t);\n\n\tuseEffect(() => {\n\t\tconst token = localStorage.getItem(\"token\");\n\t\t(async () => {\n\t\t\tif (token) {\n\t\t\t\ttry {\n\t\t\t\t\tconst { data } = await api.post(\"/auth/refresh_token\");\n\t\t\t\t\tapi.defaults.headers.Authorization = `Bearer ${data.token}`;\n\t\t\t\t\tsetIsAuth(true);\n\t\t\t\t\tsetUser(data.user);\n\t\t\t\t} catch (err) {\n\t\t\t\t\ttoastError(err);\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetLoading(false);\n\t\t})();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst socket = openSocket(process.env.REACT_APP_BACKEND_URL);\n\n\t\tsocket.on(\"user\", data => {\n\t\t\tif (data.action === \"update\" && data.user.id === user.id) {\n\t\t\t\tsetUser(data.user);\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tsocket.disconnect();\n\t\t};\n\t}, [user]);\n\n\tconst handleLogin = async userData => {\n\t\tsetLoading(true);\n\n\t\ttry {\n\t\t\tconst { data } = await api.post(\"/auth/login\", userData);\n\t\t\tlocalStorage.setItem(\"token\", JSON.stringify(data.token));\n\t\t\tapi.defaults.headers.Authorization = `Bearer ${data.token}`;\n\t\t\tsetUser(data.user);\n\t\t\tsetIsAuth(true);\n\t\t\ttoast.success(i18n.t(\"auth.toasts.success\"));\n\t\t\thistory.push(\"/tickets\");\n\t\t\tsetLoading(false);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\tconst handleLogout = async () => {\n\t\tsetLoading(true);\n\n\t\ttry {\n\t\t\tawait api.delete(\"/auth/logout\");\n\t\t\tsetIsAuth(false);\n\t\t\tsetUser({});\n\t\t\tlocalStorage.removeItem(\"token\");\n\t\t\tapi.defaults.headers.Authorization = undefined;\n\t\t\tsetLoading(false);\n\t\t\thistory.push(\"/login\");\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t\tsetLoading(false);\n\t\t}\n\t};\n\n\tconst isAdminUser = () => {\n\t\treturn user.profile == \"admin\";\n\t}\n\n\treturn { isAuth, user, loading, handleLogin, handleLogout, isAdminUser };\n};\n\nexport default useAuth;\n","import React, { createContext } from \"react\";\n\nimport useAuth from \"../../hooks/useAuth.js\";\n\nconst AuthContext = createContext();\n\nconst AuthProvider = ({ children }) => {\n\tconst { loading, user, isAuth, handleLogin, handleLogout, isAdminUser } = useAuth();\n\n\treturn (\n\t\t<AuthContext.Provider\n\t\t\tvalue={{ loading, user, isAuth, handleLogin, handleLogout, isAdminUser }}\n\t\t>\n\t\t\t{children}\n\t\t</AuthContext.Provider>\n\t);\n};\n\nexport { AuthContext, AuthProvider };\n","const rules = {\n\tuser: {\n\t\tstatic: [],\n\t},\n\n\tadmin: {\n\t\tstatic: [\n\t\t\t\"drawer-admin-items:view\",\n\t\t\t\"tickets-manager:showall\",\n\t\t\t\"tickets-manager:showalladmin\",\n\t\t\t\"user-modal:editProfile\",\n\t\t\t\"user-modal:editQueues\",\n\t\t\t\"ticket-options:deleteTicket\",\n\t\t\t\"contacts-page:deleteContact\",\n\t\t],\n\t},\n\n\tsuperv: {\n\t\tstatic: [\n\t\t\t\"drawer-superv-items:view\",\n\t\t\t\"tickets-manager:showall\",\n\t\t],\n\t}\n};\n\nexport default rules;\n","import rules from \"../../rules\";\n\nconst check = (role, action, data) => {\n\tconst permissions = rules[role];\n\tif (!permissions) {\n\t\t// role is not present in the rules\n\t\treturn false;\n\t}\n\n\tconst staticPermissions = permissions.static;\n\n\tif (staticPermissions && staticPermissions.includes(action)) {\n\t\t// static rule not provided for action\n\t\treturn true;\n\t}\n\n\tconst dynamicPermissions = permissions.dynamic;\n\n\tif (dynamicPermissions) {\n\t\tconst permissionCondition = dynamicPermissions[action];\n\t\tif (!permissionCondition) {\n\t\t\t// dynamic rule not provided for action\n\t\t\treturn false;\n\t\t}\n\n\t\treturn permissionCondition(data);\n\t}\n\treturn false;\n};\n\nconst Can = ({ role, perform, data, yes, no }) =>\n\tcheck(role, perform, data) ? yes() : no();\n\nCan.defaultProps = {\n\tyes: () => null,\n\tno: () => null,\n};\n\nexport { Can };\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\n\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\nimport Divider from \"@material-ui/core/Divider\";\nimport { Badge } from \"@material-ui/core\";\nimport DashboardOutlinedIcon from \"@material-ui/icons/DashboardOutlined\";\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\nimport SyncAltIcon from \"@material-ui/icons/SyncAlt\";\nimport SettingsOutlinedIcon from \"@material-ui/icons/SettingsOutlined\";\nimport PeopleAltOutlinedIcon from \"@material-ui/icons/PeopleAltOutlined\";\nimport ContactPhoneOutlinedIcon from \"@material-ui/icons/ContactPhoneOutlined\";\nimport AccountTreeOutlinedIcon from \"@material-ui/icons/AccountTreeOutlined\";\nimport QuestionAnswerOutlinedIcon from \"@material-ui/icons/QuestionAnswerOutlined\";\n\nimport { i18n } from \"../translate/i18n\";\nimport { WhatsAppsContext } from \"../context/WhatsApp/WhatsAppsContext\";\nimport { AuthContext } from \"../context/Auth/AuthContext\";\nimport { Can } from \"../components/Can\";\n\nfunction ListItemLink(props) {\n  const { icon, primary, to, className } = props;\n\n  const renderLink = React.useMemo(\n    () =>\n      React.forwardRef((itemProps, ref) => (\n        <RouterLink to={to} ref={ref} {...itemProps} />\n      )),\n    [to]\n  );\n\n  return (\n    <li>\n      <ListItem button component={renderLink} className={className}>\n        {icon ? <ListItemIcon>{icon}</ListItemIcon> : null}\n        <ListItemText primary={primary} />\n      </ListItem>\n    </li>\n  );\n}\n\nconst MainListItems = (props) => {\n  const { drawerClose } = props;\n  const { whatsApps } = useContext(WhatsAppsContext);\n  const { user } = useContext(AuthContext);\n  const [connectionWarning, setConnectionWarning] = useState(false);\n\n  useEffect(() => {\n    const delayDebounceFn = setTimeout(() => {\n      if (whatsApps.length > 0) {\n        const offlineWhats = whatsApps.filter((whats) => {\n          return (\n            whats.status === \"qrcode\" ||\n            whats.status === \"PAIRING\" ||\n            whats.status === \"DISCONNECTED\" ||\n            whats.status === \"TIMEOUT\" ||\n            whats.status === \"OPENING\"\n          );\n        });\n        if (offlineWhats.length > 0) {\n          setConnectionWarning(true);\n        } else {\n          setConnectionWarning(false);\n        }\n      }\n    }, 2000);\n    return () => clearTimeout(delayDebounceFn);\n  }, [whatsApps]);\n\n  return (\n    <div onClick={drawerClose}>\n\n      <ListItemLink\n        to=\"/tickets\"\n        primary={i18n.t(\"mainDrawer.listItems.tickets\")}\n        icon={<WhatsAppIcon />}\n      />\n\n      <ListItemLink\n        to=\"/contacts\"\n        primary={i18n.t(\"mainDrawer.listItems.contacts\")}\n        icon={<ContactPhoneOutlinedIcon />}\n      />\n      <Can\n        role={user.profile}\n        perform=\"drawer-admin-items:view\"\n        yes={() => (\n          <ListItemLink\n            to=\"/quickAnswers\"\n            primary={i18n.t(\"mainDrawer.listItems.quickAnswers\")}\n            icon={<QuestionAnswerOutlinedIcon />}\n          />\n        )}\n      />\n      <Can\n        role={user.profile}\n        perform=\"drawer-admin-items:view\"\n        yes={() => (\n          <>\n            <Divider />\n            <ListSubheader inset>\n              {i18n.t(\"mainDrawer.listItems.administration\")}\n            </ListSubheader>\n            <ListItemLink\n              to=\"/\"\n              primary=\"Dashboard\"\n              icon={<DashboardOutlinedIcon />}\n            />\n            <ListItemLink\n              to=\"/connections\"\n              primary={i18n.t(\"mainDrawer.listItems.connections\")}\n              icon={\n                <Badge badgeContent={connectionWarning ? \"!\" : 0} color=\"error\">\n                  <SyncAltIcon />\n                </Badge>\n              }\n            />\n            <ListItemLink\n              to=\"/users\"\n              primary={i18n.t(\"mainDrawer.listItems.users\")}\n              icon={<PeopleAltOutlinedIcon />}\n            />\n            <ListItemLink\n              to=\"/queues\"\n              primary={i18n.t(\"mainDrawer.listItems.queues\")}\n              icon={<AccountTreeOutlinedIcon />}\n            />\n            <ListItemLink\n              to=\"/settings\"\n              primary={i18n.t(\"mainDrawer.listItems.settings\")}\n              icon={<SettingsOutlinedIcon />}\n            />\n          </>\n        )}\n      />\n    </div>\n  );\n};\n\nexport default MainListItems;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport { CircularProgress, Button } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n\tbutton: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n}));\n\nconst ButtonWithSpinner = ({ loading, children, ...rest }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Button className={classes.button} disabled={loading} {...rest}>\n\t\t\t{children}\n\t\t\t{loading && (\n\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\n\t\t\t)}\n\t\t</Button>\n\t);\n};\n\nexport default ButtonWithSpinner;\n","import React from \"react\";\nimport Markdown from \"markdown-to-jsx\";\n\nconst elements = [\n\t\"a\",\n\t\"abbr\",\n\t\"address\",\n\t\"area\",\n\t\"article\",\n\t\"aside\",\n\t\"audio\",\n\t\"b\",\n\t\"base\",\n\t\"bdi\",\n\t\"bdo\",\n\t\"big\",\n\t\"blockquote\",\n\t\"body\",\n\t\"br\",\n\t\"button\",\n\t\"canvas\",\n\t\"caption\",\n\t\"cite\",\n\t\"code\",\n\t\"col\",\n\t\"colgroup\",\n\t\"data\",\n\t\"datalist\",\n\t\"dd\",\n\t\"del\",\n\t\"details\",\n\t\"dfn\",\n\t\"dialog\",\n\t\"div\",\n\t\"dl\",\n\t\"dt\",\n\t\"em\",\n\t\"embed\",\n\t\"fieldset\",\n\t\"figcaption\",\n\t\"figure\",\n\t\"footer\",\n\t\"form\",\n\t\"h1\",\n\t\"h2\",\n\t\"h3\",\n\t\"h4\",\n\t\"h5\",\n\t\"h6\",\n\t\"head\",\n\t\"header\",\n\t\"hgroup\",\n\t\"hr\",\n\t\"html\",\n\t\"i\",\n\t\"iframe\",\n\t\"img\",\n\t\"input\",\n\t\"ins\",\n\t\"kbd\",\n\t\"keygen\",\n\t\"label\",\n\t\"legend\",\n\t\"li\",\n\t\"link\",\n\t\"main\",\n\t\"map\",\n\t\"mark\",\n\t\"marquee\",\n\t\"menu\",\n\t\"menuitem\",\n\t\"meta\",\n\t\"meter\",\n\t\"nav\",\n\t\"noscript\",\n\t\"object\",\n\t\"ol\",\n\t\"optgroup\",\n\t\"option\",\n\t\"output\",\n\t\"p\",\n\t\"param\",\n\t\"picture\",\n\t\"pre\",\n\t\"progress\",\n\t\"q\",\n\t\"rp\",\n\t\"rt\",\n\t\"ruby\",\n\t\"s\",\n\t\"samp\",\n\t\"script\",\n\t\"section\",\n\t\"select\",\n\t\"small\",\n\t\"source\",\n\t\"span\",\n\t\"strong\",\n\t\"style\",\n\t\"sub\",\n\t\"summary\",\n\t\"sup\",\n\t\"table\",\n\t\"tbody\",\n\t\"td\",\n\t\"textarea\",\n\t\"tfoot\",\n\t\"th\",\n\t\"thead\",\n\t\"time\",\n\t\"title\",\n\t\"tr\",\n\t\"track\",\n\t\"u\",\n\t\"ul\",\n\t\"var\",\n\t\"video\",\n\t\"wbr\",\n\n\t// SVG\n\t\"circle\",\n\t\"clipPath\",\n\t\"defs\",\n\t\"ellipse\",\n\t\"foreignObject\",\n\t\"g\",\n\t\"image\",\n\t\"line\",\n\t\"linearGradient\",\n\t\"marker\",\n\t\"mask\",\n\t\"path\",\n\t\"pattern\",\n\t\"polygon\",\n\t\"polyline\",\n\t\"radialGradient\",\n\t\"rect\",\n\t\"stop\",\n\t\"svg\",\n\t\"text\",\n\t\"tspan\",\n];\n\nconst allowedElements = [\"a\", \"b\", \"strong\", \"em\", \"u\", \"code\", \"del\"];\n\nconst CustomLink = ({ children, ...props }) => (\n\t<a {...props} target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t{children}\n\t</a>\n);\n\nconst MarkdownWrapper = ({ children }) => {\n\tconst boldRegex = /\\*(.*?)\\*/g;\n\tconst tildaRegex = /~(.*?)~/g;\n\t\n\tif(children && children.includes('BEGIN:VCARD'))\n\t\t//children = \"Diga ol ao seu novo contato clicando em *conversar*!\";\n\t\tchildren = null;\n\t\n\tif(children && children.includes('data:image/'))\n\t\tchildren = null;\n\t\n\tif (children && boldRegex.test(children)) {\n\t\tchildren = children.replace(boldRegex, \"**$1**\");\n\t}\n\tif (children && tildaRegex.test(children)) {\n\t\tchildren = children.replace(tildaRegex, \"~~$1~~\");\n\t}\n\n\tconst options = React.useMemo(() => {\n\t\tconst markdownOptions = {\n\t\t\tdisableParsingRawHTML: true,\n\t\t\tforceInline: true,\n\t\t\toverrides: {\n\t\t\t\ta: { component: CustomLink },\n\t\t\t},\n\t\t};\n\n\t\telements.forEach(element => {\n\t\t\tif (!allowedElements.includes(element)) {\n\t\t\t\tmarkdownOptions.overrides[element] = el => el.children || null;\n\t\t\t}\n\t\t});\n\n\t\treturn markdownOptions;\n\t}, []);\n\n\tif (!children) return null;\n\t\n\treturn <Markdown options={options}>{children}</Markdown>;\n};\n\nexport default MarkdownWrapper;","import React, { useState, useEffect, useRef, useContext } from \"react\";\n\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { parseISO, format, isSameDay } from \"date-fns\";\nimport clsx from \"clsx\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Badge from \"@material-ui/core/Badge\";\nimport IconButton from '@material-ui/core/IconButton';\nimport { i18n } from \"../../translate/i18n\";\nimport VisibilityIcon from '@material-ui/icons/Visibility';\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport MarkdownWrapper from \"../MarkdownWrapper\";\nimport { Tooltip } from \"@material-ui/core\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n\tticket: {\n\t\tposition: \"relative\",\n\t},\n\n\tpendingTicket: {\n\t\tcursor: \"unset\",\n\t},\n\n\tnoTicketsDiv: {\n\t\tdisplay: \"flex\",\n\t\theight: \"100px\",\n\t\tmargin: 40,\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t},\n\n\tnoTicketsText: {\n\t\ttextAlign: \"center\",\n\t\tcolor: \"rgb(104, 121, 146)\",\n\t\tfontSize: \"14px\",\n\t\tlineHeight: \"1.4\",\n\t},\n\n\tnoTicketsTitle: {\n\t\ttextAlign: \"center\",\n\t\tfontSize: \"16px\",\n\t\tfontWeight: \"600\",\n\t\tmargin: \"0px\",\n\t},\n\n\tcontactNameWrapper: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"space-between\",\n\t},\n\n\tlastMessageTime: {\n\t\tjustifySelf: \"flex-end\",\n\t},\n\n\tclosedBadge: {\n\t\talignSelf: \"center\",\n\t\tjustifySelf: \"flex-end\",\n\t\tmarginRight: 32,\n\t\tmarginLeft: \"auto\",\n\t},\n\n\tcontactLastMessage: {\n\t\tpaddingRight: 20,\n\t},\n\n\tnewMessagesCount: {\n\t\talignSelf: \"center\",\n\t\tmarginRight: 8,\n\t\tmarginLeft: \"auto\",\n\t},\n\n\tbottomButton: {\n\t\ttop: \"12px\",\n\t},\n\n\tbadgeStyle: {\n\t\tcolor: \"white\",\n\t\tbackgroundColor: green[500],\n\t},\n\n\tacceptButton: {\n\t\tposition: \"absolute\",\n\t\tleft: \"50%\",\n\t},\n\n\tticketQueueColor: {\n\t\tflex: \"none\",\n\t\twidth: \"8px\",\n\t\theight: \"100%\",\n\t\tposition: \"absolute\",\n\t\ttop: \"0%\",\n\t\tleft: \"0%\",\n\t},\n\n\tuserTag: {\n\t\tposition: \"absolute\",\n\t\tmarginRight: 5,\n\t\tright: 20,\n\t\tbottom: 30,\n\t\tbackground: \"#2576D2\",\n\t\tcolor: \"#ffffff\",\n\t\tborder: \"1px solid #CCC\",\n\t\tpadding: 1,\n\t\tpaddingLeft: 5,\n\t\tpaddingRight: 5,\n\t\tborderRadius: 10,\n\t\tfontSize: \"0.9em\"\n\t},\n}));\n\nconst TicketListItem = ({ ticket }) => {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\tconst [loading, setLoading] = useState(false);\n\tconst { ticketId } = useParams();\n\tconst isMounted = useRef(true);\n\tconst { user } = useContext(AuthContext);\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tisMounted.current = false;\n\t\t};\n\t}, []);\n\n\tconst handleAcepptTicket = async id => {\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tawait api.put(`/tickets/${id}`, {\n\t\t\t\tstatus: \"open\",\n\t\t\t\tuserId: user?.id,\n\t\t\t});\n\t\t} catch (err) {\n\t\t\tsetLoading(false);\n\t\t\ttoastError(err);\n\t\t}\n\t\tif (isMounted.current) {\n\t\t\tsetLoading(false);\n\t\t}\n\t\thistory.push(`/tickets/${id}`);\n\t};\n\n\tconst handleViewTicket = async id => {\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tawait api.put(`/tickets/${id}`, {\n\t\t\t\tstatus: \"pending\",\n\t\t\t});\n\t\t} catch (err) {\n\t\t\tsetLoading(false);\n\t\t\ttoastError(err);\n\t\t}\n\t\tif (isMounted.current) {\n\t\t\tsetLoading(false);\n\t\t}\n\t\thistory.push(`/tickets/${id}`);\n\t};\t\n\n\tconst handleSelectTicket = id => {\n\t\thistory.push(`/tickets/${id}`);\n\t};\n\n\treturn (\n\t\t<React.Fragment key={ticket.id}>\n\t\t\t<ListItem\n\t\t\t\tdense\n\t\t\t\tbutton\n\t\t\t\tonClick={e => {\n\t\t\t\t\tif (ticket.status === \"pending\") return;\n\t\t\t\t\thandleSelectTicket(ticket.id);\n\t\t\t\t}}\n\t\t\t\tselected={ticketId && +ticketId === ticket.id}\n\t\t\t\tclassName={clsx(classes.ticket, {\n\t\t\t\t\t[classes.pendingTicket]: ticket.status === \"pending\",\n\t\t\t\t})}\n\t\t\t>\n\t\t\t\t<Tooltip\n\t\t\t\t\tarrow\n\t\t\t\t\tplacement=\"right\"\n\t\t\t\t\ttitle={ticket.queue?.name || \"Sem fila\"}\n\t\t\t\t>\n\t\t\t\t\t<span\n\t\t\t\t\t\tstyle={{ backgroundColor: ticket.queue?.color || \"#7C7C7C\" }}\n\t\t\t\t\t\tclassName={classes.ticketQueueColor}\n\t\t\t\t\t></span>\n\t\t\t\t</Tooltip>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Avatar src={ticket?.contact?.profilePicUrl} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tdisableTypography\n\t\t\t\t\tprimary={\n\t\t\t\t\t\t<span className={classes.contactNameWrapper}>\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tnoWrap\n\t\t\t\t\t\t\t\tcomponent=\"span\"\n\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\tcolor=\"textPrimary\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ticket.contact.name}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t{ticket.lastMessage && (\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tclassName={classes.lastMessageTime}\n\t\t\t\t\t\t\t\t\tcomponent=\"span\"\n\t\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\t\tcolor=\"textSecondary\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{isSameDay(parseISO(ticket.updatedAt), new Date()) ? (\n\t\t\t\t\t\t\t\t\t\t<>{format(parseISO(ticket.updatedAt), \"HH:mm\")}</>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t<>{format(parseISO(ticket.updatedAt), \"dd/MM/yyyy\")}</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t{ticket.whatsappId && (\n\t\t\t\t\t\t\t\t<div className={classes.userTag} title={i18n.t(\"ticketsList.connectionTitle\")}>{ticket.whatsapp?.name}</div>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t}\n\t\t\t\t\tsecondary={\n\t\t\t\t\t\t<span className={classes.contactNameWrapper}>\n\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\tclassName={classes.contactLastMessage}\n\t\t\t\t\t\t\t\tnoWrap\n\t\t\t\t\t\t\t\tcomponent=\"span\"\n\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\tcolor=\"textSecondary\"\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{ticket.lastMessage ? (\n\t\t\t\t\t\t\t\t\t<MarkdownWrapper>{ticket.lastMessage}</MarkdownWrapper>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t<Badge\n\t\t\t\t\t\t\t\tclassName={classes.newMessagesCount}\n\t\t\t\t\t\t\t\tbadgeContent={ticket.unreadMessages}\n\t\t\t\t\t\t\t\tclasses={{\n\t\t\t\t\t\t\t\t\tbadge: classes.badgeStyle,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</span>\n\t\t\t\t\t}\n\t\t\t\t/>\n\n\t\t\t\t{ticket.status === \"pending\" && (\t\t\t\t\t\n\t\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tclassName={classes.acceptButton}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tonClick={e => handleAcepptTicket(ticket.id)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"ticketsList.buttons.accept\")}\n\t\t\t\t\t</ButtonWithSpinner>\n\t\t\t\t)}\t\n\n \t\t\t \t{ticket.status === \"pending\" && (\t\t\t\t\t\n\t\t\t\t\t<IconButton\n\t\t\t\t\tclassName={classes.bottomButton}\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tonClick={e => handleViewTicket(ticket.id)} >\n\t\t\t\t\t<VisibilityIcon />\n\t\t\t\t  \t</IconButton>\t\t\t\t\t\t\t\t\n\t\t\t\t)}\t\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" component=\"li\" />\n\t\t</React.Fragment>\n\t);\n};\n\nexport default TicketListItem;","import { useState, useEffect } from \"react\";\nimport toastError from \"../../errors/toastError\";\n\nimport api from \"../../services/api\";\n\nconst useTickets = ({\n    searchParam,\n    pageNumber,\n    status,\n    date,\n    showAll,\n    queueIds,\n    withUnreadMessages,\n}) => {\n    const [loading, setLoading] = useState(true);\n    const [hasMore, setHasMore] = useState(false);\n    const [tickets, setTickets] = useState([]);\n    const [count, setCount] = useState(0);\n\n    useEffect(() => {\n        setLoading(true);\n        const delayDebounceFn = setTimeout(() => {\n            const fetchTickets = async() => {\n                try {\n                    const { data } = await api.get(\"/tickets\", {\n                        params: {\n                            searchParam,\n                            pageNumber,\n                            status,\n                            date,\n                            showAll,\n                            queueIds,\n                            withUnreadMessages,\n                        },\n                    })\n                    setTickets(data.tickets)\n\n                    let horasFecharAutomaticamente = process.env.REACT_APP_HOURS_CLOSE_TICKETS_AUTO\n\n                    if (status === \"open\" && horasFecharAutomaticamente && horasFecharAutomaticamente !== \"\" &&\n                        horasFecharAutomaticamente !== \"0\" && Number(horasFecharAutomaticamente) > 0) {\n\n                        let dataLimite = new Date()\n                        dataLimite.setHours(dataLimite.getHours() - Number(horasFecharAutomaticamente))\n\n                        data.tickets.forEach(ticket => {\n                            if (ticket.status !== \"closed\") {\n                                let dataUltimaInteracaoChamado = new Date(ticket.updatedAt)\n                                if (dataUltimaInteracaoChamado < dataLimite)\n                                    closeTicket(ticket)\n                            }\n                        })\n                    }\n\n                    setHasMore(data.hasMore)\n                    setCount(data.count)\n                    setLoading(false)\n                } catch (err) {\n                    setLoading(false)\n                    toastError(err)\n                }\n            }\n\n            const closeTicket = async(ticket) => {\n                await api.put(`/tickets/${ticket.id}`, {\n                    status: \"closed\",\n                    userId: ticket.userId || null,\n                })\n            }\n\n            fetchTickets()\n        }, 500)\n        return () => clearTimeout(delayDebounceFn)\n    }, [\n        searchParam,\n        pageNumber,\n        status,\n        date,\n        showAll,\n        queueIds,\n        withUnreadMessages,\n    ])\n\n    return { tickets, loading, hasMore, count };\n};\n\nexport default useTickets;","import React, { useState, useRef, useEffect, useContext } from \"react\";\n\nimport { useHistory } from \"react-router-dom\";\nimport { format } from \"date-fns\";\nimport openSocket from \"socket.io-client\";\nimport useSound from \"use-sound\";\n\nimport Popover from \"@material-ui/core/Popover\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Badge from \"@material-ui/core/Badge\";\nimport ChatIcon from \"@material-ui/icons/Chat\";\n\nimport TicketListItem from \"../TicketListItem\";\nimport { i18n } from \"../../translate/i18n\";\nimport useTickets from \"../../hooks/useTickets\";\nimport alertSound from \"../../assets/sound.mp3\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles(theme => ({\n\ttabContainer: {\n\t\toverflowY: \"auto\",\n\t\tmaxHeight: 350,\n\t\t...theme.scrollbarStyles,\n\t},\n\tpopoverPaper: {\n\t\twidth: \"100%\",\n\t\tmaxWidth: 350,\n\t\tmarginLeft: theme.spacing(2),\n\t\tmarginRight: theme.spacing(1),\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tmaxWidth: 270,\n\t\t},\n\t},\n\tnoShadow: {\n\t\tboxShadow: \"none !important\",\n\t},\n}));\n\nconst NotificationsPopOver = () => {\n\tconst classes = useStyles();\n\n\tconst history = useHistory();\n\tconst { user } = useContext(AuthContext);\n\tconst ticketIdUrl = +history.location.pathname.split(\"/\")[2];\n\tconst ticketIdRef = useRef(ticketIdUrl);\n\tconst anchorEl = useRef();\n\tconst [isOpen, setIsOpen] = useState(false);\n\tconst [notifications, setNotifications] = useState([]);\n\n\tconst [, setDesktopNotifications] = useState([]);\n\n\tconst { tickets } = useTickets({ withUnreadMessages: \"true\" });\n\tconst [play] = useSound(alertSound);\n\tconst soundAlertRef = useRef();\n\n\tconst historyRef = useRef(history);\n\n\tuseEffect(() => {\n\t\tsoundAlertRef.current = play;\n\n\t\tif (!(\"Notification\" in window)) {\n\t\t\tconsole.log(\"This browser doesn't support notifications\");\n\t\t} else {\n\t\t\tNotification.requestPermission();\n\t\t}\n\t}, [play]);\n\n\tuseEffect(() => {\n\t\tsetNotifications(tickets);\n\t}, [tickets]);\n\n\tuseEffect(() => {\n\t\tticketIdRef.current = ticketIdUrl;\n\t}, [ticketIdUrl]);\n\n\tuseEffect(() => {\n\t\tconst socket = openSocket(process.env.REACT_APP_BACKEND_URL);\n\n\t\tsocket.on(\"connect\", () => socket.emit(\"joinNotification\"));\n\n\t\tsocket.on(\"ticket\", data => {\n\t\t\tif (data.action === \"updateUnread\" || data.action === \"delete\") {\n\t\t\t\tsetNotifications(prevState => {\n\t\t\t\t\tconst ticketIndex = prevState.findIndex(t => t.id === data.ticketId);\n\t\t\t\t\tif (ticketIndex !== -1) {\n\t\t\t\t\t\tprevState.splice(ticketIndex, 1);\n\t\t\t\t\t\treturn [...prevState];\n\t\t\t\t\t}\n\t\t\t\t\treturn prevState;\n\t\t\t\t});\n\n\t\t\t\tsetDesktopNotifications(prevState => {\n\t\t\t\t\tconst notfiticationIndex = prevState.findIndex(\n\t\t\t\t\t\tn => n.tag === String(data.ticketId)\n\t\t\t\t\t);\n\t\t\t\t\tif (notfiticationIndex !== -1) {\n\t\t\t\t\t\tprevState[notfiticationIndex].close();\n\t\t\t\t\t\tprevState.splice(notfiticationIndex, 1);\n\t\t\t\t\t\treturn [...prevState];\n\t\t\t\t\t}\n\t\t\t\t\treturn prevState;\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tsocket.on(\"appMessage\", data => {\n\t\t\tif (\n\t\t\t\tdata.action === \"create\" &&\n\t\t\t\t!data.message.read &&\n\t\t\t\t(data.ticket.userId === user?.id || !data.ticket.userId)\n\t\t\t) {\n\t\t\t\tsetNotifications(prevState => {\n\t\t\t\t\tconst ticketIndex = prevState.findIndex(t => t.id === data.ticket.id);\n\t\t\t\t\tif (ticketIndex !== -1) {\n\t\t\t\t\t\tprevState[ticketIndex] = data.ticket;\n\t\t\t\t\t\treturn [...prevState];\n\t\t\t\t\t}\n\t\t\t\t\treturn [data.ticket, ...prevState];\n\t\t\t\t});\n\n\t\t\t\tconst shouldNotNotificate =\n\t\t\t\t\t(data.message.ticketId === ticketIdRef.current &&\n\t\t\t\t\t\tdocument.visibilityState === \"visible\") ||\n\t\t\t\t\t(data.ticket.userId && data.ticket.userId !== user?.id) ||\n\t\t\t\t\tdata.ticket.isGroup;\n\n\t\t\t\tif (shouldNotNotificate) return;\n\n\t\t\t\thandleNotifications(data);\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tsocket.disconnect();\n\t\t};\n\t}, [user]);\n\n\tconst handleNotifications = data => {\n\t\tconst { message, contact, ticket } = data;\n\n\t\tconst options = {\n\t\t\tbody: `${message.body} - ${format(new Date(), \"HH:mm\")}`,\n\t\t\ticon: contact.profilePicUrl,\n\t\t\ttag: ticket.id,\n\t\t\trenotify: true,\n\t\t};\n\n\t\tconst notification = new Notification(\n\t\t\t`${i18n.t(\"tickets.notification.message\")} ${contact.name}`,\n\t\t\toptions\n\t\t);\n\n\t\tnotification.onclick = e => {\n\t\t\te.preventDefault();\n\t\t\twindow.focus();\n\t\t\thistoryRef.current.push(`/tickets/${ticket.id}`);\n\t\t};\n\n\t\tsetDesktopNotifications(prevState => {\n\t\t\tconst notfiticationIndex = prevState.findIndex(\n\t\t\t\tn => n.tag === notification.tag\n\t\t\t);\n\t\t\tif (notfiticationIndex !== -1) {\n\t\t\t\tprevState[notfiticationIndex] = notification;\n\t\t\t\treturn [...prevState];\n\t\t\t}\n\t\t\treturn [notification, ...prevState];\n\t\t});\n\n\t\tsoundAlertRef.current();\n\t};\n\n\tconst handleClick = () => {\n\t\tsetIsOpen(prevState => !prevState);\n\t};\n\n\tconst handleClickAway = () => {\n\t\tsetIsOpen(false);\n\t};\n\n\tconst NotificationTicket = ({ children }) => {\n\t\treturn <div onClick={handleClickAway}>{children}</div>;\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<IconButton\n\t\t\t\tonClick={handleClick}\n\t\t\t\tref={anchorEl}\n\t\t\t\taria-label=\"Open Notifications\"\n\t\t\t\tcolor=\"inherit\"\n\t\t\t>\n\t\t\t\t<Badge badgeContent={notifications.length} color=\"secondary\">\n\t\t\t\t\t<ChatIcon />\n\t\t\t\t</Badge>\n\t\t\t</IconButton>\n\t\t\t<Popover\n\t\t\t\tdisableScrollLock\n\t\t\t\topen={isOpen}\n\t\t\t\tanchorEl={anchorEl.current}\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\ttransformOrigin={{\n\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\tclasses={{ paper: classes.popoverPaper }}\n\t\t\t\tonClose={handleClickAway}\n\t\t\t>\n\t\t\t\t<List dense className={classes.tabContainer}>\n\t\t\t\t\t{notifications.length === 0 ? (\n\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t<ListItemText>{i18n.t(\"notifications.noTickets\")}</ListItemText>\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t) : (\n\t\t\t\t\t\tnotifications.map(ticket => (\n\t\t\t\t\t\t\t<NotificationTicket key={ticket.id}>\n\t\t\t\t\t\t\t\t<TicketListItem ticket={ticket} />\n\t\t\t\t\t\t\t</NotificationTicket>\n\t\t\t\t\t\t))\n\t\t\t\t\t)}\n\t\t\t\t</List>\n\t\t\t</Popover>\n\t\t</>\n\t);\n};\n\nexport default NotificationsPopOver;","import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport Chip from \"@material-ui/core/Chip\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles(theme => ({\n\tchips: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tchip: {\n\t\tmargin: 2,\n\t},\n}));\n\nconst QueueSelect = ({ selectedQueueIds, onChange }) => {\n\tconst classes = useStyles();\n\tconst [queues, setQueues] = useState([]);\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(\"/queue\");\n\t\t\t\tsetQueues(data);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t})();\n\t}, []);\n\n\tconst handleChange = e => {\n\t\tonChange(e.target.value);\n\t};\n\n\treturn (\n\t\t<div style={{ marginTop: 6 }}>\n\t\t\t<FormControl fullWidth margin=\"dense\" variant=\"outlined\">\n\t\t\t\t<InputLabel>{i18n.t(\"queueSelect.inputLabel\")}</InputLabel>\n\t\t\t\t<Select\n\t\t\t\t\tmultiple\n\t\t\t\t\tlabelWidth={60}\n\t\t\t\t\tvalue={selectedQueueIds}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t}}\n\t\t\t\t\trenderValue={selected => (\n\t\t\t\t\t\t<div className={classes.chips}>\n\t\t\t\t\t\t\t{selected?.length > 0 &&\n\t\t\t\t\t\t\t\tselected.map(id => {\n\t\t\t\t\t\t\t\t\tconst queue = queues.find(q => q.id === id);\n\t\t\t\t\t\t\t\t\treturn queue ? (\n\t\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: queue.color }}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tlabel={queue.name}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : null;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{queues.map(queue => (\n\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id}>\n\t\t\t\t\t\t\t{queue.name}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</FormControl>\n\t\t</div>\n\t);\n};\n\nexport default QueueSelect;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport {\n\tButton,\n\tDialog,\n\tDialogActions,\n\tDialogContent,\n\tDialogTitle,\n\tCircularProgress,\n\tSelect,\n\tInputLabel,\n\tMenuItem,\n\tFormControl,\n\tTextField,\n\tInputAdornment,\n\tIconButton\n  } from '@material-ui/core';\n\nimport { Visibility, VisibilityOff } from '@material-ui/icons';\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport QueueSelect from \"../QueueSelect\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../Can\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tmultFieldLine: {\n\t\tdisplay: \"flex\",\n\t\t\"& > *:not(:last-child)\": {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n}));\n\nconst UserSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tpassword: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\").required(\"Required\"),\n});\n\nconst UserModal = ({ open, onClose, userId }) => {\n\tconst classes = useStyles();\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\temail: \"\",\n\t\tpassword: \"\",\n\t\tprofile: \"user\",\n\t};\n\n\tconst { user: loggedInUser } = useContext(AuthContext);\n\n\tconst [user, setUser] = useState(initialState);\n\tconst [selectedQueueIds, setSelectedQueueIds] = useState([]);\n\tconst [showPassword, setShowPassword] = useState(false);\n\n\n\tuseEffect(() => {\n\t\tconst fetchUser = async () => {\n\t\t\tif (!userId) return;\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`/users/${userId}`);\n\t\t\t\tsetUser(prevState => {\n\t\t\t\t\treturn { ...prevState, ...data };\n\t\t\t\t});\n\t\t\t\tconst userQueueIds = data.queues?.map(queue => queue.id);\n\t\t\t\tsetSelectedQueueIds(userQueueIds);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\n\t\tfetchUser();\n\t}, [userId, open]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetUser(initialState);\n\t};\n\n\tconst handleSaveUser = async values => {\n\t\tconst userData = { ...values, queueIds: selectedQueueIds };\n\t\ttry {\n\t\t\tif (userId) {\n\t\t\t\tawait api.put(`/users/${userId}`, userData);\n\t\t\t} else {\n\t\t\t\tawait api.post(\"/users\", userData);\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"userModal.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\thandleClose();\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tmaxWidth=\"xs\"\n\t\t\t\tfullWidth\n\t\t\t\tscroll=\"paper\"\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{userId\n\t\t\t\t\t\t? `${i18n.t(\"userModal.title.edit\")}`\n\t\t\t\t\t\t: `${i18n.t(\"userModal.title.add\")}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={user}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={UserSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveUser(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.name\")}\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.password\")}\n\t\t\t\t\t\t\t\t\t\terror={touched.password && Boolean(errors.password)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.password && errors.password}\n\t\t\t\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\n\t\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"toggle password visibility\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setShowPassword((e) => !e)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{showPassword ? <VisibilityOff /> : <Visibility />}\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.email\")}\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tclassName={classes.formControl}\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\t\t\t\t\t\tperform=\"user-modal:editProfile\"\n\t\t\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"profile-selection-input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.profile\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.profile\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"profile\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"profile-selection-label\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"profile-selection\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"admin\">Admin</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"superv\">Super</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"user\">User</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\t\t\t\tperform=\"user-modal:editQueues\"\n\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t<QueueSelect\n\t\t\t\t\t\t\t\t\t\t\tselectedQueueIds={selectedQueueIds}\n\t\t\t\t\t\t\t\t\t\t\tonChange={values => setSelectedQueueIds(values)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{userId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"userModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"userModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default UserModal;\n","import React from \"react\";\n\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\tbackdrop: {\n\t\tzIndex: theme.zIndex.drawer + 1,\n\t\tcolor: \"#fff\",\n\t},\n}));\n\nconst BackdropLoading = () => {\n\tconst classes = useStyles();\n\treturn (\n\t\t<Backdrop className={classes.backdrop} open={true}>\n\t\t\t<CircularProgress color=\"inherit\" />\n\t\t</Backdrop>\n\t);\n};\n\nexport default BackdropLoading;\n","import React, { useState, useContext, useEffect } from \"react\";\nimport clsx from \"clsx\";\n\nimport {\n  makeStyles,\n  Drawer,\n  AppBar,\n  Toolbar,\n  List,\n  Typography,\n  Divider,\n  MenuItem,\n  IconButton,\n  Menu,\n} from \"@material-ui/core\";\n\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\n\nimport MainListItems from \"./MainListItems\";\nimport NotificationsPopOver from \"../components/NotificationsPopOver\";\nimport UserModal from \"../components/UserModal\";\nimport { AuthContext } from \"../context/Auth/AuthContext\";\nimport BackdropLoading from \"../components/BackdropLoading\";\nimport { i18n } from \"../translate/i18n\";\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    height: \"100vh\",\n    [theme.breakpoints.down(\"sm\")]: {\n      height: \"calc(100vh - 56px)\",\n    },\n  },\n\n  toolbar: {\n    paddingRight: 20, // keep right padding when drawer closed\n  },\n  toolbarIcon: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"flex-end\",\n    padding: \"0 8px\",\n    minHeight: \"48px\",\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  menuButtonHidden: {\n    display: \"none\",\n  },\n  title: {\n    flexGrow: 1,\n  },\n  drawerPaper: {\n    position: \"relative\",\n    whiteSpace: \"nowrap\",\n    width: drawerWidth,\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  drawerPaperClose: {\n    overflowX: \"hidden\",\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    width: theme.spacing(7),\n    [theme.breakpoints.up(\"sm\")]: {\n      width: theme.spacing(9),\n    },\n  },\n  appBarSpacer: {\n    minHeight: \"48px\",\n  },\n  content: {\n    flex: 1,\n    overflow: \"auto\",\n  },\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n  },\n}));\n\nconst LoggedInLayout = ({ children }) => {\n  const classes = useStyles();\n  const [userModalOpen, setUserModalOpen] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [menuOpen, setMenuOpen] = useState(false);\n  const { handleLogout, loading } = useContext(AuthContext);\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [drawerVariant, setDrawerVariant] = useState(\"permanent\");\n  const { user } = useContext(AuthContext);\n\n  useEffect(() => {\n    if (document.body.offsetWidth > 600) {\n      setDrawerOpen(false);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (document.body.offsetWidth < 600) {\n      setDrawerVariant(\"temporary\");\n    } else {\n      setDrawerVariant(\"permanent\");\n    }\n  }, [drawerOpen]);\n\n  const handleMenu = (event) => {\n    setAnchorEl(event.currentTarget);\n    setMenuOpen(true);\n  };\n\n  const handleCloseMenu = () => {\n    setAnchorEl(null);\n    setMenuOpen(false);\n  };\n\n  const handleOpenUserModal = () => {\n    setUserModalOpen(true);\n    handleCloseMenu();\n  };\n\n  const handleClickLogout = () => {\n    handleCloseMenu();\n    handleLogout();\n  };\n\n  const drawerClose = () => {\n    if (document.body.offsetWidth < 600) {\n      setDrawerOpen(false);\n    }\n  };\n\n  if (loading) {\n    return <BackdropLoading />;\n  }\n\n  return (\n    <div className={classes.root}>\n      <Drawer\n        variant={drawerVariant}\n        className={drawerOpen ? classes.drawerPaper : classes.drawerPaperClose}\n        classes={{\n          paper: clsx(\n            classes.drawerPaper,\n            !drawerOpen && classes.drawerPaperClose\n          ),\n        }}\n        open={drawerOpen}\n      >\n        <div className={classes.toolbarIcon}>\n          <IconButton onClick={() => setDrawerOpen(!drawerOpen)}>\n            <ChevronLeftIcon />\n          </IconButton>\n        </div>\n        <Divider />\n        <List>\n          <MainListItems drawerClose={drawerClose} />\n        </List>\n        <Divider />\n      </Drawer>\n      <UserModal\n        open={userModalOpen}\n        onClose={() => setUserModalOpen(false)}\n        userId={user?.id}\n      />\n      <AppBar\n        position=\"absolute\"\n        className={clsx(classes.appBar, drawerOpen && classes.appBarShift)}\n        color={process.env.NODE_ENV === \"development\" ? \"inherit\" : \"primary\"}\n      >\n        <Toolbar variant=\"dense\" className={classes.toolbar}>\n          <IconButton\n            edge=\"start\"\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            onClick={() => setDrawerOpen(!drawerOpen)}\n            className={clsx(\n              classes.menuButton,\n              drawerOpen && classes.menuButtonHidden\n            )}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Typography\n            component=\"h1\"\n            variant=\"h6\"\n            color=\"inherit\"\n            noWrap\n            className={classes.title}\n          >\n            Fasterisk-Whatsapp\n          </Typography>\n            {user.id && <NotificationsPopOver />}\n\n          <div>\n            <IconButton\n              aria-label=\"account of current user\"\n              aria-controls=\"menu-appbar\"\n              aria-haspopup=\"true\"\n              onClick={handleMenu}\n              color=\"inherit\"\n            >\n              <AccountCircle />\n            </IconButton>\n            <Menu\n              id=\"menu-appbar\"\n              anchorEl={anchorEl}\n              getContentAnchorEl={null}\n              anchorOrigin={{\n                vertical: \"bottom\",\n                horizontal: \"right\",\n              }}\n              transformOrigin={{\n                vertical: \"top\",\n                horizontal: \"right\",\n              }}\n              open={menuOpen}\n              onClose={handleCloseMenu}\n            >\n              <MenuItem onClick={handleOpenUserModal}>\n                {i18n.t(\"mainDrawer.appBar.user.profile\")}\n              </MenuItem>\n              <MenuItem onClick={handleClickLogout}>\n                {i18n.t(\"mainDrawer.appBar.user.logout\")}\n              </MenuItem>\n            </Menu>\n          </div>\n        </Toolbar>\n      </AppBar>\n      <main className={classes.content}>\n        <div className={classes.appBarSpacer} />\n\n        {children ? children : null}\n      </main>\n    </div>\n  );\n};\n\nexport default LoggedInLayout;\n","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst Title = props => {\n\treturn (\n\t\t<Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\n\t\t\t{props.children}\n\t\t</Typography>\n\t);\n};\n\nexport default Title;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport {\n\tBarChart,\n\tCartesianGrid,\n\tBar,\n\tXAxis,\n\tYAxis,\n\tLabel,\n\tResponsiveContainer,\n} from \"recharts\";\nimport { startOfHour, parseISO, format } from \"date-fns\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport Title from \"./Title\";\nimport useTickets from \"../../hooks/useTickets\";\n\nconst Chart = () => {\n\tconst theme = useTheme();\n\n\tconst date = useRef(new Date().toISOString());\n\tconst { tickets } = useTickets({ date: date.current });\n\n\tconst [chartData, setChartData] = useState([\n\t\t{ time: \"08:00\", amount: 0 },\n\t\t{ time: \"09:00\", amount: 0 },\n\t\t{ time: \"10:00\", amount: 0 },\n\t\t{ time: \"11:00\", amount: 0 },\n\t\t{ time: \"12:00\", amount: 0 },\n\t\t{ time: \"13:00\", amount: 0 },\n\t\t{ time: \"14:00\", amount: 0 },\n\t\t{ time: \"15:00\", amount: 0 },\n\t\t{ time: \"16:00\", amount: 0 },\n\t\t{ time: \"17:00\", amount: 0 },\n\t\t{ time: \"18:00\", amount: 0 },\n\t\t{ time: \"19:00\", amount: 0 },\n\t]);\n\n\tuseEffect(() => {\n\t\tsetChartData(prevState => {\n\t\t\tlet aux = [...prevState];\n\n\t\t\taux.forEach(a => {\n\t\t\t\ttickets.forEach(ticket => {\n\t\t\t\t\tformat(startOfHour(parseISO(ticket.createdAt)), \"HH:mm\") === a.time &&\n\t\t\t\t\t\ta.amount++;\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn aux;\n\t\t});\n\t}, [tickets]);\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<Title>{`${i18n.t(\"dashboard.charts.perDay.title\")}${\n\t\t\t\ttickets.length\n\t\t\t}`}</Title>\n\t\t\t<ResponsiveContainer>\n\t\t\t\t<BarChart\n\t\t\t\t\tdata={chartData}\n\t\t\t\t\tbarSize={40}\n\t\t\t\t\twidth={730}\n\t\t\t\t\theight={250}\n\t\t\t\t\tmargin={{\n\t\t\t\t\t\ttop: 16,\n\t\t\t\t\t\tright: 16,\n\t\t\t\t\t\tbottom: 0,\n\t\t\t\t\t\tleft: 24,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<CartesianGrid strokeDasharray=\"3 3\" />\n\t\t\t\t\t<XAxis dataKey=\"time\" stroke={theme.palette.text.secondary} />\n\t\t\t\t\t<YAxis\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tallowDecimals={false}\n\t\t\t\t\t\tstroke={theme.palette.text.secondary}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Label\n\t\t\t\t\t\t\tangle={270}\n\t\t\t\t\t\t\tposition=\"left\"\n\t\t\t\t\t\t\tstyle={{ textAnchor: \"middle\", fill: theme.palette.text.primary }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tTickets\n\t\t\t\t\t\t</Label>\n\t\t\t\t\t</YAxis>\n\t\t\t\t\t<Bar dataKey=\"amount\" fill={theme.palette.primary.main} />\n\t\t\t\t</BarChart>\n\t\t\t</ResponsiveContainer>\n\t\t</React.Fragment>\n\t);\n};\n\nexport default Chart;\n","import React, { useContext } from \"react\"\n\nimport Paper from \"@material-ui/core/Paper\"\nimport Container from \"@material-ui/core/Container\"\nimport Grid from \"@material-ui/core/Grid\"\nimport { makeStyles } from \"@material-ui/core/styles\"\nimport Typography from \"@material-ui/core/Typography\";\n\nimport useTickets from \"../../hooks/useTickets\"\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport Chart from \"./Chart\"\n\nconst useStyles = makeStyles(theme => ({\n\tcontainer: {\n\t\tpaddingTop: theme.spacing(4),\n\t\tpaddingBottom: theme.spacing(4),\n\t},\n\tfixedHeightPaper: {\n\t\tpadding: theme.spacing(2),\n\t\tdisplay: \"flex\",\n\t\toverflow: \"auto\",\n\t\tflexDirection: \"column\",\n\t\theight: 240,\n\t},\n\tcustomFixedHeightPaper: {\n\t\tpadding: theme.spacing(2),\n\t\tdisplay: \"flex\",\n\t\toverflow: \"auto\",\n\t\tflexDirection: \"column\",\n\t\theight: 120,\n\t},\n\tcustomFixedHeightPaperLg: {\n\t\tpadding: theme.spacing(2),\n\t\tdisplay: \"flex\",\n\t\toverflow: \"auto\",\n\t\tflexDirection: \"column\",\n\t\theight: \"100%\",\n\t},\n}))\n\nconst Dashboard = () => {\n\tconst classes = useStyles()\n\n\tconst { user } = useContext(AuthContext);\n\tvar userQueueIds = [];\n\n\tif (user.queues && user.queues.length > 0) {\n\t\tuserQueueIds = user.queues.map(q => q.id);\n\t}\n\n\tconst GetTickets = (status, showAll, withUnreadMessages) => {\n\n\t\tconst { count } = useTickets({\n\t\t\tstatus: status,\n\t\t\tshowAll: showAll,\n\t\t\twithUnreadMessages: withUnreadMessages,\n\t\t\tqueueIds: JSON.stringify(userQueueIds)\n\t\t});\n\t\treturn count;\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<Container maxWidth=\"lg\" className={classes.container}>\n\t\t\t\t<Grid container spacing={3}>\n\t\t\t\t\t<Grid item xs={4}>\n\t\t\t\t\t\t<Paper className={classes.customFixedHeightPaper} style={{ overflow: \"hidden\" }}>\n\t\t\t\t\t\t\t<Typography component=\"h3\" variant=\"h6\" color=\"primary\" paragraph>\n\t\t\t\t\t\t\t\t{i18n.t(\"dashboard.messages.inAttendance.title\")}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<Typography component=\"h1\" variant=\"h4\">\n\t\t\t\t\t\t\t\t\t{GetTickets(\"open\", \"true\", \"false\")}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={4}>\n\t\t\t\t\t\t<Paper className={classes.customFixedHeightPaper} style={{ overflow: \"hidden\" }}>\n\t\t\t\t\t\t\t<Typography component=\"h3\" variant=\"h6\" color=\"primary\" paragraph>\n\t\t\t\t\t\t\t\t{i18n.t(\"dashboard.messages.waiting.title\")}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<Typography component=\"h1\" variant=\"h4\">\n\t\t\t\t\t\t\t\t\t{GetTickets(\"pending\", \"true\", \"false\")}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={4}>\n\t\t\t\t\t\t<Paper className={classes.customFixedHeightPaper} style={{ overflow: \"hidden\" }}>\n\t\t\t\t\t\t\t<Typography component=\"h3\" variant=\"h6\" color=\"primary\" paragraph>\n\t\t\t\t\t\t\t\t{i18n.t(\"dashboard.messages.closed.title\")}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<Typography component=\"h1\" variant=\"h4\">\n\t\t\t\t\t\t\t\t\t{GetTickets(\"closed\", \"true\", \"false\")}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Paper className={classes.fixedHeightPaper}>\n\t\t\t\t\t\t\t<Chart />\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Container>\n\t\t</div>\n\t)\n}\n\nexport default Dashboard","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, FieldArray, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\ttextField: {\n\t\tmarginRight: theme.spacing(1),\n\t\tflex: 1,\n\t},\n\n\textraAttr: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n}));\n\nconst ContactSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tnumber: Yup.string().min(8, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\"),\n});\n\nconst ContactModal = ({ open, onClose, contactId, initialValues, onSave }) => {\n\tconst classes = useStyles();\n\tconst isMounted = useRef(true);\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\tnumber: \"\",\n\t\temail: \"\",\n\t};\n\n\tconst [contact, setContact] = useState(initialState);\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tisMounted.current = false;\n\t\t};\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst fetchContact = async () => {\n\t\t\tif (initialValues) {\n\t\t\t\tsetContact(prevState => {\n\t\t\t\t\treturn { ...prevState, ...initialValues };\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (!contactId) return;\n\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`/contacts/${contactId}`);\n\t\t\t\tif (isMounted.current) {\n\t\t\t\t\tsetContact(data);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\n\t\tfetchContact();\n\t}, [contactId, open, initialValues]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetContact(initialState);\n\t};\n\n\tconst handleSaveContact = async values => {\n\t\ttry {\n\t\t\tif (contactId) {\n\t\t\t\tawait api.put(`/contacts/${contactId}`, values);\n\t\t\t\thandleClose();\n\t\t\t} else {\n\t\t\t\tconst { data } = await api.post(\"/contacts\", values);\n\t\t\t\tif (onSave) {\n\t\t\t\t\tonSave(data);\n\t\t\t\t}\n\t\t\t\thandleClose();\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"contactModal.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog open={open} onClose={handleClose} maxWidth=\"lg\" scroll=\"paper\">\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{contactId\n\t\t\t\t\t\t? `${i18n.t(\"contactModal.title.edit\")}`\n\t\t\t\t\t\t: `${i18n.t(\"contactModal.title.add\")}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={contact}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={ContactSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveContact(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ values, errors, touched, isSubmitting }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" gutterBottom>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.mainInfo\")}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.name\")}\n\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.number\")}\n\t\t\t\t\t\t\t\t\tname=\"number\"\n\t\t\t\t\t\t\t\t\terror={touched.number && Boolean(errors.number)}\n\t\t\t\t\t\t\t\t\thelperText={touched.number && errors.number}\n\t\t\t\t\t\t\t\t\tplaceholder=\"5513912344321\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.email\")}\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Email address\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tstyle={{ marginBottom: 8, marginTop: 12 }}\n\t\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.extraInfo\")}\n\t\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t\t<FieldArray name=\"extraInfo\">\n\t\t\t\t\t\t\t\t\t{({ push, remove }) => (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t{values.extraInfo &&\n\t\t\t\t\t\t\t\t\t\t\t\tvalues.extraInfo.length > 0 &&\n\t\t\t\t\t\t\t\t\t\t\t\tvalues.extraInfo.map((info, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.extraAttr}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={`${index}-info`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.extraName\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`extraInfo[${index}].name`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.extraValue\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`extraInfo[${index}].value`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => remove(index)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteOutlineIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t<div className={classes.extraAttr}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ flex: 1, marginTop: 8 }}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => push({ name: \"\", value: \"\" })}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{`+ ${i18n.t(\"contactModal.buttons.addExtraInfo\")}`}\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</FieldArray>\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{contactId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"contactModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"contactModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default ContactModal;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\n\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Autocomplete, {\n\tcreateFilterOptions,\n} from \"@material-ui/lab/Autocomplete\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ContactModal from \"../ContactModal\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst filter = createFilterOptions({\n\ttrim: true,\n});\n\nconst NewTicketModal = ({ modalOpen, onClose }) => {\n\tconst history = useHistory();\n\n\tconst [options, setOptions] = useState([]);\n\tconst [loading, setLoading] = useState(false);\n\tconst [searchParam, setSearchParam] = useState(\"\");\n\tconst [selectedContact, setSelectedContact] = useState(null);\n\tconst [newContact, setNewContact] = useState({});\n\tconst [contactModalOpen, setContactModalOpen] = useState(false);\n\tconst { user } = useContext(AuthContext);\n\n\tuseEffect(() => {\n\t\tif (!modalOpen || searchParam.length < 3) {\n\t\t\tsetLoading(false);\n\t\t\treturn;\n\t\t}\n\t\tsetLoading(true);\n\t\tconst delayDebounceFn = setTimeout(() => {\n\t\t\tconst fetchContacts = async () => {\n\t\t\t\ttry {\n\t\t\t\t\tconst { data } = await api.get(\"contacts\", {\n\t\t\t\t\t\tparams: { searchParam },\n\t\t\t\t\t});\n\t\t\t\t\tsetOptions(data.contacts);\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t\ttoastError(err);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfetchContacts();\n\t\t}, 500);\n\t\treturn () => clearTimeout(delayDebounceFn);\n\t}, [searchParam, modalOpen]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetSearchParam(\"\");\n\t\tsetSelectedContact(null);\n\t};\n\n\tconst handleSaveTicket = async contactId => {\n\t\tif (!contactId) return;\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tconst { data: ticket } = await api.post(\"/tickets\", {\n\t\t\t\tcontactId: contactId,\n\t\t\t\tuserId: user.id,\n\t\t\t\tstatus: \"open\",\n\t\t\t});\n\t\t\thistory.push(`/tickets/${ticket.id}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\tsetLoading(false);\n\t\thandleClose();\n\t};\n\n\tconst handleSelectOption = (e, newValue) => {\n\t\tif (newValue?.number) {\n\t\t\tsetSelectedContact(newValue);\n\t\t} else if (newValue?.name) {\n\t\t\tsetNewContact({ name: newValue.name });\n\t\t\tsetContactModalOpen(true);\n\t\t}\n\t};\n\n\tconst handleCloseContactModal = () => {\n\t\tsetContactModalOpen(false);\n\t};\n\n\tconst handleAddNewContactTicket = contact => {\n\t\thandleSaveTicket(contact.id);\n\t};\n\n\tconst createAddContactOption = (filterOptions, params) => {\n\t\tconst filtered = filter(filterOptions, params);\n\n\t\tif (params.inputValue !== \"\" && !loading && searchParam.length >= 3) {\n\t\t\tfiltered.push({\n\t\t\t\tname: `${params.inputValue}`,\n\t\t\t});\n\t\t}\n\n\t\treturn filtered;\n\t};\n\n\tconst renderOption = option => {\n\t\tif (option.number) {\n\t\t\treturn `${option.name} - ${option.number}`;\n\t\t} else {\n\t\t\treturn `${i18n.t(\"newTicketModal.add\")} ${option.name}`;\n\t\t}\n\t};\n\n\tconst renderOptionLabel = option => {\n\t\tif (option.number) {\n\t\t\treturn `${option.name} - ${option.number}`;\n\t\t} else {\n\t\t\treturn `${option.name}`;\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<ContactModal\n\t\t\t\topen={contactModalOpen}\n\t\t\t\tinitialValues={newContact}\n\t\t\t\tonClose={handleCloseContactModal}\n\t\t\t\tonSave={handleAddNewContactTicket}\n\t\t\t></ContactModal>\n\t\t\t<Dialog open={modalOpen} onClose={handleClose}>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{i18n.t(\"newTicketModal.title\")}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\toptions={options}\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tstyle={{ width: 300 }}\n\t\t\t\t\t\tclearOnBlur\n\t\t\t\t\t\tautoHighlight\n\t\t\t\t\t\tfreeSolo\n\t\t\t\t\t\tclearOnEscape\n\t\t\t\t\t\tgetOptionLabel={renderOptionLabel}\n\t\t\t\t\t\trenderOption={renderOption}\n\t\t\t\t\t\tfilterOptions={createAddContactOption}\n\t\t\t\t\t\tonChange={(e, newValue) => handleSelectOption(e, newValue)}\n\t\t\t\t\t\trenderInput={params => (\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\t\tlabel={i18n.t(\"newTicketModal.fieldLabel\")}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tonChange={e => setSearchParam(e.target.value)}\n\t\t\t\t\t\t\t\tonKeyPress={e => {\n\t\t\t\t\t\t\t\t\tif (loading || !selectedContact) return;\n\t\t\t\t\t\t\t\t\telse if (e.key === \"Enter\") {\n\t\t\t\t\t\t\t\t\t\thandleSaveTicket(selectedContact.id);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t...params.InputProps,\n\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<CircularProgress color=\"inherit\" size={20} />\n\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t{params.InputProps.endAdornment}\n\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"newTicketModal.buttons.cancel\")}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tdisabled={!selectedContact}\n\t\t\t\t\t\tonClick={() => handleSaveTicket(selectedContact.id)}\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"newTicketModal.buttons.ok\")}\n\t\t\t\t\t</ButtonWithSpinner>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\t\t</>\n\t);\n};\n\nexport default NewTicketModal;\n","import React from \"react\";\n\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nconst TicketsSkeleton = () => {\n\treturn (\n\t\t<>\n\t\t\t<ListItem dense>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={60} />}\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={90} />}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" />\n\t\t\t<ListItem dense>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={70} />}\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={120} />}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" />\n\t\t\t<ListItem dense>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={60} />}\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={90} />}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" />\n\t\t</>\n\t);\n};\n\nexport default TicketsSkeleton;\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport openSocket from \"socket.io-client\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport List from \"@material-ui/core/List\";\nimport Paper from \"@material-ui/core/Paper\";\n\nimport TicketListItem from \"../TicketListItem\";\nimport TicketsListSkeleton from \"../TicketsListSkeleton\";\n\nimport useTickets from \"../../hooks/useTickets\";\nimport { i18n } from \"../../translate/i18n\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  ticketsListWrapper: {\n    position: \"relative\",\n    display: \"flex\",\n    height: \"100%\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n  },\n\n  ticketsList: {\n    flex: 1,\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n    borderTop: \"2px solid rgba(0, 0, 0, 0.12)\",\n  },\n\n  ticketsListHeader: {\n    color: \"rgb(67, 83, 105)\",\n    zIndex: 2,\n    backgroundColor: \"white\",\n    borderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n  },\n\n  ticketsCount: {\n    fontWeight: \"normal\",\n    color: \"rgb(104, 121, 146)\",\n    marginLeft: \"8px\",\n    fontSize: \"14px\",\n  },\n\n  noTicketsText: {\n    textAlign: \"center\",\n    color: \"rgb(104, 121, 146)\",\n    fontSize: \"14px\",\n    lineHeight: \"1.4\",\n  },\n\n  noTicketsTitle: {\n    textAlign: \"center\",\n    fontSize: \"16px\",\n    fontWeight: \"600\",\n    margin: \"0px\",\n  },\n\n  noTicketsDiv: {\n    display: \"flex\",\n    height: \"100px\",\n    margin: 40,\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_TICKETS\") {\n    const newTickets = action.payload;\n\n    newTickets.forEach((ticket) => {\n      const ticketIndex = state.findIndex((t) => t.id === ticket.id);\n      if (ticketIndex !== -1) {\n        state[ticketIndex] = ticket;\n        if (ticket.unreadMessages > 0) {\n          state.unshift(state.splice(ticketIndex, 1)[0]);\n        }\n      } else {\n        state.push(ticket);\n      }\n    });\n\n    return [...state];\n  }\n\n  if (action.type === \"RESET_UNREAD\") {\n    const ticketId = action.payload;\n\n    const ticketIndex = state.findIndex((t) => t.id === ticketId);\n    if (ticketIndex !== -1) {\n      state[ticketIndex].unreadMessages = 0;\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_TICKET\") {\n    const ticket = action.payload;\n\n    const ticketIndex = state.findIndex((t) => t.id === ticket.id);\n    if (ticketIndex !== -1) {\n      state[ticketIndex] = ticket;\n    } else {\n      state.unshift(ticket);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_TICKET_UNREAD_MESSAGES\") {\n    const ticket = action.payload;\n\n    const ticketIndex = state.findIndex((t) => t.id === ticket.id);\n    if (ticketIndex !== -1) {\n      state[ticketIndex] = ticket;\n      state.unshift(state.splice(ticketIndex, 1)[0]);\n    } else {\n      state.unshift(ticket);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_TICKET_CONTACT\") {\n    const contact = action.payload;\n    const ticketIndex = state.findIndex((t) => t.contactId === contact.id);\n    if (ticketIndex !== -1) {\n      state[ticketIndex].contact = contact;\n    }\n    return [...state];\n  }\n\n  if (action.type === \"DELETE_TICKET\") {\n    const ticketId = action.payload;\n    const ticketIndex = state.findIndex((t) => t.id === ticketId);\n    if (ticketIndex !== -1) {\n      state.splice(ticketIndex, 1);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst TicketsList = (props) => {\n  const {\n    status,\n    searchParam,\n    showAll,\n    selectedAgentId = 0,\n    selectedQueueIds,\n    updateCount,\n    style,\n  } = props;\n  const classes = useStyles();\n  const [pageNumber, setPageNumber] = useState(1);\n  const [ticketsList, dispatch] = useReducer(reducer, []);\n  const { user } = useContext(AuthContext);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [status, searchParam, dispatch, showAll, selectedQueueIds]);\n\n  const { tickets, hasMore, loading } = useTickets({\n    pageNumber,\n    searchParam,\n    status,\n    showAll,\n    queueIds: JSON.stringify(selectedQueueIds),\n  });\n\n  useEffect(() => {\n    if (!status && !searchParam) return;\n    dispatch({\n      type: \"LOAD_TICKETS\",\n      payload: tickets,\n    });\n  }, [tickets, status, searchParam]);\n\n  useEffect(() => {\n    const socket = openSocket(process.env.REACT_APP_BACKEND_URL);\n\n    const shouldUpdateTicket = (ticket) =>\n      (!ticket.userId || ticket.userId === user?.id || showAll) &&\n      (!ticket.queueId || selectedQueueIds.indexOf(ticket.queueId) > -1);\n\n    const notBelongsToUserQueues = (ticket) =>\n      ticket.queueId && selectedQueueIds.indexOf(ticket.queueId) === -1;\n\n    socket.on(\"connect\", () => {\n      if (status) {\n        socket.emit(\"joinTickets\", status);\n      } else {\n        socket.emit(\"joinNotification\");\n      }\n    });\n\n    socket.on(\"ticket\", (data) => {\n      if (data.action === \"updateUnread\") {\n        dispatch({\n          type: \"RESET_UNREAD\",\n          payload: data.ticketId,\n        });\n      }\n\n      if (data.action === \"update\" && shouldUpdateTicket(data.ticket)) {\n        dispatch({\n          type: \"UPDATE_TICKET\",\n          payload: data.ticket,\n        });\n      }\n\n      if (data.action === \"update\" && notBelongsToUserQueues(data.ticket)) {\n        dispatch({ type: \"DELETE_TICKET\", payload: data.ticket.id });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_TICKET\", payload: data.ticketId });\n      }\n    });\n\n    socket.on(\"appMessage\", (data) => {\n      if (data.action === \"create\" && shouldUpdateTicket(data.ticket)) {\n        dispatch({\n          type: \"UPDATE_TICKET_UNREAD_MESSAGES\",\n          payload: data.ticket,\n        });\n      }\n    });\n\n    socket.on(\"contact\", (data) => {\n      if (data.action === \"update\") {\n        dispatch({\n          type: \"UPDATE_TICKET_CONTACT\",\n          payload: data.contact,\n        });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [status, showAll, user, selectedQueueIds]);\n\n  useEffect(() => {\n    if (typeof updateCount === \"function\") {\n      updateCount(ticketsList.length);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [ticketsList]);\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <Paper className={classes.ticketsListWrapper} style={style}>\n      <Paper\n        square\n        name=\"closed\"\n        elevation={0}\n        className={classes.ticketsList}\n        onScroll={handleScroll}\n      >\n        <List style={{ paddingTop: 0 }}>\n          {ticketsList.length === 0 && !loading ? (\n            <div className={classes.noTicketsDiv}>\n              <span className={classes.noTicketsTitle}>\n                {i18n.t(\"ticketsList.noTicketsTitle\")}\n              </span>\n              <p className={classes.noTicketsText}>\n                {i18n.t(\"ticketsList.noTicketsMessage\")}\n              </p>\n            </div>\n          ) : (\n            <>\n              {selectedAgentId !== 0\n                ? ticketsList\n                    .filter((ticket) => ticket.userId === selectedAgentId)\n                    .map((ticket) => (\n                      <TicketListItem ticket={ticket} key={ticket.id} />\n                    ))\n                : ticketsList.map((ticket) => (\n                    <TicketListItem ticket={ticket} key={ticket.id} />\n                  ))}\n            </>\n          )}\n          {loading && <TicketsListSkeleton />}\n        </List>\n      </Paper>\n    </Paper>\n  );\n};\n\nexport default TicketsList;\n","import React from \"react\";\n\nconst TabPanel = ({ children, value, name, ...rest }) => {\n\tif (value === name) {\n\t\treturn (\n\t\t\t<div\n\t\t\t\trole=\"tabpanel\"\n\t\t\t\tid={`simple-tabpanel-${name}`}\n\t\t\t\taria-labelledby={`simple-tab-${name}`}\n\t\t\t\t{...rest}\n\t\t\t>\n\t\t\t\t<>{children}</>\n\t\t\t</div>\n\t\t);\n\t} else return null;\n};\n\nexport default TabPanel;\n","import React from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport { Checkbox, ListItemText } from \"@material-ui/core\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst TicketsQueueSelect = ({\n\tuserQueues,\n\tselectedQueueIds = [],\n\tonChange,\n}) => {\n\tconst handleChange = e => {\n\t\tonChange(e.target.value);\n\t};\n\n\treturn (\n\t\t<div style={{ width: 120, marginTop: -4 }}>\n\t\t\t<FormControl fullWidth margin=\"dense\">\n\t\t\t\t<Select\n\t\t\t\t\tmultiple\n\t\t\t\t\tdisplayEmpty\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tvalue={selectedQueueIds}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t}}\n\t\t\t\t\trenderValue={() => i18n.t(\"ticketsQueueSelect.placeholder\")}\n\t\t\t\t>\n\t\t\t\t\t{userQueues?.length > 0 &&\n\t\t\t\t\t\tuserQueues.map(queue => (\n\t\t\t\t\t\t\t<MenuItem dense key={queue.id} value={queue.id}>\n\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tcolor: queue.color,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tchecked={selectedQueueIds.indexOf(queue.id) > -1}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<ListItemText primary={queue.name} />\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</FormControl>\n\t\t</div>\n\t);\n};\n\nexport default TicketsQueueSelect;\n","import React from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport { Checkbox, ListItemText } from \"@material-ui/core\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst TicketsAgentSelect = ({ agents, selectedAgentId = 0, onChange }) => {\n  const handleChange = (e) => {\n    onChange(e.target.value);\n  };\n\n  return (\n    <div style={{ width: 120, marginTop: -4 }}>\n      <FormControl fullWidth margin=\"dense\">\n        <Select\n          displayEmpty\n          variant=\"outlined\"\n          value={selectedAgentId}\n          onChange={handleChange}\n          MenuProps={{\n            anchorOrigin: {\n              vertical: \"bottom\",\n              horizontal: \"left\",\n            },\n            transformOrigin: {\n              vertical: \"top\",\n              horizontal: \"left\",\n            },\n            getContentAnchorEl: null,\n          }}\n          renderValue={() => \"Agente\"}\n        >\n          <MenuItem dense key={0} value={0}>\n            <Checkbox\n              size=\"small\"\n              color=\"primary\"\n              checked={selectedAgentId === 0}\n            />\n            <ListItemText primary={\"Todos os agentes\"} />\n          </MenuItem>\n          {agents?.length > 0 &&\n            agents.map((agent) => (\n              <MenuItem dense key={agent.id} value={agent.id}>\n                <Checkbox\n                  size=\"small\"\n                  color=\"primary\"\n                  checked={selectedAgentId === agent.id}\n                />\n                <ListItemText primary={agent.name} />\n              </MenuItem>\n            ))}\n        </Select>\n      </FormControl>\n    </div>\n  );\n};\n\nexport default TicketsAgentSelect;\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Badge from \"@material-ui/core/Badge\";\n// import MoveToInboxIcon from \"@material-ui/icons/MoveToInbox\";\nimport CheckBoxIcon from \"@material-ui/icons/CheckBox\";\n\nimport MoveToInboxIcon from \"@mui/icons-material/MoveToInbox\";\nimport HourglassEmptyRoundedIcon from \"@mui/icons-material/HourglassEmptyRounded\";\nimport AllInboxRoundedIcon from \"@mui/icons-material/AllInboxRounded\";\n\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Switch from \"@material-ui/core/Switch\";\n\nimport NewTicketModal from \"../NewTicketModal\";\nimport TicketsList from \"../TicketsList\";\nimport TabPanel from \"../TabPanel\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../Can\";\nimport TicketsQueueSelect from \"../TicketsQueueSelect\";\nimport { Button } from \"@material-ui/core\";\nimport TicketsAgentSelect from \"../TicketsAgentSelect\";\nimport api from \"../../services/api\";\n\nconst useStyles = makeStyles((theme) => ({\n  ticketsWrapper: {\n    position: \"relative\",\n    display: \"flex\",\n    height: \"100%\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n  },\n\n  tabsHeader: {\n    flex: \"none\",\n    backgroundColor: \"#eee\",\n  },\n\n  settingsIcon: {\n    alignSelf: \"center\",\n    marginLeft: \"auto\",\n    padding: 8,\n  },\n\n  tab: {\n    minWidth: 120,\n    width: 120,\n  },\n\n  ticketOptionsBox: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    background: \"#fafafa\",\n    padding: theme.spacing(1),\n  },\n\n  serachInputWrapper: {\n    flex: 1,\n    background: \"#fff\",\n    display: \"flex\",\n    borderRadius: 40,\n    padding: 4,\n    marginRight: theme.spacing(1),\n  },\n\n  searchIcon: {\n    color: \"grey\",\n    marginLeft: 6,\n    marginRight: 6,\n    alignSelf: \"center\",\n  },\n\n  searchInput: {\n    flex: 11,\n    outlineStyle: \"none\",\n    border: \"none\",\n    padding: \"10px\",\n  },\n\n  badge: {\n    right: \"-10px\",\n  },\n  show: {\n    display: \"block\",\n  },\n  hide: {\n    display: \"none !important\",\n  },\n  searchContainer: {\n    display: \"flex\",\n    padding: \"10px\",\n    borderBottom: \"2px solid rgba(0, 0, 0, .12)\",\n  },\n}));\n\nconst TicketsManager = () => {\n  const classes = useStyles();\n\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [tab, setTab] = useState(\"open\");\n  const [tabOpen, setTabOpen] = useState(\"open\");\n  const [newTicketModalOpen, setNewTicketModalOpen] = useState(false);\n  const [showAllTickets, setShowAllTickets] = useState(false);\n  const searchInputRef = useRef();\n  const { user } = useContext(AuthContext);\n\n  const [openCount, setOpenCount] = useState(0);\n  const [pendingCount, setPendingCount] = useState(0);\n\n  const userQueueIds = user.queues.map((q) => q.id);\n  const [selectedQueueIds, setSelectedQueueIds] = useState(userQueueIds || []);\n\n  const [agents, setAgents] = useState([]);\n  const [selectedAgentId, setSelectedAgentId] = useState(0);\n\n  async function loadAgents() {\n    const { data } = await api.get(\"/users\");\n\n    setAgents(data.users);\n  }\n\n  useEffect(() => {\n    if (\n      user.profile.toUpperCase() === \"ADMIN\" ||\n      user.profile.toUpperCase() === \"SUPERV\"\n    ) {\n      setShowAllTickets(true);\n    }\n\n    loadAgents();\n  }, []);\n\n  const handleSearch = (e) => {\n    const searchedTerm = e.target.value.toLowerCase();\n\n    setSearchParam(searchedTerm);\n    if (searchedTerm === \"\") {\n      setTab(\"open\");\n    } else if (tab !== \"search\") {\n      setTab(\"search\");\n    }\n  };\n\n  const handleChangeTab = (e, newValue) => {\n    setTab(newValue);\n  };\n\n  const handleChangeTabOpen = (e, newValue) => {\n    setTabOpen(newValue);\n  };\n\n  const applyPanelStyle = (status) => {\n    if (tabOpen !== status) {\n      return { width: 0, height: 0 };\n    }\n  };\n\n  return (\n    <Paper elevation={0} variant=\"outlined\" className={classes.ticketsWrapper}>\n      <NewTicketModal\n        modalOpen={newTicketModalOpen}\n        onClose={(e) => setNewTicketModalOpen(false)}\n      />\n      <Paper elevation={0} square className={classes.searchContainer}>\n        <SearchIcon className={classes.searchIcon} />\n        <input\n          type=\"text\"\n          placeholder={i18n.t(\"tickets.search.placeholder\")}\n          className={classes.searchInput}\n          value={searchParam}\n          onChange={handleSearch}\n        />\n      </Paper>\n      <Paper elevation={0} square className={classes.tabsHeader}>\n        <Tabs\n          value={tab}\n          onChange={handleChangeTab}\n          variant=\"fullWidth\"\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          aria-label=\"icon label tabs example\"\n        >\n          <Tab\n            value={\"open\"}\n            icon={<MoveToInboxIcon />}\n            label={i18n.t(\"tickets.tabs.open.title\")}\n            classes={{ root: classes.tab }}\n          />\n          <Tab\n            value={\"pending\"}\n            icon={<HourglassEmptyRoundedIcon />}\n            label={\n              <Badge\n                className={classes.badge}\n                badgeContent={pendingCount}\n                color=\"secondary\"\n              >\n                {i18n.t(\"ticketsList.pendingHeader\")}\n              </Badge>\n            }\n            classes={{ root: classes.tab }}\n          />\n          <Tab\n            value={\"closed\"}\n            icon={<AllInboxRoundedIcon />}\n            label={i18n.t(\"tickets.tabs.closed.title\")}\n            classes={{ root: classes.tab }}\n          />\n        </Tabs>\n      </Paper>\n      <Paper square elevation={0} className={classes.ticketOptionsBox}>\n        <Button\n          variant=\"outlined\"\n          color=\"primary\"\n          onClick={() => setNewTicketModalOpen(true)}\n        >\n          {i18n.t(\"ticketsManager.buttons.newTicket\")}\n        </Button>\n        <Can\n          role={user.profile}\n          perform=\"tickets-manager:showalladmin\"\n          yes={() => (\n            <FormControlLabel\n              label={i18n.t(\"tickets.buttons.showAll\")}\n              labelPlacement=\"start\"\n              control={\n                <Switch\n                  size=\"small\"\n                  checked={showAllTickets}\n                  onChange={() => setShowAllTickets((prevState) => !prevState)}\n                  name=\"showAllTickets\"\n                  color=\"primary\"\n                />\n              }\n            />\n          )}\n        />\n        <TicketsAgentSelect\n          style={{ marginLeft: 6 }}\n          selectedAgentId={selectedAgentId}\n          agents={agents}\n          onChange={(values) => setSelectedAgentId(values)}\n        />\n        <TicketsQueueSelect\n          style={{ marginLeft: 6 }}\n          selectedQueueIds={selectedQueueIds}\n          userQueues={user?.queues}\n          onChange={(values) => setSelectedQueueIds(values)}\n        />\n      </Paper>\n      <TabPanel value={tab} name=\"open\" className={classes.ticketsWrapper}>\n        <Paper className={classes.ticketsWrapper}>\n          <TicketsList\n            status=\"open\"\n            selectedAgentId={selectedAgentId}\n            showAll={showAllTickets}\n            selectedQueueIds={selectedQueueIds}\n            updateCount={(val) => setOpenCount(val)}\n            style={applyPanelStyle(\"open\")}\n          />\n          <TicketsList\n            status=\"pending\"\n            updateCount={(val) => setPendingCount(val)}\n            style={applyPanelStyle(\"pending\")}\n          />\n        </Paper>\n      </TabPanel>\n\n      <TabPanel value={tab} name=\"pending\" className={classes.ticketsWrapper}>\n        <TicketsList\n          status=\"pending\"\n          showAll={true}\n          selectedQueueIds={selectedQueueIds}\n        />\n      </TabPanel>\n\n      <TabPanel value={tab} name=\"closed\" className={classes.ticketsWrapper}>\n        <TicketsList\n          status=\"closed\"\n          showAll={true}\n          selectedQueueIds={selectedQueueIds}\n          selectedAgentId={selectedAgentId}\n        />\n      </TabPanel>\n      <TabPanel value={tab} name=\"search\" className={classes.ticketsWrapper}>\n        <TicketsList\n          searchParam={searchParam}\n          showAll={true}\n          selectedQueueIds={selectedQueueIds}\n          selectedAgentId={selectedAgentId}\n        />\n      </TabPanel>\n    </Paper>\n  );\n};\n\nexport default TicketsManager;\n","import React from \"react\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst ContactDrawerSkeleton = ({ classes }) => {\n\treturn (\n\t\t<div className={classes.content}>\n\t\t\t<Paper square variant=\"outlined\" className={classes.contactHeader}>\n\t\t\t\t<Skeleton\n\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\tvariant=\"circle\"\n\t\t\t\t\twidth={160}\n\t\t\t\t\theight={160}\n\t\t\t\t\tclassName={classes.contactAvatar}\n\t\t\t\t/>\n\t\t\t\t<Skeleton animation=\"wave\" height={25} width={90} />\n\t\t\t\t<Skeleton animation=\"wave\" height={25} width={80} />\n\t\t\t\t<Skeleton animation=\"wave\" height={25} width={80} />\n\t\t\t</Paper>\n\t\t\t<Paper square className={classes.contactDetails}>\n\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t\t{i18n.t(\"contactDrawer.extraInfo\")}\n\t\t\t\t</Typography>\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\n\t\t\t\t</Paper>\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\n\t\t\t\t</Paper>\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\n\t\t\t\t</Paper>\n\t\t\t</Paper>\n\t\t</div>\n\t);\n};\n\nexport default ContactDrawerSkeleton;\n","import React, { useState } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Link from \"@material-ui/core/Link\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport Paper from \"@material-ui/core/Paper\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport ContactModal from \"../ContactModal\";\nimport ContactDrawerSkeleton from \"../ContactDrawerSkeleton\";\nimport MarkdownWrapper from \"../MarkdownWrapper\";\n\nconst drawerWidth = 320;\n\nconst useStyles = makeStyles(theme => ({\n\tdrawer: {\n\t\twidth: drawerWidth,\n\t\tflexShrink: 0,\n\t},\n\tdrawerPaper: {\n\t\twidth: drawerWidth,\n\t\tdisplay: \"flex\",\n\t\tborderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderRight: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderTopRightRadius: 4,\n\t\tborderBottomRightRadius: 4,\n\t},\n\theader: {\n\t\tdisplay: \"flex\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tbackgroundColor: \"#eee\",\n\t\talignItems: \"center\",\n\t\tpadding: theme.spacing(0, 1),\n\t\tminHeight: \"73px\",\n\t\tjustifyContent: \"flex-start\",\n\t},\n\tcontent: {\n\t\tdisplay: \"flex\",\n\t\tbackgroundColor: \"#eee\",\n\t\tflexDirection: \"column\",\n\t\tpadding: \"8px 0px 8px 8px\",\n\t\theight: \"100%\",\n\t\toverflowY: \"scroll\",\n\t\t...theme.scrollbarStyles,\n\t},\n\n\tcontactAvatar: {\n\t\tmargin: 15,\n\t\twidth: 160,\n\t\theight: 160,\n\t},\n\n\tcontactHeader: {\n\t\tdisplay: \"flex\",\n\t\tpadding: 8,\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t\t\"& > *\": {\n\t\t\tmargin: 4,\n\t\t},\n\t},\n\n\tcontactDetails: {\n\t\tmarginTop: 8,\n\t\tpadding: 8,\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t},\n\tcontactExtraInfo: {\n\t\tmarginTop: 4,\n\t\tpadding: 6,\n\t},\n}));\n\nconst ContactDrawer = ({ open, handleDrawerClose, contact, loading }) => {\n\tconst classes = useStyles();\n\n\tconst [modalOpen, setModalOpen] = useState(false);\n\n\treturn (\n\t\t<Drawer\n\t\t\tclassName={classes.drawer}\n\t\t\tvariant=\"persistent\"\n\t\t\tanchor=\"right\"\n\t\t\topen={open}\n\t\t\tPaperProps={{ style: { position: \"absolute\" } }}\n\t\t\tBackdropProps={{ style: { position: \"absolute\" } }}\n\t\t\tModalProps={{\n\t\t\t\tcontainer: document.getElementById(\"drawer-container\"),\n\t\t\t\tstyle: { position: \"absolute\" },\n\t\t\t}}\n\t\t\tclasses={{\n\t\t\t\tpaper: classes.drawerPaper,\n\t\t\t}}\n\t\t>\n\t\t\t<div className={classes.header}>\n\t\t\t\t<IconButton onClick={handleDrawerClose}>\n\t\t\t\t\t<CloseIcon />\n\t\t\t\t</IconButton>\n\t\t\t\t<Typography style={{ justifySelf: \"center\" }}>\n\t\t\t\t\t{i18n.t(\"contactDrawer.header\")}\n\t\t\t\t</Typography>\n\t\t\t</div>\n\t\t\t{loading ? (\n\t\t\t\t<ContactDrawerSkeleton classes={classes} />\n\t\t\t) : (\n\t\t\t\t<div className={classes.content}>\n\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactHeader}>\n\t\t\t\t\t\t<Avatar\n\t\t\t\t\t\t\talt={contact.name}\n\t\t\t\t\t\t\tsrc={contact.profilePicUrl}\n\t\t\t\t\t\t\tclassName={classes.contactAvatar}\n\t\t\t\t\t\t></Avatar>\n\n\t\t\t\t\t\t<Typography>{contact.name}</Typography>\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t<Link href={`tel:${contact.number}`}>{contact.number}</Link>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={() => setModalOpen(true)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{i18n.t(\"contactDrawer.buttons.edit\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Paper>\n\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactDetails}>\n\t\t\t\t\t\t<ContactModal\n\t\t\t\t\t\t\topen={modalOpen}\n\t\t\t\t\t\t\tonClose={() => setModalOpen(false)}\n\t\t\t\t\t\t\tcontactId={contact.id}\n\t\t\t\t\t\t></ContactModal>\n\t\t\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t\t\t\t{i18n.t(\"contactDrawer.extraInfo\")}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t{contact?.extraInfo?.map(info => (\n\t\t\t\t\t\t\t<Paper\n\t\t\t\t\t\t\t\tkey={info.id}\n\t\t\t\t\t\t\t\tsquare\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tclassName={classes.contactExtraInfo}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<InputLabel>{info.name}</InputLabel>\n\t\t\t\t\t\t\t\t<Typography component=\"div\" noWrap style={{ paddingTop: 2 }}>\n\t\t\t\t\t\t\t\t\t<MarkdownWrapper>{info.value}</MarkdownWrapper>\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</Paper>\n\t\t\t\t</div>\n\t\t\t)}\n\t\t</Drawer>\n\t);\n};\n\nexport default ContactDrawer;\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\ttimerBox: {\n\t\tdisplay: \"flex\",\n\t\tmarginLeft: 10,\n\t\tmarginRight: 10,\n\t\talignItems: \"center\",\n\t},\n}));\n\nconst RecordingTimer = () => {\n\tconst classes = useStyles();\n\tconst initialState = {\n\t\tminutes: 0,\n\t\tseconds: 0,\n\t};\n\tconst [timer, setTimer] = useState(initialState);\n\n\tuseEffect(() => {\n\t\tconst interval = setInterval(\n\t\t\t() =>\n\t\t\t\tsetTimer(prevState => {\n\t\t\t\t\tif (prevState.seconds === 59) {\n\t\t\t\t\t\treturn { ...prevState, minutes: prevState.minutes + 1, seconds: 0 };\n\t\t\t\t\t}\n\t\t\t\t\treturn { ...prevState, seconds: prevState.seconds + 1 };\n\t\t\t\t}),\n\t\t\t1000\n\t\t);\n\t\treturn () => {\n\t\t\tclearInterval(interval);\n\t\t};\n\t}, []);\n\n\tconst addZero = n => {\n\t\treturn n < 10 ? \"0\" + n : n;\n\t};\n\n\treturn (\n\t\t<div className={classes.timerBox}>\n\t\t\t<span>{`${addZero(timer.minutes)}:${addZero(timer.seconds)}`}</span>\n\t\t</div>\n\t);\n};\n\nexport default RecordingTimer;\n","import React, { useState, createContext } from \"react\";\n\nconst ReplyMessageContext = createContext();\n\nconst ReplyMessageProvider = ({ children }) => {\n\tconst [replyingMessage, setReplyingMessage] = useState(null);\n\n\treturn (\n\t\t<ReplyMessageContext.Provider\n\t\t\tvalue={{ replyingMessage, setReplyingMessage }}\n\t\t>\n\t\t\t{children}\n\t\t</ReplyMessageContext.Provider>\n\t);\n};\n\nexport { ReplyMessageContext, ReplyMessageProvider };\n","import React, { useState, useEffect, useContext, useRef } from \"react\";\nimport \"emoji-mart/css/emoji-mart.css\";\nimport { useParams } from \"react-router-dom\";\nimport { Picker } from \"emoji-mart\";\nimport MicRecorder from \"mic-recorder-to-mp3\";\nimport clsx from \"clsx\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { green } from \"@material-ui/core/colors\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MoreVert from \"@material-ui/icons/MoreVert\";\nimport MoodIcon from \"@material-ui/icons/Mood\";\nimport SendIcon from \"@material-ui/icons/Send\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport MicIcon from \"@material-ui/icons/Mic\";\nimport CheckCircleOutlineIcon from \"@material-ui/icons/CheckCircleOutline\";\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\nimport {\n  FormControlLabel,\n  Hidden,\n  Menu,\n  MenuItem,\n  Switch,\n} from \"@material-ui/core\";\nimport ClickAwayListener from \"@material-ui/core/ClickAwayListener\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport RecordingTimer from \"./RecordingTimer\";\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { useLocalStorage } from \"../../hooks/useLocalStorage\";\nimport toastError from \"../../errors/toastError\";\n\nconst Mp3Recorder = new MicRecorder({ bitRate: 128 });\n\nconst useStyles = makeStyles((theme) => ({\n  mainWrapper: {\n    background: \"#eee\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n    [theme.breakpoints.down(\"sm\")]: {\n      position: \"fixed\",\n      bottom: 0,\n      width: \"100%\",\n    },\n  },\n\n  newMessageBox: {\n    background: \"#eee\",\n    width: \"100%\",\n    display: \"flex\",\n    padding: \"7px\",\n    alignItems: \"center\",\n  },\n\n  messageInputWrapper: {\n    padding: 6,\n    marginRight: 7,\n    background: \"#fff\",\n    display: \"flex\",\n    borderRadius: 20,\n    flex: 1,\n    position: \"relative\",\n  },\n\n  messageInput: {\n    paddingLeft: 10,\n    flex: 1,\n    border: \"none\",\n  },\n\n  sendMessageIcons: {\n    color: \"grey\",\n  },\n\n  uploadInput: {\n    display: \"none\",\n  },\n\n  viewMediaInputWrapper: {\n    display: \"flex\",\n    padding: \"10px 13px\",\n    position: \"relative\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    backgroundColor: \"#eee\",\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n\n  emojiBox: {\n    position: \"absolute\",\n    bottom: 63,\n    width: 40,\n    borderTop: \"1px solid #e8e8e8\",\n  },\n\n  circleLoading: {\n    color: green[500],\n    opacity: \"70%\",\n    position: \"absolute\",\n    top: \"20%\",\n    left: \"50%\",\n    marginLeft: -12,\n  },\n\n  audioLoading: {\n    color: green[500],\n    opacity: \"70%\",\n  },\n\n  recorderWrapper: {\n    display: \"flex\",\n    alignItems: \"center\",\n    alignContent: \"middle\",\n  },\n\n  cancelAudioIcon: {\n    color: \"red\",\n  },\n\n  sendAudioIcon: {\n    color: \"green\",\n  },\n\n  replyginMsgWrapper: {\n    display: \"flex\",\n    width: \"100%\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingTop: 8,\n    paddingLeft: 73,\n    paddingRight: 7,\n  },\n\n  replyginMsgContainer: {\n    flex: 1,\n    marginRight: 5,\n    overflowY: \"hidden\",\n    backgroundColor: \"rgba(0, 0, 0, 0.05)\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\",\n  },\n\n  replyginMsgBody: {\n    padding: 10,\n    height: \"auto\",\n    display: \"block\",\n    whiteSpace: \"pre-wrap\",\n    overflow: \"hidden\",\n  },\n\n  replyginContactMsgSideColor: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#35cd96\",\n  },\n\n  replyginSelfMsgSideColor: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#6bcbef\",\n  },\n\n  messageContactName: {\n    display: \"flex\",\n    color: \"#6bcbef\",\n    fontWeight: 500,\n  },\n  messageQuickAnswersWrapper: {\n    margin: 0,\n    position: \"absolute\",\n    bottom: \"50px\",\n    background: \"#ffffff\",\n    padding: \"2px\",\n    border: \"1px solid #CCC\",\n    left: 0,\n    width: \"100%\",\n    \"& li\": {\n      listStyle: \"none\",\n      \"& a\": {\n        display: \"block\",\n        padding: \"8px\",\n        textOverflow: \"ellipsis\",\n        overflow: \"hidden\",\n        maxHeight: \"32px\",\n        \"&:hover\": {\n          background: \"#F1F1F1\",\n          cursor: \"pointer\",\n        },\n      },\n    },\n  },\n}));\n\nconst MessageInput = ({ ticketStatus }) => {\n  const classes = useStyles();\n  const { ticketId } = useParams();\n\n  const [medias, setMedias] = useState([]);\n  const [inputMessage, setInputMessage] = useState(\"\");\n  const [showEmoji, setShowEmoji] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [recording, setRecording] = useState(false);\n  const [quickAnswers, setQuickAnswer] = useState([]);\n  const [typeBar, setTypeBar] = useState(false);\n  const inputRef = useRef();\n  const [anchorEl, setAnchorEl] = useState(null);\n  const { setReplyingMessage, replyingMessage } =\n    useContext(ReplyMessageContext);\n  const { user } = useContext(AuthContext);\n\n  const [signMessage, setSignMessage] = useLocalStorage(\"signOption\", true);\n\n  useEffect(() => {\n    inputRef.current.focus();\n  }, [replyingMessage]);\n\n  useEffect(() => {\n    inputRef.current.focus();\n    return () => {\n      setInputMessage(\"\");\n      setShowEmoji(false);\n      setMedias([]);\n      setReplyingMessage(null);\n    };\n  }, [ticketId, setReplyingMessage]);\n\n  const handleChangeInput = (e) => {\n    setInputMessage(e.target.value);\n    handleLoadQuickAnswer(e.target.value);\n  };\n\n  const handleQuickAnswersClick = (value) => {\n    setInputMessage(value);\n    setTypeBar(false);\n  };\n\n  const handleAddEmoji = (e) => {\n    let emoji = e.native;\n    setInputMessage((prevState) => prevState + emoji);\n  };\n\n  const handleChangeMedias = (e) => {\n    if (!e.target.files) {\n      return;\n    }\n\n    const selectedMedias = Array.from(e.target.files);\n    setMedias(selectedMedias);\n  };\n\n  const handleInputPaste = (e) => {\n    if (e.clipboardData.files[0]) {\n      setMedias([e.clipboardData.files[0]]);\n    }\n  };\n\n  const handleUploadMedia = async (e) => {\n    setLoading(true);\n    e.preventDefault();\n\n    const formData = new FormData();\n    formData.append(\"fromMe\", true);\n    medias.forEach((media) => {\n      formData.append(\"medias\", media);\n      formData.append(\"body\", media.name);\n    });\n\n    try {\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setLoading(false);\n    setMedias([]);\n  };\n\n  const handleSendMessage = async () => {\n    if (inputMessage.trim() === \"\") return;\n    setLoading(true);\n\n    const message = {\n      read: 1,\n      fromMe: true,\n      mediaUrl: \"\",\n      body: signMessage\n        ? `*${user?.name}:*\\n${inputMessage.trim()}`\n        : inputMessage.trim(),\n      quotedMsg: replyingMessage,\n    };\n    try {\n      await api.post(`/messages/${ticketId}`, message);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setInputMessage(\"\");\n    setShowEmoji(false);\n    setLoading(false);\n    setReplyingMessage(null);\n  };\n\n  const handleStartRecording = async () => {\n    setLoading(true);\n    try {\n      await navigator.mediaDevices.getUserMedia({ audio: true });\n      await Mp3Recorder.start();\n      setRecording(true);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n  };\n\n  const handleLoadQuickAnswer = async (value) => {\n    if (value && value.indexOf(\"/\") === 0) {\n      try {\n        const { data } = await api.get(\"/quickAnswers/\", {\n          params: { searchParam: inputMessage.substring(1) },\n        });\n        setQuickAnswer(data.quickAnswers);\n        if (data.quickAnswers.length > 0) {\n          setTypeBar(true);\n        } else {\n          setTypeBar(false);\n        }\n      } catch (err) {\n        setTypeBar(false);\n      }\n    } else {\n      setTypeBar(false);\n    }\n  };\n\n  const handleUploadAudio = async () => {\n    setLoading(true);\n    try {\n      const [, blob] = await Mp3Recorder.stop().getMp3();\n      if (blob.size < 10000) {\n        setLoading(false);\n        setRecording(false);\n        return;\n      }\n\n      const formData = new FormData();\n      const filename = `${new Date().getTime()}.mp3`;\n      formData.append(\"medias\", blob, filename);\n      formData.append(\"body\", filename);\n      formData.append(\"fromMe\", true);\n\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setRecording(false);\n    setLoading(false);\n  };\n\n  const handleCancelAudio = async () => {\n    try {\n      await Mp3Recorder.stop().getMp3();\n      setRecording(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleOpenMenuClick = (event) => {\n    setAnchorEl(event.currentTarget);\n  };\n\n  const handleMenuItemClick = (event) => {\n    setAnchorEl(null);\n  };\n\n  const renderReplyingMessage = (message) => {\n    return (\n      <div className={classes.replyginMsgWrapper}>\n        <div className={classes.replyginMsgContainer}>\n          <span\n            className={clsx(classes.replyginContactMsgSideColor, {\n              [classes.replyginSelfMsgSideColor]: !message.fromMe,\n            })}\n          ></span>\n          <div className={classes.replyginMsgBody}>\n            {!message.fromMe && (\n              <span className={classes.messageContactName}>\n                {message.contact?.name}\n              </span>\n            )}\n            {message.body}\n          </div>\n        </div>\n        <IconButton\n          aria-label=\"showRecorder\"\n          component=\"span\"\n          disabled={loading || ticketStatus !== \"open\"}\n          onClick={() => setReplyingMessage(null)}\n        >\n          <ClearIcon className={classes.sendMessageIcons} />\n        </IconButton>\n      </div>\n    );\n  };\n\n  if (medias.length > 0)\n    return (\n      <Paper elevation={0} square className={classes.viewMediaInputWrapper}>\n        <IconButton\n          aria-label=\"cancel-upload\"\n          component=\"span\"\n          onClick={(e) => setMedias([])}\n        >\n          <CancelIcon className={classes.sendMessageIcons} />\n        </IconButton>\n\n        {loading ? (\n          <div>\n            <CircularProgress className={classes.circleLoading} />\n          </div>\n        ) : (\n          <span>\n            {medias[0]?.name}\n            {/* <img src={media.preview} alt=\"\"></img> */}\n          </span>\n        )}\n        <IconButton\n          aria-label=\"send-upload\"\n          component=\"span\"\n          onClick={handleUploadMedia}\n          disabled={loading}\n        >\n          <SendIcon className={classes.sendMessageIcons} />\n        </IconButton>\n      </Paper>\n    );\n  else {\n    return (\n      <Paper square elevation={0} className={classes.mainWrapper}>\n        {replyingMessage && renderReplyingMessage(replyingMessage)}\n        <div className={classes.newMessageBox}>\n          <Hidden only={[\"sm\", \"xs\"]}>\n            <IconButton\n              aria-label=\"emojiPicker\"\n              component=\"span\"\n              disabled={loading || recording || ticketStatus !== \"open\"}\n              onClick={(e) => setShowEmoji((prevState) => !prevState)}\n            >\n              <MoodIcon className={classes.sendMessageIcons} />\n            </IconButton>\n            {showEmoji ? (\n              <div className={classes.emojiBox}>\n                <ClickAwayListener onClickAway={(e) => setShowEmoji(false)}>\n                  <Picker\n                    perLine={16}\n                    showPreview={false}\n                    showSkinTones={false}\n                    onSelect={handleAddEmoji}\n                  />\n                </ClickAwayListener>\n              </div>\n            ) : null}\n\n            <input\n              multiple\n              type=\"file\"\n              id=\"upload-button\"\n              disabled={loading || recording || ticketStatus !== \"open\"}\n              className={classes.uploadInput}\n              onChange={handleChangeMedias}\n            />\n            <label htmlFor=\"upload-button\">\n              <IconButton\n                aria-label=\"upload\"\n                component=\"span\"\n                disabled={loading || recording || ticketStatus !== \"open\"}\n              >\n                <AttachFileIcon className={classes.sendMessageIcons} />\n              </IconButton>\n            </label>\n          </Hidden>\n          <Hidden only={[\"md\", \"lg\", \"xl\"]}>\n            <IconButton\n              aria-controls=\"simple-menu\"\n              aria-haspopup=\"true\"\n              onClick={handleOpenMenuClick}\n            >\n              <MoreVert></MoreVert>\n            </IconButton>\n            <Menu\n              id=\"simple-menu\"\n              keepMounted\n              anchorEl={anchorEl}\n              open={Boolean(anchorEl)}\n              onClose={handleMenuItemClick}\n            >\n              <MenuItem onClick={handleMenuItemClick}>\n                <IconButton\n                  aria-label=\"emojiPicker\"\n                  component=\"span\"\n                  disabled={loading || recording || ticketStatus !== \"open\"}\n                  onClick={(e) => setShowEmoji((prevState) => !prevState)}\n                >\n                  <MoodIcon className={classes.sendMessageIcons} />\n                </IconButton>\n              </MenuItem>\n              <MenuItem onClick={handleMenuItemClick}>\n                <input\n                  multiple\n                  type=\"file\"\n                  id=\"upload-button\"\n                  disabled={loading || recording || ticketStatus !== \"open\"}\n                  className={classes.uploadInput}\n                  onChange={handleChangeMedias}\n                />\n                <label htmlFor=\"upload-button\">\n                  <IconButton\n                    aria-label=\"upload\"\n                    component=\"span\"\n                    disabled={loading || recording || ticketStatus !== \"open\"}\n                  >\n                    <AttachFileIcon className={classes.sendMessageIcons} />\n                  </IconButton>\n                </label>\n              </MenuItem>\n            </Menu>\n          </Hidden>\n          <div className={classes.messageInputWrapper}>\n            <InputBase\n              inputRef={(input) => {\n                input && input.focus();\n                input && (inputRef.current = input);\n              }}\n              className={classes.messageInput}\n              placeholder={\n                ticketStatus === \"open\"\n                  ? i18n.t(\"messagesInput.placeholderOpen\")\n                  : i18n.t(\"messagesInput.placeholderClosed\")\n              }\n              multiline\n              maxRows={5}\n              value={inputMessage}\n              onChange={handleChangeInput}\n              disabled={recording || loading || ticketStatus !== \"open\"}\n              onPaste={(e) => {\n                ticketStatus === \"open\" && handleInputPaste(e);\n              }}\n              onKeyPress={(e) => {\n                if (loading || e.shiftKey) return;\n                else if (e.key === \"Enter\") {\n                  handleSendMessage();\n                }\n              }}\n            />\n            {typeBar ? (\n              <ul className={classes.messageQuickAnswersWrapper}>\n                {quickAnswers.map((value, index) => {\n                  return (\n                    <li\n                      className={classes.messageQuickAnswersWrapperItem}\n                      key={index}\n                    >\n                      {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\n                      <a onClick={() => handleQuickAnswersClick(value.message)}>\n                        {`${value.shortcut} - ${value.message}`}\n                      </a>\n                    </li>\n                  );\n                })}\n              </ul>\n            ) : (\n              <div></div>\n            )}\n          </div>\n          {inputMessage ? (\n            <IconButton\n              aria-label=\"sendMessage\"\n              component=\"span\"\n              onClick={handleSendMessage}\n              disabled={loading}\n            >\n              <SendIcon className={classes.sendMessageIcons} />\n            </IconButton>\n          ) : recording ? (\n            <div className={classes.recorderWrapper}>\n              <IconButton\n                aria-label=\"cancelRecording\"\n                component=\"span\"\n                fontSize=\"large\"\n                disabled={loading}\n                onClick={handleCancelAudio}\n              >\n                <HighlightOffIcon className={classes.cancelAudioIcon} />\n              </IconButton>\n              {loading ? (\n                <div>\n                  <CircularProgress className={classes.audioLoading} />\n                </div>\n              ) : (\n                <RecordingTimer />\n              )}\n\n              <IconButton\n                aria-label=\"sendRecordedAudio\"\n                component=\"span\"\n                onClick={handleUploadAudio}\n                disabled={loading}\n              >\n                <CheckCircleOutlineIcon className={classes.sendAudioIcon} />\n              </IconButton>\n            </div>\n          ) : (\n            <IconButton\n              aria-label=\"showRecorder\"\n              component=\"span\"\n              disabled={loading || ticketStatus !== \"open\"}\n              onClick={handleStartRecording}\n            >\n              <MicIcon className={classes.sendMessageIcons} />\n            </IconButton>\n          )}\n        </div>\n      </Paper>\n    );\n  }\n};\n\nexport default MessageInput;\n","import { useState } from \"react\";\nimport toastError from \"../../errors/toastError\";\n\nexport function useLocalStorage(key, initialValue) {\n\tconst [storedValue, setStoredValue] = useState(() => {\n\t\ttry {\n\t\t\tconst item = localStorage.getItem(key);\n\t\t\treturn item ? JSON.parse(item) : initialValue;\n\t\t} catch (error) {\n\t\t\ttoastError(error);\n\t\t\treturn initialValue;\n\t\t}\n\t});\n\n\tconst setValue = value => {\n\t\ttry {\n\t\t\tconst valueToStore =\n\t\t\t\tvalue instanceof Function ? value(storedValue) : value;\n\n\t\t\tsetStoredValue(valueToStore);\n\n\t\t\tlocalStorage.setItem(key, JSON.stringify(valueToStore));\n\t\t} catch (error) {\n\t\t\ttoastError(error);\n\t\t}\n\t};\n\n\treturn [storedValue, setValue];\n}\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Avatar, Card, CardHeader } from \"@material-ui/core\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nconst useStyles = makeStyles(theme => ({\n\tticketHeader: {\n\t\tdisplay: \"flex\",\n\t\tbackgroundColor: \"#eee\",\n\t\tflex: \"none\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t},\n}));\n\nconst TicketHeaderSkeleton = () => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Card square className={classes.ticketHeader}>\n\t\t\t<CardHeader\n\t\t\t\ttitleTypographyProps={{ noWrap: true }}\n\t\t\t\tsubheaderTypographyProps={{ noWrap: true }}\n\t\t\t\tavatar={\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\">\n\t\t\t\t\t\t<Avatar alt=\"contact_image\" />\n\t\t\t\t\t</Skeleton>\n\t\t\t\t}\n\t\t\t\ttitle={<Skeleton animation=\"wave\" width={80} />}\n\t\t\t\tsubheader={<Skeleton animation=\"wave\" width={140} />}\n\t\t\t/>\n\t\t</Card>\n\t);\n};\n\nexport default TicketHeaderSkeleton;\n","import React from \"react\";\n\nimport { Card, Button } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TicketHeaderSkeleton from \"../TicketHeaderSkeleton\";\nimport ArrowBackIos from \"@material-ui/icons/ArrowBackIos\";\nimport { useHistory } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n  ticketHeader: {\n    display: \"flex\",\n    backgroundColor: \"#eee\",\n    flex: \"none\",\n    borderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n    [theme.breakpoints.down(\"sm\")]: {\n      flexWrap: \"wrap\",\n    },\n  },\n}));\n\nconst TicketHeader = ({ loading, children }) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const handleBack = () => {\n    history.push(\"/tickets\");\n  };\n\n  return (\n    <>\n      {loading ? (\n        <TicketHeaderSkeleton />\n      ) : (\n        <Card square className={classes.ticketHeader}>\n          <Button color=\"primary\" onClick={handleBack}>\n            <ArrowBackIos />\n          </Button>\n          {children}\n        </Card>\n      )}\n    </>\n  );\n};\n\nexport default TicketHeader;\n","import React from \"react\";\n\nimport { Avatar, CardHeader } from \"@material-ui/core\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nconst TicketInfo = ({ contact, ticket, onClick }) => {\n\treturn (\n\t\t<CardHeader\n\t\t\tonClick={onClick}\n\t\t\tstyle={{ cursor: \"pointer\" }}\n\t\t\ttitleTypographyProps={{ noWrap: true }}\n\t\t\tsubheaderTypographyProps={{ noWrap: true }}\n\t\t\tavatar={<Avatar src={contact.profilePicUrl} alt=\"contact_image\" />}\n\t\t\ttitle={`${contact.name}`}\n\t\t\tsubheader={\n\t\t\t\tticket.user &&\n\t\t\t\t`${i18n.t(\"messagesList.header.assignedTo\")} ${ticket.user.name}`\n\t\t\t}\n\t\t/>\n\t);\n};\n\nexport default TicketInfo;\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nconst ConfirmationModal = ({ title, children, open, onClose, onConfirm }) => {\n\treturn (\n\t\t<Dialog\n\t\t\topen={open}\n\t\t\tonClose={() => onClose(false)}\n\t\t\taria-labelledby=\"confirm-dialog\"\n\t\t>\n\t\t\t<DialogTitle id=\"confirm-dialog\">{title}</DialogTitle>\n\t\t\t<DialogContent dividers>\n\t\t\t\t<Typography>{children}</Typography>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tonClick={() => onClose(false)}\n\t\t\t\t\tcolor=\"default\"\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"confirmationModal.buttons.cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tonClose(false);\n\t\t\t\t\t\tonConfirm();\n\t\t\t\t\t}}\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"confirmationModal.buttons.confirm\")}\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t);\n};\n\nexport default ConfirmationModal;\n","import api from \"../../services/api\";\n\nconst useQueues = () => {\n\tconst findAll = async () => {\n        const { data } = await api.get(\"/queue\");\n        return data;\n    }\n\n\treturn { findAll };\n};\n\nexport default useQueues;\n","import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport Select from \"@material-ui/core/Select\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { makeStyles } from \"@material-ui/core\";\n\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Autocomplete, {\n\tcreateFilterOptions,\n} from \"@material-ui/lab/Autocomplete\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport toastError from \"../../errors/toastError\";\nimport useQueues from \"../../hooks/useQueues\";\n\nconst useStyles = makeStyles((theme) => ({\n  maxWidth: {\n    width: \"100%\",\n  },\n}));\n\nconst filterOptions = createFilterOptions({\n\ttrim: true,\n});\n\nconst TransferTicketModal = ({ modalOpen, onClose, ticketid }) => {\n\tconst history = useHistory();\n\tconst [options, setOptions] = useState([]);\n\tconst [queues, setQueues] = useState([]);\n\tconst [allQueues, setAllQueues] = useState([]);\n\tconst [loading, setLoading] = useState(false);\n\tconst [searchParam, setSearchParam] = useState(\"\");\n\tconst [selectedUser, setSelectedUser] = useState(null);\n\tconst [selectedQueue, setSelectedQueue] = useState('');\n\tconst classes = useStyles();\n\tconst { findAll: findAllQueues } = useQueues();\n\n\tuseEffect(() => {\n\t\tconst loadQueues = async () => {\n\t\t\tconst list = await findAllQueues();\n\t\t\tsetAllQueues(list);\n\t\t\tsetQueues(list);\n\t\t}\n\t\tloadQueues();\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (!modalOpen || searchParam.length < 3) {\n\t\t\tsetLoading(false);\n\t\t\treturn;\n\t\t}\n\t\tsetLoading(true);\n\t\tconst delayDebounceFn = setTimeout(() => {\n\t\t\tconst fetchUsers = async () => {\n\t\t\t\ttry {\n\t\t\t\t\tconst { data } = await api.get(\"/users/\", {\n\t\t\t\t\t\tparams: { searchParam },\n\t\t\t\t\t});\n\t\t\t\t\tsetOptions(data.users);\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t} catch (err) {\n\t\t\t\t\tsetLoading(false);\n\t\t\t\t\ttoastError(err);\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tfetchUsers();\n\t\t}, 500);\n\t\treturn () => clearTimeout(delayDebounceFn);\n\t}, [searchParam, modalOpen]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetSearchParam(\"\");\n\t\tsetSelectedUser(null);\n\t};\n\n\tconst handleSaveTicket = async e => {\n\t\te.preventDefault();\n\t\tif (!ticketid) return;\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tlet data = {};\n\n\t\t\tif (selectedUser) {\n\t\t\t\tdata.userId = selectedUser.id\n                data.transf = true\n\t\t\t}\n\n\t\t\tif (selectedQueue && selectedQueue !== null) {\n\t\t\t\tdata.queueId = selectedQueue\n\n\t\t\t\tif (!selectedUser) {\n\t\t\t\t\tdata.status = 'pending';\n\t\t\t\t\tdata.userId = null;\n                    data.transf = true\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tawait api.put(`/tickets/${ticketid}`, data);\n\n\t\t\tsetLoading(false);\n\t\t\thistory.push(`/tickets`);\n\t\t} catch (err) {\n\t\t\tsetLoading(false);\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Dialog open={modalOpen} onClose={handleClose} maxWidth=\"lg\" scroll=\"paper\">\n\t\t\t<form onSubmit={handleSaveTicket}>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{i18n.t(\"transferTicketModal.title\")}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\tstyle={{ width: 300, marginBottom: 20 }}\n\t\t\t\t\t\tgetOptionLabel={option => `${option.name}`}\n\t\t\t\t\t\tonChange={(e, newValue) => {\n\t\t\t\t\t\t\tsetSelectedUser(newValue);\n\t\t\t\t\t\t\tif (newValue != null && Array.isArray(newValue.queues)) {\n\t\t\t\t\t\t\t\tsetQueues(newValue.queues);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tsetQueues(allQueues);\n\t\t\t\t\t\t\t\tsetSelectedQueue('');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\toptions={options}\n\t\t\t\t\t\tfilterOptions={filterOptions}\n\t\t\t\t\t\tfreeSolo\n\t\t\t\t\t\tautoHighlight\n\t\t\t\t\t\tnoOptionsText={i18n.t(\"transferTicketModal.noOptions\")}\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\trenderInput={params => (\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t{...params}\n\t\t\t\t\t\t\t\tlabel={i18n.t(\"transferTicketModal.fieldLabel\")}\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\tonChange={e => setSearchParam(e.target.value)}\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t...params.InputProps,\n\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<CircularProgress color=\"inherit\" size={20} />\n\t\t\t\t\t\t\t\t\t\t\t) : null}\n\t\t\t\t\t\t\t\t\t\t\t{params.InputProps.endAdornment}\n\t\t\t\t\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t\t<FormControl variant=\"outlined\" className={classes.maxWidth}>\n\t\t\t\t\t\t<InputLabel>{i18n.t(\"transferTicketModal.fieldQueueLabel\")}</InputLabel>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tvalue={selectedQueue}\n\t\t\t\t\t\t\tonChange={(e) => setSelectedQueue(e.target.value)}\n\t\t\t\t\t\t\tlabel={i18n.t(\"transferTicketModal.fieldQueuePlaceholder\")}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<MenuItem value={''}>&nbsp;</MenuItem>\n\t\t\t\t\t\t\t{queues.map((queue) => (\n\t\t\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id}>{queue.name}</MenuItem>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t</FormControl>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\tdisabled={loading}\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"transferTicketModal.buttons.cancel\")}\n\t\t\t\t\t</Button>\n\t\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"transferTicketModal.buttons.ok\")}\n\t\t\t\t\t</ButtonWithSpinner>\n\t\t\t\t</DialogActions>\n\t\t\t</form>\n\t\t</Dialog>\n\t);\n};\n\nexport default TransferTicketModal;\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Menu from \"@material-ui/core/Menu\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport TransferTicketModal from \"../TransferTicketModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Can } from \"../Can\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst TicketOptionsMenu = ({ ticket, menuOpen, handleClose, anchorEl }) => {\n\tconst [confirmationOpen, setConfirmationOpen] = useState(false);\n\tconst [transferTicketModalOpen, setTransferTicketModalOpen] = useState(false);\n\tconst isMounted = useRef(true);\n\tconst { user } = useContext(AuthContext);\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tisMounted.current = false;\n\t\t};\n\t}, []);\n\n\tconst handleDeleteTicket = async () => {\n\t\ttry {\n\t\t\tawait api.delete(`/tickets/${ticket.id}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst handleOpenConfirmationModal = e => {\n\t\tsetConfirmationOpen(true);\n\t\thandleClose();\n\t};\n\n\tconst handleOpenTransferModal = e => {\n\t\tsetTransferTicketModalOpen(true);\n\t\thandleClose();\n\t};\n\n\tconst handleCloseTransferTicketModal = () => {\n\t\tif (isMounted.current) {\n\t\t\tsetTransferTicketModalOpen(false);\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<Menu\n\t\t\t\tid=\"menu-appbar\"\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\tgetContentAnchorEl={null}\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\tkeepMounted\n\t\t\t\ttransformOrigin={{\n\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\topen={menuOpen}\n\t\t\t\tonClose={handleClose}\n\t\t\t>\n\t\t\t\t<MenuItem onClick={handleOpenTransferModal}>\n\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.transfer\")}\n\t\t\t\t</MenuItem>\n\t\t\t\t<Can\n\t\t\t\t\trole={user.profile}\n\t\t\t\t\tperform=\"ticket-options:deleteTicket\"\n\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t<MenuItem onClick={handleOpenConfirmationModal}>\n\t\t\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.delete\")}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t)}\n\t\t\t\t/>\n\t\t\t</Menu>\n\t\t\t<ConfirmationModal\n\t\t\t\ttitle={`${i18n.t(\"ticketOptionsMenu.confirmationModal.title\")}${\n\t\t\t\t\tticket.id\n\t\t\t\t} ${i18n.t(\"ticketOptionsMenu.confirmationModal.titleFrom\")} ${\n\t\t\t\t\tticket.contact.name\n\t\t\t\t}?`}\n\t\t\t\topen={confirmationOpen}\n\t\t\t\tonClose={setConfirmationOpen}\n\t\t\t\tonConfirm={handleDeleteTicket}\n\t\t\t>\n\t\t\t\t{i18n.t(\"ticketOptionsMenu.confirmationModal.message\")}\n\t\t\t</ConfirmationModal>\n\t\t\t<TransferTicketModal\n\t\t\t\tmodalOpen={transferTicketModalOpen}\n\t\t\t\tonClose={handleCloseTransferTicketModal}\n\t\t\t\tticketid={ticket.id}\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nexport default TicketOptionsMenu;\n","import React, { useContext, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { IconButton } from \"@material-ui/core\";\nimport { MoreVert, Replay } from \"@material-ui/icons\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport TicketOptionsMenu from \"../TicketOptionsMenu\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles(theme => ({\n\tactionButtons: {\n\t\tmarginRight: 6,\n\t\tflex: \"none\",\n\t\talignSelf: \"center\",\n\t\tmarginLeft: \"auto\",\n\t\t\"& > *\": {\n\t\t\tmargin: theme.spacing(1),\n\t\t},\n\t},\n}));\n\nconst TicketActionButtons = ({ ticket }) => {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\tconst [anchorEl, setAnchorEl] = useState(null);\n\tconst [loading, setLoading] = useState(false);\n\tconst ticketOptionsMenuOpen = Boolean(anchorEl);\n\tconst { user } = useContext(AuthContext);\n\n\tconst handleOpenTicketOptionsMenu = e => {\n\t\tsetAnchorEl(e.currentTarget);\n\t};\n\n\tconst handleCloseTicketOptionsMenu = e => {\n\t\tsetAnchorEl(null);\n\t};\n\n\tconst handleUpdateTicketStatus = async (e, status, userId) => {\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tawait api.put(`/tickets/${ticket.id}`, {\n\t\t\t\tstatus: status,\n\t\t\t\tuserId: userId || null,\n\t\t\t});\n\n\t\t\tsetLoading(false);\n\t\t\tif (status === \"open\") {\n\t\t\t\thistory.push(`/tickets/${ticket.id}`);\n\t\t\t} else {\n\t\t\t\thistory.push(\"/tickets\");\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tsetLoading(false);\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classes.actionButtons}>\n\t\t\t{ticket.status === \"closed\" && (\n\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\tloading={loading}\n\t\t\t\t\tstartIcon={<Replay />}\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"open\", user?.id)}\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.reopen\")}\n\t\t\t\t</ButtonWithSpinner>\n\t\t\t)}\n\t\t\t{ticket.status === \"open\" && (\n\t\t\t\t<>\n\t\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tstartIcon={<Replay />}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"pending\", null)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.return\")}\n\t\t\t\t\t</ButtonWithSpinner>\n\t\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"closed\", user?.id)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.resolve\")}\n\t\t\t\t\t</ButtonWithSpinner>\n\t\t\t\t\t<IconButton onClick={handleOpenTicketOptionsMenu}>\n\t\t\t\t\t\t<MoreVert />\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t<TicketOptionsMenu\n\t\t\t\t\t\tticket={ticket}\n\t\t\t\t\t\tanchorEl={anchorEl}\n\t\t\t\t\t\tmenuOpen={ticketOptionsMenuOpen}\n\t\t\t\t\t\thandleClose={handleCloseTicketOptionsMenu}\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t)}\n\t\t\t{ticket.status === \"pending\" && (\n\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\tloading={loading}\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"open\", user?.id)}\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.accept\")}\n\t\t\t\t</ButtonWithSpinner>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default TicketActionButtons;\n","import React, { useEffect, useState, useContext } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\n\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Grid from \"@material-ui/core/Grid\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nimport { Button, Divider, } from \"@material-ui/core\";\n\nconst VcardPreview = ({ contact, numbers }) => {\n    const history = useHistory();\n    const { user } = useContext(AuthContext);\n\n    const [selectedContact, setContact] = useState({\n        name: \"\",\n        number: 0,\n        profilePicUrl: \"\"\n    });\n\n    useEffect(() => {\n        const delayDebounceFn = setTimeout(() => {\n            const fetchContacts = async() => {\n                try {\n                    let contactObj = {\n                        name: contact,\n                        number: numbers.replace(/\\D/g, \"\"),\n                        email: \"\"\n                    }\n                    const { data } = await api.post(\"/contact\", contactObj);\n                    setContact(data)\n\n                } catch (err) {\n                    console.log(err)\n                    toastError(err);\n                }\n            };\n            fetchContacts();\n        }, 500);\n        return () => clearTimeout(delayDebounceFn);\n    }, [contact, numbers]);\n\n    const handleNewChat = async() => {\n        try {\n            const { data: ticket } = await api.post(\"/tickets\", {\n                contactId: selectedContact.id,\n                userId: user.id,\n                status: \"open\",\n            });\n            history.push(`/tickets/${ticket.id}`);\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    return (\n\t\t<>\n\t\t\t<div style={{\n\t\t\t\tminWidth: \"250px\",\n\t\t\t}}>\n\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t<Grid item xs={2}>\n\t\t\t\t\t\t<Avatar src={selectedContact.profilePicUrl} />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={9}>\n\t\t\t\t\t\t<Typography style={{ marginTop: \"12px\", marginLeft: \"10px\" }} variant=\"subtitle1\" color=\"primary\" gutterBottom>\n\t\t\t\t\t\t\t{selectedContact.name}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={handleNewChat}\n\t\t\t\t\t\t\tdisabled={!selectedContact.number}\n\t\t\t\t\t\t>Conversar</Button>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t</>\n\t);\n\n};\n\nexport default VcardPreview;","import React, { useEffect } from 'react';\nimport toastError from \"../../errors/toastError\";\n\nimport Typography from \"@material-ui/core/Typography\";\nimport Grid from \"@material-ui/core/Grid\";\n\nimport { Button, Divider, } from \"@material-ui/core\";\n\nconst LocationPreview = ({ image, link, description }) => {\n    useEffect(() => {}, [image, link, description]);\n\n    const handleLocation = async() => {\n        try {\n            window.open(link);\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    return (\n\t\t<>\n\t\t\t<div style={{\n\t\t\t\tminWidth: \"250px\",\n\t\t\t}}>\n\t\t\t\t<div>\n\t\t\t\t\t<div style={{ float: \"left\" }}>\n\t\t\t\t\t\t<img src={image} onClick={handleLocation} style={{ width: \"100px\" }} />\n\t\t\t\t\t</div>\n\t\t\t\t\t{ description && (\n\t\t\t\t\t<div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\n\t\t\t\t\t\t<Typography style={{ marginTop: \"12px\", marginLeft: \"15px\", marginRight: \"15px\", float: \"left\" }} variant=\"subtitle1\" color=\"primary\" gutterBottom>\n\t\t\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: description.replace('\\\\n', '<br />') }}></div>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<div style={{ display: \"block\", content: \"\", clear: \"both\" }}></div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={handleLocation}\n\t\t\t\t\t\t\tdisabled={!link}\n\t\t\t\t\t\t>Visualizar</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n\n};\n\nexport default LocationPreview;","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport ModalImage from \"react-modal-image\";\nimport api from \"../../services/api\";\n\nconst useStyles = makeStyles(theme => ({\n\tmessageMedia: {\n\t\tobjectFit: \"cover\",\n\t\twidth: 250,\n\t\theight: 200,\n\t\tborderTopLeftRadius: 8,\n\t\tborderTopRightRadius: 8,\n\t\tborderBottomLeftRadius: 8,\n\t\tborderBottomRightRadius: 8,\n\t},\n}));\n\nconst ModalImageCors = ({ imageUrl }) => {\n\tconst classes = useStyles();\n\tconst [fetching, setFetching] = useState(true);\n\tconst [blobUrl, setBlobUrl] = useState(\"\");\n\n\tuseEffect(() => {\n\t\tif (!imageUrl) return;\n\t\tconst fetchImage = async () => {\n\t\t\tconst { data, headers } = await api.get(imageUrl, {\n\t\t\t\tresponseType: \"blob\",\n\t\t\t});\n\t\t\tconst url = window.URL.createObjectURL(\n\t\t\t\tnew Blob([data], { type: headers[\"content-type\"] })\n\t\t\t);\n\t\t\tsetBlobUrl(url);\n\t\t\tsetFetching(false);\n\t\t};\n\t\tfetchImage();\n\t}, [imageUrl]);\n\n\treturn (\n\t\t<ModalImage\n\t\t\tclassName={classes.messageMedia}\n\t\t\tsmallSrcSet={fetching ? imageUrl : blobUrl}\n\t\t\tmedium={fetching ? imageUrl : blobUrl}\n\t\t\tlarge={fetching ? imageUrl : blobUrl}\n\t\t\talt=\"image\"\n\t\t/>\n\t);\n};\n\nexport default ModalImageCors;\n","import React, { useState, useContext } from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport { Menu } from \"@material-ui/core\";\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport toastError from \"../../errors/toastError\";\n\nconst MessageOptionsMenu = ({ message, menuOpen, handleClose, anchorEl }) => {\n  const { setReplyingMessage } = useContext(ReplyMessageContext);\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\n\n  const handleDeleteMessage = async () => {\n    try {\n      await api.delete(`/messages/${message.id}`);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const hanldeReplyMessage = () => {\n    setReplyingMessage(message);\n    handleClose();\n  };\n\n  const handleOpenConfirmationModal = (e) => {\n    setConfirmationOpen(true);\n    handleClose();\n  };\n\n  return (\n    <>\n      <ConfirmationModal\n        title={i18n.t(\"messageOptionsMenu.confirmationModal.title\")}\n        open={confirmationOpen}\n        onClose={setConfirmationOpen}\n        onConfirm={handleDeleteMessage}\n      >\n        {i18n.t(\"messageOptionsMenu.confirmationModal.message\")}\n      </ConfirmationModal>\n      <Menu\n        anchorEl={anchorEl}\n        getContentAnchorEl={null}\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"right\",\n        }}\n        transformOrigin={{\n          vertical: \"top\",\n          horizontal: \"right\",\n        }}\n        open={menuOpen}\n        onClose={handleClose}\n      >\n        {message.fromMe && (\n          <MenuItem onClick={handleOpenConfirmationModal}>\n            {i18n.t(\"messageOptionsMenu.delete\")}\n          </MenuItem>\n        )}\n        <MenuItem onClick={hanldeReplyMessage}>\n          {i18n.t(\"messageOptionsMenu.reply\")}\n        </MenuItem>\n      </Menu>\n    </>\n  );\n};\n\nexport default MessageOptionsMenu;\n","import React, { useState, useEffect, useReducer, useRef } from \"react\";\n\nimport { isSameDay, parseISO, format } from \"date-fns\";\nimport openSocket from \"socket.io-client\";\nimport clsx from \"clsx\";\n\nimport { green } from \"@material-ui/core/colors\";\nimport {\n  Button,\n  CircularProgress,\n  Divider,\n  IconButton,\n  makeStyles,\n} from \"@material-ui/core\";\nimport {\n  AccessTime,\n  Block,\n  Done,\n  DoneAll,\n  ExpandMore,\n  GetApp,\n} from \"@material-ui/icons\";\n\nimport MarkdownWrapper from \"../MarkdownWrapper\";\nimport VcardPreview from \"../VcardPreview\";\nimport LocationPreview from \"../LocationPreview\";\nimport ModalImageCors from \"../ModalImageCors\";\nimport MessageOptionsMenu from \"../MessageOptionsMenu\";\nimport whatsBackground from \"../../assets/wa-background.png\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles((theme) => ({\n  messagesListWrapper: {\n    overflow: \"hidden\",\n    position: \"relative\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexGrow: 1,\n  },\n\n  messageCenter: {\n    marginTop: 5,\n    alignItems: \"center\",\n    verticalAlign: \"center\",\n    alignContent: \"center\",\n    backgroundColor: \"#E1F5FEEB\",\n    fontSize: \"12px\",\n    minWidth: 100,\n    maxWidth: 270,\n    color: \"#272727\",\n    borderTopLeftRadius: 0,\n    borderTopRightRadius: 8,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 8,\n    paddingLeft: 5,\n    paddingRight: 5,\n    paddingTop: 5,\n    paddingBottom: 0,\n    boxShadow: \"0 1px 1px #b3b3b3\",\n  },\n\n  messagesList: {\n    backgroundImage: `url(${whatsBackground})`,\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexGrow: 1,\n    padding: \"20px 20px 20px 20px\",\n    overflowY: \"scroll\",\n    [theme.breakpoints.down(\"sm\")]: {\n      paddingBottom: \"90px\",\n    },\n    ...theme.scrollbarStyles,\n  },\n\n  circleLoading: {\n    color: green[500],\n    position: \"absolute\",\n    opacity: \"70%\",\n    top: 0,\n    left: \"50%\",\n    marginTop: 12,\n  },\n\n  messageLeft: {\n    marginRight: 20,\n    marginTop: 2,\n    minWidth: 100,\n    maxWidth: 600,\n    height: \"auto\",\n    display: \"block\",\n    position: \"relative\",\n    \"&:hover #messageActionsButton\": {\n      display: \"flex\",\n      position: \"absolute\",\n      top: 0,\n      right: 0,\n    },\n\n    whiteSpace: \"pre-wrap\",\n    backgroundColor: \"#ffffff\",\n    color: \"#303030\",\n    alignSelf: \"flex-start\",\n    borderTopLeftRadius: 0,\n    borderTopRightRadius: 8,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 8,\n    paddingLeft: 5,\n    paddingRight: 5,\n    paddingTop: 5,\n    paddingBottom: 0,\n    boxShadow: \"0 1px 1px #b3b3b3\",\n  },\n\n  quotedContainerLeft: {\n    margin: \"-3px -80px 6px -6px\",\n    overflow: \"hidden\",\n    backgroundColor: \"#f0f0f0\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\",\n  },\n\n  quotedMsg: {\n    padding: 10,\n    maxWidth: 300,\n    height: \"auto\",\n    display: \"block\",\n    whiteSpace: \"pre-wrap\",\n    overflow: \"hidden\",\n  },\n\n  quotedSideColorLeft: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#6bcbef\",\n  },\n\n  messageRight: {\n    marginLeft: 20,\n    marginTop: 2,\n    minWidth: 100,\n    maxWidth: 600,\n    height: \"auto\",\n    display: \"block\",\n    position: \"relative\",\n    \"&:hover #messageActionsButton\": {\n      display: \"flex\",\n      position: \"absolute\",\n      top: 0,\n      right: 0,\n    },\n\n    whiteSpace: \"pre-wrap\",\n    backgroundColor: \"#dcf8c6\",\n    color: \"#303030\",\n    alignSelf: \"flex-end\",\n    borderTopLeftRadius: 8,\n    borderTopRightRadius: 8,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 0,\n    paddingLeft: 5,\n    paddingRight: 5,\n    paddingTop: 5,\n    paddingBottom: 0,\n    boxShadow: \"0 1px 1px #b3b3b3\",\n  },\n\n  quotedContainerRight: {\n    margin: \"-3px -80px 6px -6px\",\n    overflowY: \"hidden\",\n    backgroundColor: \"#cfe9ba\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\",\n  },\n\n  quotedMsgRight: {\n    padding: 10,\n    maxWidth: 300,\n    height: \"auto\",\n    whiteSpace: \"pre-wrap\",\n  },\n\n  quotedSideColorRight: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#35cd96\",\n  },\n\n  messageActionsButton: {\n    display: \"none\",\n    position: \"relative\",\n    color: \"#999\",\n    zIndex: 1,\n    backgroundColor: \"inherit\",\n    opacity: \"90%\",\n    \"&:hover, &.Mui-focusVisible\": { backgroundColor: \"inherit\" },\n  },\n\n  messageContactName: {\n    display: \"flex\",\n    color: \"#6bcbef\",\n    fontWeight: 500,\n  },\n\n  textContentItem: {\n    overflowWrap: \"break-word\",\n    padding: \"3px 80px 6px 6px\",\n  },\n\n  textContentItemDeleted: {\n    fontStyle: \"italic\",\n    color: \"rgba(0, 0, 0, 0.36)\",\n    overflowWrap: \"break-word\",\n    padding: \"3px 80px 6px 6px\",\n  },\n\n  messageMedia: {\n    objectFit: \"cover\",\n    width: 250,\n    height: 200,\n    borderTopLeftRadius: 8,\n    borderTopRightRadius: 8,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 8,\n  },\n\n  timestamp: {\n    fontSize: 11,\n    position: \"absolute\",\n    bottom: 0,\n    right: 5,\n    color: \"#999\",\n  },\n\n  dailyTimestamp: {\n    alignItems: \"center\",\n    textAlign: \"center\",\n    alignSelf: \"center\",\n    width: \"110px\",\n    backgroundColor: \"#e1f3fb\",\n    margin: \"10px\",\n    borderRadius: \"10px\",\n    boxShadow: \"0 1px 1px #b3b3b3\",\n  },\n\n  dailyTimestampText: {\n    color: \"#808888\",\n    padding: 8,\n    alignSelf: \"center\",\n    marginLeft: \"0px\",\n  },\n\n  ackIcons: {\n    fontSize: 18,\n    verticalAlign: \"middle\",\n    marginLeft: 4,\n  },\n\n  deletedIcon: {\n    fontSize: 18,\n    verticalAlign: \"middle\",\n    marginRight: 4,\n  },\n\n  ackDoneAllIcon: {\n    color: green[500],\n    fontSize: 18,\n    verticalAlign: \"middle\",\n    marginLeft: 4,\n  },\n\n  downloadMedia: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    backgroundColor: \"inherit\",\n    padding: 10,\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_MESSAGES\") {\n    const messages = action.payload;\n    const newMessages = [];\n\n    messages.forEach((message) => {\n      const messageIndex = state.findIndex((m) => m.id === message.id);\n      if (messageIndex !== -1) {\n        state[messageIndex] = message;\n      } else {\n        newMessages.push(message);\n      }\n    });\n\n    return [...newMessages, ...state];\n  }\n\n  if (action.type === \"ADD_MESSAGE\") {\n    const newMessage = action.payload;\n    const messageIndex = state.findIndex((m) => m.id === newMessage.id);\n\n    if (messageIndex !== -1) {\n      state[messageIndex] = newMessage;\n    } else {\n      state.push(newMessage);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_MESSAGE\") {\n    const messageToUpdate = action.payload;\n    const messageIndex = state.findIndex((m) => m.id === messageToUpdate.id);\n\n    if (messageIndex !== -1) {\n      state[messageIndex] = messageToUpdate;\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst MessagesList = ({ ticketId, isGroup }) => {\n  const classes = useStyles();\n\n  const [messagesList, dispatch] = useReducer(reducer, []);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const lastMessageRef = useRef();\n\n  const [selectedMessage, setSelectedMessage] = useState({});\n  const [anchorEl, setAnchorEl] = useState(null);\n  const messageOptionsMenuOpen = Boolean(anchorEl);\n  const currentTicketId = useRef(ticketId);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n\n    currentTicketId.current = ticketId;\n  }, [ticketId]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchMessages = async () => {\n        try {\n          const { data } = await api.get(\"/messages/\" + ticketId, {\n            params: { pageNumber },\n          });\n\n          if (currentTicketId.current === ticketId) {\n            dispatch({ type: \"LOAD_MESSAGES\", payload: data.messages });\n            setHasMore(data.hasMore);\n            setLoading(false);\n          }\n\n          if (pageNumber === 1 && data.messages.length > 1) {\n            scrollToBottom();\n          }\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchMessages();\n    }, 500);\n    return () => {\n      clearTimeout(delayDebounceFn);\n    };\n  }, [pageNumber, ticketId]);\n\n  useEffect(() => {\n    const socket = openSocket(process.env.REACT_APP_BACKEND_URL);\n\n    socket.on(\"connect\", () => socket.emit(\"joinChatBox\", ticketId));\n\n    socket.on(\"appMessage\", (data) => {\n      if (data.action === \"create\") {\n        dispatch({ type: \"ADD_MESSAGE\", payload: data.message });\n        scrollToBottom();\n      }\n\n      if (data.action === \"update\") {\n        dispatch({ type: \"UPDATE_MESSAGE\", payload: data.message });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [ticketId]);\n\n  const loadMore = () => {\n    setPageNumber((prevPageNumber) => prevPageNumber + 1);\n  };\n\n  const scrollToBottom = () => {\n    if (lastMessageRef.current) {\n      lastMessageRef.current.scrollIntoView({});\n    }\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore) return;\n    const { scrollTop } = e.currentTarget;\n\n    if (scrollTop === 0) {\n      document.getElementById(\"messagesList\").scrollTop = 1;\n    }\n\n    if (loading) {\n      return;\n    }\n\n    if (scrollTop < 50) {\n      loadMore();\n    }\n  };\n\n  const handleOpenMessageOptionsMenu = (e, message) => {\n    setAnchorEl(e.currentTarget);\n    setSelectedMessage(message);\n  };\n\n  const handleCloseMessageOptionsMenu = (e) => {\n    setAnchorEl(null);\n  };\n\n  const checkMessageMedia = (message) => {\n\tif(message.mediaType === \"location\" && message.body.split('|').length >= 2) {\n\t\tlet locationParts = message.body.split('|')\n\t\tlet imageLocation = locationParts[0]\t\t\n\t\tlet linkLocation = locationParts[1]\n\t\t\n\t\tlet descriptionLocation = null\n\t\t\n\t\tif(locationParts.length > 2)\n\t\t\tdescriptionLocation = message.body.split('|')[2]\n\t\t\n\t\treturn <LocationPreview image={imageLocation} link={linkLocation} description={descriptionLocation} />\n\t}\n\telse if (message.mediaType === \"vcard\") {\n\t\t//console.log(\"vcard\")\n\t\t//console.log(message)\n\t\tlet array = message.body.split(\"\\n\");\n\t\tlet obj = [];\n\t\tlet contact = \"\";\n\t\tfor (let index = 0; index < array.length; index++) {\n\t\t\tconst v = array[index];\n\t\t\tlet values = v.split(\":\");\n\t\t\tfor (let ind = 0; ind < values.length; ind++) {\n\t\t\t\tif (values[ind].indexOf(\"+\") !== -1) {\n\t\t\t\t\tobj.push({ number: values[ind] });\n\t\t\t\t}\n\t\t\t\tif (values[ind].indexOf(\"FN\") !== -1) {\n\t\t\t\t\tcontact = values[ind + 1];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn <VcardPreview contact={contact} numbers={obj[0].number} />\n\t} \n  /*else if (message.mediaType === \"multi_vcard\") {\n\t\tconsole.log(\"multi_vcard\")\n\t\tconsole.log(message)\n\t\t\n\t\tif(message.body !== null && message.body !== \"\") {\n\t\t\tlet newBody = JSON.parse(message.body)\n\t\t\treturn (\n\t\t\t\t<>\n\t\t\t\t  {\n\t\t\t\t\tnewBody.map(v => (\n\t\t\t\t\t  <VcardPreview contact={v.name} numbers={v.number} />\n\t\t\t\t\t))\n\t\t\t\t  }\n\t\t\t\t</>\n\t\t\t)\n\t\t} else return (<></>)\n\t}*/\n  else if (message.mediaType === \"image\") {\n      return <ModalImageCors imageUrl={message.mediaUrl} />;\n    } else if (message.mediaType === \"audio\") {\n      return (\n        <audio controls>\n          <source src={message.mediaUrl} type=\"audio/ogg\"></source>\n        </audio>\n      );\n    } else if (message.mediaType === \"video\") {\n      return (\n        <video\n          className={classes.messageMedia}\n          src={message.mediaUrl}\n          controls\n        />\n      );\n    } else {\n      return (\n        <>\n          <div className={classes.downloadMedia}>\n            <Button\n              startIcon={<GetApp />}\n              color=\"primary\"\n              variant=\"outlined\"\n              target=\"_blank\"\n              href={message.mediaUrl}\n            >\n              Download\n            </Button>\n          </div>\n          <Divider />\n        </>\n      );\n    }\n  };\n\n  const renderMessageAck = (message) => {\n    if (message.ack === 0) {\n      return <AccessTime fontSize=\"small\" className={classes.ackIcons} />;\n    }\n    if (message.ack === 1) {\n      return <Done fontSize=\"small\" className={classes.ackIcons} />;\n    }\n    if (message.ack === 2) {\n      return <DoneAll fontSize=\"small\" className={classes.ackIcons} />;\n    }\n    if (message.ack === 3 || message.ack === 4) {\n      return <DoneAll fontSize=\"small\" className={classes.ackDoneAllIcon} />;\n    }\n  };\n\n  const renderDailyTimestamps = (message, index) => {\n    if (index === 0) {\n      return (\n        <span\n          className={classes.dailyTimestamp}\n          key={`timestamp-${message.id}`}\n        >\n          <div className={classes.dailyTimestampText}>\n            {format(parseISO(messagesList[index].createdAt), \"dd/MM/yyyy\")}\n          </div>\n        </span>\n      );\n    }\n    if (index < messagesList.length - 1) {\n      let messageDay = parseISO(messagesList[index].createdAt);\n      let previousMessageDay = parseISO(messagesList[index - 1].createdAt);\n\n      if (!isSameDay(messageDay, previousMessageDay)) {\n        return (\n          <span\n            className={classes.dailyTimestamp}\n            key={`timestamp-${message.id}`}\n          >\n            <div className={classes.dailyTimestampText}>\n              {format(parseISO(messagesList[index].createdAt), \"dd/MM/yyyy\")}\n            </div>\n          </span>\n        );\n      }\n    }\n    if (index === messagesList.length - 1) {\n      return (\n        <div\n          key={`ref-${message.createdAt}`}\n          ref={lastMessageRef}\n          style={{ float: \"left\", clear: \"both\" }}\n        />\n      );\n    }\n  };\n\n  const renderMessageDivider = (message, index) => {\n    if (index < messagesList.length && index > 0) {\n      let messageUser = messagesList[index].fromMe;\n      let previousMessageUser = messagesList[index - 1].fromMe;\n\n      if (messageUser !== previousMessageUser) {\n        return (\n          <span style={{ marginTop: 16 }} key={`divider-${message.id}`}></span>\n        );\n      }\n    }\n  };\n\n  const renderQuotedMessage = (message) => {\n    return (\n      <div\n        className={clsx(classes.quotedContainerLeft, {\n          [classes.quotedContainerRight]: message.fromMe,\n        })}\n      >\n        <span\n          className={clsx(classes.quotedSideColorLeft, {\n            [classes.quotedSideColorRight]: message.quotedMsg?.fromMe,\n          })}\n        ></span>\n        <div className={classes.quotedMsg}>\n          {!message.quotedMsg?.fromMe && (\n            <span className={classes.messageContactName}>\n              {message.quotedMsg?.contact?.name}\n            </span>\n          )}\n          {message.quotedMsg?.body}\n        </div>\n      </div>\n    );\n  };\n\n  const renderMessages = () => {\n    if (messagesList.length > 0) {\n      const viewMessagesList = messagesList.map((message, index) => {\n        if (message.mediaType === \"call_log\") {\n          return (\n            <React.Fragment key={message.id}>\n              {renderDailyTimestamps(message, index)}\n              {renderMessageDivider(message, index)}\n              <div className={classes.messageCenter}>\n                <IconButton\n                  variant=\"contained\"\n                  size=\"small\"\n                  id=\"messageActionsButton\"\n                  disabled={message.isDeleted}\n                  className={classes.messageActionsButton}\n                  onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\n                >\n                  <ExpandMore />\n                </IconButton>\n                {isGroup && (\n                  <span className={classes.messageContactName}>\n                    {message.contact?.name}\n                  </span>\n                )}\n                <div>\n                <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 17\" width=\"20\" height=\"17\">\n                                <path fill=\"#df3333\" d=\"M18.2 12.1c-1.5-1.8-5-2.7-8.2-2.7s-6.7 1-8.2 2.7c-.7.8-.3 2.3.2 2.8.2.2.3.3.5.3 1.4 0 3.6-.7 3.6-.7.5-.2.8-.5.8-1v-1.3c.7-1.2 5.4-1.2 6.4-.1l.1.1v1.3c0 .2.1.4.2.6.1.2.3.3.5.4 0 0 2.2.7 3.6.7.2 0 1.4-2 .5-3.1zM5.4 3.2l4.7 4.6 5.8-5.7-.9-.8L10.1 6 6.4 2.3h2.5V1H4.1v4.8h1.3V3.2z\"></path>\n                            </svg> <span>Chamada de voz/vdeo perdida s {format(parseISO(message.createdAt), \"HH:mm\")}</span>\n                </div>\n              </div>\n            </React.Fragment>\n          );\n        }\n        if (!message.fromMe) {\n          return (\n            <React.Fragment key={message.id}>\n              {renderDailyTimestamps(message, index)}\n              {renderMessageDivider(message, index)}\n              <div className={classes.messageLeft}>\n                <IconButton\n                  variant=\"contained\"\n                  size=\"small\"\n                  id=\"messageActionsButton\"\n                  disabled={message.isDeleted}\n                  className={classes.messageActionsButton}\n                  onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\n                >\n                  <ExpandMore />\n                </IconButton>\n                {isGroup && (\n                  <span className={classes.messageContactName}>\n                    {message.contact?.name}\n                  </span>\n                )}\n                {(message.mediaUrl || message.mediaType === \"location\" || message.mediaType === \"vcard\" \n                //|| message.mediaType === \"multi_vcard\" \n                ) && checkMessageMedia(message)}\n                <div className={classes.textContentItem}>\n                  {message.quotedMsg && renderQuotedMessage(message)}\n                  <MarkdownWrapper>{message.body}</MarkdownWrapper>\n                  <span className={classes.timestamp}>\n                    {format(parseISO(message.createdAt), \"HH:mm\")}\n                  </span>\n                </div>\n              </div>\n            </React.Fragment>\n          );\n        } else {\n          return (\n            <React.Fragment key={message.id}>\n              {renderDailyTimestamps(message, index)}\n              {renderMessageDivider(message, index)}\n              <div className={classes.messageRight}>\n                <IconButton\n                  variant=\"contained\"\n                  size=\"small\"\n                  id=\"messageActionsButton\"\n                  disabled={message.isDeleted}\n                  className={classes.messageActionsButton}\n                  onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\n                >\n                  <ExpandMore />\n                </IconButton>\n                {(message.mediaUrl || message.mediaType === \"location\" || message.mediaType === \"vcard\" \n                //|| message.mediaType === \"multi_vcard\" \n                ) && checkMessageMedia(message)}\n                <div\n                  className={clsx(classes.textContentItem, {\n                    [classes.textContentItemDeleted]: message.isDeleted,\n                  })}\n                >\n                  {message.isDeleted && (\n                    <Block\n                      color=\"disabled\"\n                      fontSize=\"small\"\n                      className={classes.deletedIcon}\n                    />\n                  )}\n                  {message.quotedMsg && renderQuotedMessage(message)}\n                  <MarkdownWrapper>{message.body}</MarkdownWrapper>\n                  <span className={classes.timestamp}>\n                    {format(parseISO(message.createdAt), \"HH:mm\")}\n                    {renderMessageAck(message)}\n                  </span>\n                </div>\n              </div>\n            </React.Fragment>\n          );\n        }\n      });\n      return viewMessagesList;\n    } else {\n      return <div>Say hello to your new contact!</div>;\n    }\n  };\n\n  return (\n    <div className={classes.messagesListWrapper}>\n      <MessageOptionsMenu\n        message={selectedMessage}\n        anchorEl={anchorEl}\n        menuOpen={messageOptionsMenuOpen}\n        handleClose={handleCloseMessageOptionsMenu}\n      />\n      <div\n        id=\"messagesList\"\n        className={classes.messagesList}\n        onScroll={handleScroll}\n      >\n        {messagesList.length > 0 ? renderMessages() : []}\n      </div>\n      {loading && (\n        <div>\n          <CircularProgress className={classes.circleLoading} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MessagesList;","import React, { useState, useEffect } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\n\nimport { toast } from \"react-toastify\";\nimport openSocket from \"socket.io-client\";\nimport clsx from \"clsx\";\n\nimport { Paper, makeStyles } from \"@material-ui/core\";\n\nimport ContactDrawer from \"../ContactDrawer\";\nimport MessageInput from \"../MessageInput/\";\nimport TicketHeader from \"../TicketHeader\";\nimport TicketInfo from \"../TicketInfo\";\nimport TicketActionButtons from \"../TicketActionButtons\";\nimport MessagesList from \"../MessagesList\";\nimport api from \"../../services/api\";\nimport { ReplyMessageProvider } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport toastError from \"../../errors/toastError\";\n\nconst drawerWidth = 320;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    height: \"100%\",\n    position: \"relative\",\n    overflow: \"hidden\",\n  },\n\n  ticketInfo: {\n    maxWidth: \"50%\",\n    flexBasis: \"50%\",\n    [theme.breakpoints.down(\"sm\")]: {\n      maxWidth: \"80%\",\n      flexBasis: \"80%\",\n    },\n  },\n  ticketActionButtons: {\n    maxWidth: \"50%\",\n    flexBasis: \"50%\",\n    left: \"-50px\",\n    position: \"relative\",\n    display: \"flex\",\n    [theme.breakpoints.down(\"sm\")]: {\n      maxWidth: \"100%\",\n      flexBasis: \"100%\",\n      marginBottom: \"5px\",\n    },\n  },\n\n  mainWrapper: {\n    flex: 1,\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n    borderLeft: \"0\",\n    marginRight: -drawerWidth,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n\n  mainWrapperShift: {\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginRight: 0,\n  },\n}));\n\nconst Ticket = () => {\n  const { ticketId } = useParams();\n  const history = useHistory();\n  const classes = useStyles();\n\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [contact, setContact] = useState({});\n  const [ticket, setTicket] = useState({});\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchTicket = async () => {\n        try {\n          const { data } = await api.get(\"/tickets/\" + ticketId);\n\n          setContact(data.contact);\n          setTicket(data);\n          setLoading(false);\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchTicket();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [ticketId, history]);\n\n  useEffect(() => {\n    const socket = openSocket(process.env.REACT_APP_BACKEND_URL);\n\n    socket.on(\"connect\", () => socket.emit(\"joinChatBox\", ticketId));\n\n    socket.on(\"ticket\", (data) => {\n      if (data.action === \"update\") {\n        setTicket(data.ticket);\n      }\n\n      if (data.action === \"delete\") {\n        toast.success(\"Conversa deletada com sucesso!\");\n        history.push(\"/tickets\");\n      }\n    });\n\n    socket.on(\"contact\", (data) => {\n      if (data.action === \"update\") {\n        setContact((prevState) => {\n          if (prevState.id === data.contact?.id) {\n            return { ...prevState, ...data.contact };\n          }\n          return prevState;\n        });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [ticketId, history]);\n\n  const handleDrawerOpen = () => {\n    setDrawerOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setDrawerOpen(false);\n  };\n\n  return (\n    <div className={classes.root} id=\"drawer-container\">\n      <Paper\n        variant=\"outlined\"\n        elevation={0}\n        className={clsx(classes.mainWrapper, {\n          [classes.mainWrapperShift]: drawerOpen,\n        })}\n      >\n        <TicketHeader loading={loading}>\n          <div className={classes.ticketInfo}>\n            <TicketInfo\n              contact={contact}\n              ticket={ticket}\n              onClick={handleDrawerOpen}\n            />\n          </div>\n          <div className={classes.ticketActionButtons}>\n            <TicketActionButtons ticket={ticket} />\n          </div>\n        </TicketHeader>\n        <ReplyMessageProvider>\n          <MessagesList\n            ticketId={ticketId}\n            isGroup={ticket.isGroup}\n          ></MessagesList>\n          <MessageInput ticketStatus={ticket.status} />\n        </ReplyMessageProvider>\n      </Paper>\n      <ContactDrawer\n        open={drawerOpen}\n        handleDrawerClose={handleDrawerClose}\n        contact={contact}\n        loading={loading}\n      />\n    </div>\n  );\n};\n\nexport default Ticket;\n","import React from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport TicketsManager from \"../../components/TicketsManager/\";\nimport Ticket from \"../../components/Ticket/\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport Hidden from \"@material-ui/core/Hidden\";\n\nconst useStyles = makeStyles((theme) => ({\n  chatContainer: {\n    flex: 1,\n    // // backgroundColor: \"#eee\",\n    // padding: theme.spacing(4),\n    height: `calc(100% - 48px)`,\n    overflowY: \"hidden\",\n  },\n\n  chatPapper: {\n    // backgroundColor: \"red\",\n    display: \"flex\",\n    height: \"100%\",\n  },\n\n  contactsWrapper: {\n    display: \"flex\",\n    height: \"100%\",\n    flexDirection: \"column\",\n    overflowY: \"hidden\",\n  },\n  contactsWrapperSmall: {\n    display: \"flex\",\n    height: \"100%\",\n    flexDirection: \"column\",\n    overflowY: \"hidden\",\n    [theme.breakpoints.down(\"sm\")]: {\n      display: \"none\",\n    },\n  },\n  messagessWrapper: {\n    display: \"flex\",\n    height: \"100%\",\n    flexDirection: \"column\",\n  },\n  welcomeMsg: {\n    backgroundColor: \"#eee\",\n    display: \"flex\",\n    justifyContent: \"space-evenly\",\n    alignItems: \"center\",\n    height: \"100%\",\n    textAlign: \"center\",\n    borderRadius: 0,\n  },\n  ticketsManager: {},\n  ticketsManagerClosed: {\n    [theme.breakpoints.down(\"sm\")]: {\n      display: \"none\",\n    },\n  },\n}));\n\nconst Chat = () => {\n  const classes = useStyles();\n  const { ticketId } = useParams();\n\n  return (\n    <div className={classes.chatContainer}>\n      <div className={classes.chatPapper}>\n        <Grid container spacing={0}>\n          {/* <Grid item xs={4} className={classes.contactsWrapper}> */}\n          <Grid\n            item\n            xs={12}\n            md={4}\n            className={\n              ticketId ? classes.contactsWrapperSmall : classes.contactsWrapper\n            }\n          >\n            <TicketsManager />\n          </Grid>\n          <Grid item xs={12} md={8} className={classes.messagessWrapper}>\n            {/* <Grid item xs={8} className={classes.messagessWrapper}> */}\n            {ticketId ? (\n              <>\n                <Ticket />\n              </>\n            ) : (\n              <Hidden only={[\"sm\", \"xs\"]}>\n                <Paper className={classes.welcomeMsg}>\n                  {/* <Paper square variant=\"outlined\" className={classes.welcomeMsg}> */}\n                  <span>{i18n.t(\"chat.noTicketMessage\")}</span>\n                </Paper>\n              </Hidden>\n            )}\n          </Grid>\n        </Grid>\n      </div>\n    </div>\n  );\n};\n\nexport default Chat;\n","import React, { useState } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { useHistory } from \"react-router-dom\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { Formik, Form, Field } from \"formik\";\n\nimport {\n\tAvatar,\n\tButton,\n\tCssBaseline,\n\tTextField,\n\tGrid,\n\tBox,\n\tTypography,\n\tContainer,\n\tInputAdornment,\n\tIconButton,\n\tLink\n  } from '@material-ui/core';\n  \nimport { LockOutlined, Visibility, VisibilityOff } from '@material-ui/icons';\n  \nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\n// const Copyright = () => {\n// \treturn (\n// \t\t<Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n// \t\t\t{\"Copyleft \"}\n// \t\t\t<Link color=\"inherit\" href=\"https://github.com/canove\">\n// \t\t\t\tCanove\n// \t\t\t</Link>{\" \"}\n// \t\t\t{new Date().getFullYear()}\n// \t\t\t{\".\"}\n// \t\t</Typography>\n// \t);\n// };\n\nconst useStyles = makeStyles(theme => ({\n\tpaper: {\n\t\tmarginTop: theme.spacing(8),\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t},\n\tavatar: {\n\t\tmargin: theme.spacing(1),\n\t\tbackgroundColor: theme.palette.secondary.main,\n\t},\n\tform: {\n\t\twidth: \"100%\",\n\t\tmarginTop: theme.spacing(3),\n\t},\n\tsubmit: {\n\t\tmargin: theme.spacing(3, 0, 2),\n\t},\n}));\n\nconst UserSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tpassword: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\").required(\"Required\"),\n});\n\nconst SignUp = () => {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\n\tconst initialState = { name: \"\", email: \"\", password: \"\" };\n\tconst [showPassword, setShowPassword] = useState(false);\n\tconst [user] = useState(initialState);\n\n\tconst handleSignUp = async values => {\n\t\ttry {\n\t\t\tawait api.post(\"/auth/signup\", values);\n\t\t\ttoast.success(i18n.t(\"signup.toasts.success\"));\n\t\t\thistory.push(\"/login\");\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<Container component=\"main\" maxWidth=\"xs\">\n\t\t\t<CssBaseline />\n\t\t\t<div className={classes.paper}>\n\t\t\t\t<Avatar className={classes.avatar}>\n\t\t\t\t\t<LockOutlined />\n\t\t\t\t</Avatar>\n\t\t\t\t<Typography component=\"h1\" variant=\"h5\">\n\t\t\t\t\t{i18n.t(\"signup.title\")}\n\t\t\t\t</Typography>\n\t\t\t\t{/* <form className={classes.form} noValidate onSubmit={handleSignUp}> */}\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={user}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={UserSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSignUp(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting }) => (\n\t\t\t\t\t\t<Form className={classes.form}>\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"name\"\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"signup.form.name\")}\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"signup.form.email\")}\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"email\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t\t\t\t\t\terror={touched.password && Boolean(errors.password)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.password && errors.password}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"signup.form.password\")}\n\t\t\t\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\n\t\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"toggle password visibility\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setShowPassword((e) => !e)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t{showPassword ? <VisibilityOff /> : <Visibility />}\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tclassName={classes.submit}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{i18n.t(\"signup.buttons.submit\")}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Grid container justify=\"flex-end\">\n\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\t\t\tcomponent={RouterLink}\n\t\t\t\t\t\t\t\t\t\tto=\"/login\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{i18n.t(\"signup.buttons.login\")}\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</div>\n\t\t\t<Box mt={5}>{/* <Copyright /> */}</Box>\n\t\t</Container>\n\t);\n};\n\nexport default SignUp;\n","import React, { useState, useContext } from \"react\";\nimport { Link as RouterLink } from \"react-router-dom\";\n\nimport {\n  Avatar,\n  Button,\n  CssBaseline,\n  TextField,\n  Grid,\n  Box,\n  Typography,\n  Container,\n  InputAdornment,\n  IconButton,\n  Link\n} from '@material-ui/core';\n\nimport { LockOutlined, Visibility, VisibilityOff } from '@material-ui/icons';\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\n// const Copyright = () => {\n// \treturn (\n// \t\t<Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n// \t\t\t{\"Copyleft \"}\n// \t\t\t<Link color=\"inherit\" href=\"https://github.com/canove\">\n// \t\t\t\tCanove\n// \t\t\t</Link>{\" \"}\n// \t\t\t{new Date().getFullYear()}\n// \t\t\t{\".\"}\n// \t\t</Typography>\n// \t);\n// };\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nconst Login = () => {\n  const classes = useStyles();\n\n  const [user, setUser] = useState({ email: \"\", password: \"\" });\n  const [showPassword, setShowPassword] = useState(false);\n\n  const { handleLogin } = useContext(AuthContext);\n\n  const handleChangeInput = (e) => {\n    setUser({ ...user, [e.target.name]: e.target.value });\n  };\n\n  const handlSubmit = (e) => {\n    e.preventDefault();\n    handleLogin(user);\n  };\n\n  const logo = require(\"../../assets/logo.png\");\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <img src={logo} style={{width: \"70%\"}} />\n        <form className={classes.form} noValidate onSubmit={handlSubmit}>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            label={i18n.t(\"login.form.email\")}\n            name=\"email\"\n            value={user.email}\n            onChange={handleChangeInput}\n            autoComplete=\"email\"\n            autoFocus\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label={i18n.t(\"login.form.password\")}\n            id=\"password\"\n            value={user.password}\n            onChange={handleChangeInput}\n            autoComplete=\"current-password\"\n            type={showPassword ? 'text' : 'password'}\n            InputProps={{\n              endAdornment: (\n                <InputAdornment position=\"end\">\n                  <IconButton\n                    aria-label=\"toggle password visibility\"\n                    onClick={() => setShowPassword((e) => !e)}\n                  >\n                    {showPassword ? <VisibilityOff /> : <Visibility />}\n                  </IconButton>\n                </InputAdornment>\n              )\n            }}\n          />\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n          >\n            {i18n.t(\"login.buttons.submit\")}\n          </Button>\n          <Grid container>\n            <Grid item>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n      <Box mt={8}>{/* <Copyright /> */}</Box>\n    </Container>\n  );\n};\n\nexport default Login;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainContainer: {\n    flex: 1,\n    // padding: theme.spacing(2),\n    // height: `calc(100% - 48px)`,\n    padding: 0,\n    height: \"100%\",\n  },\n\n  contentWrapper: {\n    height: \"100%\",\n    overflowY: \"hidden\",\n    display: \"flex\",\n    flexDirection: \"column\",\n  },\n}));\n\nconst MainContainer = ({ children }) => {\n  const classes = useStyles();\n\n  return (\n    <Container className={classes.mainContainer} maxWidth={false}>\n      <div className={classes.contentWrapper}>{children}</div>\n    </Container>\n  );\n};\n\nexport default MainContainer;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\tcontactsHeader: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tpadding: \"0px 6px 6px 6px\",\n\t},\n}));\n\nconst MainHeader = ({ children }) => {\n\tconst classes = useStyles();\n\n\treturn <div className={classes.contactsHeader}>{children}</div>;\n};\n\nexport default MainHeader;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\tMainHeaderButtonsWrapper: {\n\t\tflex: \"none\",\n\t\tmarginLeft: \"auto\",\n\t\t\"& > *\": {\n\t\t\tmargin: theme.spacing(1),\n\t\t},\n\t},\n}));\n\nconst MainHeaderButtonsWrapper = ({ children }) => {\n\tconst classes = useStyles();\n\n\treturn <div className={classes.MainHeaderButtonsWrapper}>{children}</div>;\n};\n\nexport default MainHeaderButtonsWrapper;\n","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\n\nexport default function Title(props) {\n\treturn (\n\t\t<Typography variant=\"h5\" color=\"primary\" gutterBottom>\n\t\t\t{props.children}\n\t\t</Typography>\n\t);\n}\n","import React from \"react\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n\tcustomTableCell: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t},\n}));\n\nconst TableRowSkeleton = ({ avatar, columns }) => {\n\tconst classes = useStyles();\n\treturn (\n\t\t<>\n\t\t\t<TableRow>\n\t\t\t\t{avatar && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<TableCell style={{ paddingRight: 0 }}>\n\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\t\t\t\tvariant=\"circle\"\n\t\t\t\t\t\t\t\twidth={40}\n\t\t\t\t\t\t\t\theight={40}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t<Skeleton animation=\"wave\" height={30} width={80} />\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{Array.from({ length: columns }, (_, index) => (\n\t\t\t\t\t<TableCell align=\"center\" key={index}>\n\t\t\t\t\t\t<div className={classes.customTableCell}>\n\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\talign=\"center\"\n\t\t\t\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\t\t\t\theight={30}\n\t\t\t\t\t\t\t\twidth={80}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</TableCell>\n\t\t\t\t))}\n\t\t\t</TableRow>\n\t\t</>\n\t);\n};\n\nexport default TableRowSkeleton;\n","import React, { useState, useEffect } from \"react\";\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\n\nimport {\n\tDialog,\n\tDialogContent,\n\tDialogTitle,\n\tButton,\n\tDialogActions,\n\tCircularProgress,\n\tTextField,\n\tSwitch,\n\tFormControlLabel,\n} from \"@material-ui/core\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport QueueSelect from \"../QueueSelect\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\n\tmultFieldLine: {\n\t\tdisplay: \"flex\",\n\t\t\"& > *:not(:last-child)\": {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n}));\n\nconst SessionSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n});\n\nconst WhatsAppModal = ({ open, onClose, whatsAppId }) => {\n\tconst classes = useStyles();\n\tconst initialState = {\n\t\tname: \"\",\n\t\tgreetingMessage: \"\",\n\t\tfarewellMessage: \"\",\n\t\tisDefault: false,\n\t};\n\tconst [whatsApp, setWhatsApp] = useState(initialState);\n\tconst [selectedQueueIds, setSelectedQueueIds] = useState([]);\n\n\tuseEffect(() => {\n\t\tconst fetchSession = async () => {\n\t\t\tif (!whatsAppId) return;\n\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`whatsapp/${whatsAppId}`);\n\t\t\t\tsetWhatsApp(data);\n\n\t\t\t\tconst whatsQueueIds = data.queues?.map(queue => queue.id);\n\t\t\t\tsetSelectedQueueIds(whatsQueueIds);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\t\tfetchSession();\n\t}, [whatsAppId]);\n\n\tconst handleSaveWhatsApp = async values => {\n\t\tconst whatsappData = { ...values, queueIds: selectedQueueIds };\n\n\t\ttry {\n\t\t\tif (whatsAppId) {\n\t\t\t\tawait api.put(`/whatsapp/${whatsAppId}`, whatsappData);\n\t\t\t} else {\n\t\t\t\tawait api.post(\"/whatsapp\", whatsappData);\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"whatsappModal.success\"));\n\t\t\thandleClose();\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetWhatsApp(initialState);\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tmaxWidth=\"sm\"\n\t\t\t\tfullWidth\n\t\t\t\tscroll=\"paper\"\n\t\t\t>\n\t\t\t\t<DialogTitle>\n\t\t\t\t\t{whatsAppId\n\t\t\t\t\t\t? i18n.t(\"whatsappModal.title.edit\")\n\t\t\t\t\t\t: i18n.t(\"whatsappModal.title.add\")}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={whatsApp}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={SessionSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveWhatsApp(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ values, touched, errors, isSubmitting }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"whatsappModal.form.name\")}\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\t\t\tcontrol={\n\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\tas={Switch}\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"isDefault\"\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={values.isDefault}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"whatsappModal.form.default\")}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"queueModal.form.greetingMessage\")}\n\t\t\t\t\t\t\t\t\t\ttype=\"greetingMessage\"\n\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\trows={5}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tname=\"greetingMessage\"\n\t\t\t\t\t\t\t\t\t\terror={\n\t\t\t\t\t\t\t\t\t\t\ttouched.greetingMessage && Boolean(errors.greetingMessage)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\t\ttouched.greetingMessage && errors.greetingMessage\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"whatsappModal.form.farewellMessage\")}\n\t\t\t\t\t\t\t\t\t\ttype=\"farewellMessage\"\n\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\trows={5}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tname=\"farewellMessage\"\n\t\t\t\t\t\t\t\t\t\terror={\n\t\t\t\t\t\t\t\t\t\t\ttouched.farewellMessage && Boolean(errors.farewellMessage)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\t\ttouched.farewellMessage && errors.farewellMessage\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<QueueSelect\n\t\t\t\t\t\t\t\t\tselectedQueueIds={selectedQueueIds}\n\t\t\t\t\t\t\t\t\tonChange={selectedIds => setSelectedQueueIds(selectedIds)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"whatsappModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{whatsAppId\n\t\t\t\t\t\t\t\t\t\t? i18n.t(\"whatsappModal.buttons.okEdit\")\n\t\t\t\t\t\t\t\t\t\t: i18n.t(\"whatsappModal.buttons.okAdd\")}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default React.memo(WhatsAppModal);\n","import React, { useEffect, useState } from \"react\";\nimport QRCode from \"qrcode.react\";\nimport openSocket from \"socket.io-client\";\nimport toastError from \"../../errors/toastError\";\n\nimport { Dialog, DialogContent, Paper, Typography } from \"@material-ui/core\";\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\n\nconst QrcodeModal = ({ open, onClose, whatsAppId }) => {\n\tconst [qrCode, setQrCode] = useState(\"\");\n\n\tuseEffect(() => {\n\t\tconst fetchSession = async () => {\n\t\t\tif (!whatsAppId) return;\n\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`/whatsapp/${whatsAppId}`);\n\t\t\t\tsetQrCode(data.qrcode);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\t\tfetchSession();\n\t}, [whatsAppId]);\n\n\tuseEffect(() => {\n\t\tif (!whatsAppId) return;\n\t\tconst socket = openSocket(process.env.REACT_APP_BACKEND_URL);\n\n\t\tsocket.on(\"whatsappSession\", data => {\n\t\t\tif (data.action === \"update\" && data.session.id === whatsAppId) {\n\t\t\t\tsetQrCode(data.session.qrcode);\n\t\t\t}\n\n\t\t\tif (data.action === \"update\" && data.session.qrcode === \"\") {\n\t\t\t\tonClose();\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tsocket.disconnect();\n\t\t};\n\t}, [whatsAppId, onClose]);\n\n\treturn (\n\t\t<Dialog open={open} onClose={onClose} maxWidth=\"lg\" scroll=\"paper\">\n\t\t\t<DialogContent>\n\t\t\t\t<Paper elevation={0}>\n\t\t\t\t\t<Typography color=\"primary\" gutterBottom>\n\t\t\t\t\t\t{i18n.t(\"qrCode.message\")}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t{qrCode ? (\n\t\t\t\t\t\t<QRCode value={qrCode} size={256} />\n\t\t\t\t\t) : (\n\t\t\t\t\t\t<span>Waiting for QR Code</span>\n\t\t\t\t\t)}\n\t\t\t\t</Paper>\n\t\t\t</DialogContent>\n\t\t</Dialog>\n\t);\n};\n\nexport default React.memo(QrcodeModal);\n","import React, { useState, useCallback, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { format, parseISO } from \"date-fns\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport {\n\tButton,\n\tTableBody,\n\tTableRow,\n\tTableCell,\n\tIconButton,\n\tTable,\n\tTableHead,\n\tPaper,\n\tTooltip,\n\tTypography,\n\tCircularProgress,\n} from \"@material-ui/core\";\nimport {\n\tEdit,\n\tCheckCircle,\n\tSignalCellularConnectedNoInternet2Bar,\n\tSignalCellularConnectedNoInternet0Bar,\n\tSignalCellular4Bar,\n\tBatteryChargingFull,\n\tCropFree,\n\tDeleteOutline,\n} from \"@material-ui/icons\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\n\nimport api from \"../../services/api\";\nimport WhatsAppModal from \"../../components/WhatsAppModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport QrcodeModal from \"../../components/QrcodeModal\";\nimport { i18n } from \"../../translate/i18n\";\nimport { WhatsAppsContext } from \"../../context/WhatsApp/WhatsAppsContext\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n\tmainPaper: {\n\t\tflex: 1,\n\t\tpadding: theme.spacing(1),\n\t\toverflowY: \"scroll\",\n\t\t...theme.scrollbarStyles,\n\t},\n\tcustomTableCell: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t},\n\ttooltip: {\n\t\tbackgroundColor: \"#f5f5f9\",\n\t\tcolor: \"rgba(0, 0, 0, 0.87)\",\n\t\tfontSize: theme.typography.pxToRem(14),\n\t\tborder: \"1px solid #dadde9\",\n\t\tmaxWidth: 450,\n\t},\n\ttooltipPopper: {\n\t\ttextAlign: \"center\",\n\t},\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t},\n}));\n\nconst CustomToolTip = ({ title, content, children }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Tooltip\n\t\t\tarrow\n\t\t\tclasses={{\n\t\t\t\ttooltip: classes.tooltip,\n\t\t\t\tpopper: classes.tooltipPopper,\n\t\t\t}}\n\t\t\ttitle={\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<Typography gutterBottom color=\"inherit\">\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t{content && <Typography>{content}</Typography>}\n\t\t\t\t</React.Fragment>\n\t\t\t}\n\t\t>\n\t\t\t{children}\n\t\t</Tooltip>\n\t);\n};\n\nconst Connections = () => {\n\tconst classes = useStyles();\n\n\tconst { whatsApps, loading } = useContext(WhatsAppsContext);\n\tconst [whatsAppModalOpen, setWhatsAppModalOpen] = useState(false);\n\tconst [qrModalOpen, setQrModalOpen] = useState(false);\n\tconst [selectedWhatsApp, setSelectedWhatsApp] = useState(null);\n\tconst [confirmModalOpen, setConfirmModalOpen] = useState(false);\n\tconst confirmationModalInitialState = {\n\t\taction: \"\",\n\t\ttitle: \"\",\n\t\tmessage: \"\",\n\t\twhatsAppId: \"\",\n\t\topen: false,\n\t};\n\tconst [confirmModalInfo, setConfirmModalInfo] = useState(\n\t\tconfirmationModalInitialState\n\t);\n\n\tconst handleStartWhatsAppSession = async whatsAppId => {\n\t\ttry {\n\t\t\tawait api.post(`/whatsappsession/${whatsAppId}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst handleRequestNewQrCode = async whatsAppId => {\n\t\ttry {\n\t\t\tawait api.put(`/whatsappsession/${whatsAppId}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst handleOpenWhatsAppModal = () => {\n\t\tsetSelectedWhatsApp(null);\n\t\tsetWhatsAppModalOpen(true);\n\t};\n\n\tconst handleCloseWhatsAppModal = useCallback(() => {\n\t\tsetWhatsAppModalOpen(false);\n\t\tsetSelectedWhatsApp(null);\n\t}, [setSelectedWhatsApp, setWhatsAppModalOpen]);\n\n\tconst handleOpenQrModal = whatsApp => {\n\t\tsetSelectedWhatsApp(whatsApp);\n\t\tsetQrModalOpen(true);\n\t};\n\n\tconst handleCloseQrModal = useCallback(() => {\n\t\tsetSelectedWhatsApp(null);\n\t\tsetQrModalOpen(false);\n\t}, [setQrModalOpen, setSelectedWhatsApp]);\n\n\tconst handleEditWhatsApp = whatsApp => {\n\t\tsetSelectedWhatsApp(whatsApp);\n\t\tsetWhatsAppModalOpen(true);\n\t};\n\n\tconst handleOpenConfirmationModal = (action, whatsAppId) => {\n\t\tif (action === \"disconnect\") {\n\t\t\tsetConfirmModalInfo({\n\t\t\t\taction: action,\n\t\t\t\ttitle: i18n.t(\"connections.confirmationModal.disconnectTitle\"),\n\t\t\t\tmessage: i18n.t(\"connections.confirmationModal.disconnectMessage\"),\n\t\t\t\twhatsAppId: whatsAppId,\n\t\t\t});\n\t\t}\n\n\t\tif (action === \"delete\") {\n\t\t\tsetConfirmModalInfo({\n\t\t\t\taction: action,\n\t\t\t\ttitle: i18n.t(\"connections.confirmationModal.deleteTitle\"),\n\t\t\t\tmessage: i18n.t(\"connections.confirmationModal.deleteMessage\"),\n\t\t\t\twhatsAppId: whatsAppId,\n\t\t\t});\n\t\t}\n\t\tsetConfirmModalOpen(true);\n\t};\n\n\tconst handleSubmitConfirmationModal = async () => {\n\t\tif (confirmModalInfo.action === \"disconnect\") {\n\t\t\ttry {\n\t\t\t\tawait api.delete(`/whatsappsession/${confirmModalInfo.whatsAppId}`);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t}\n\n\t\tif (confirmModalInfo.action === \"delete\") {\n\t\t\ttry {\n\t\t\t\tawait api.delete(`/whatsapp/${confirmModalInfo.whatsAppId}`);\n\t\t\t\ttoast.success(i18n.t(\"connections.toasts.deleted\"));\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t}\n\n\t\tsetConfirmModalInfo(confirmationModalInitialState);\n\t};\n\n\tconst renderActionButtons = whatsApp => {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{whatsApp.status === \"qrcode\" && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tonClick={() => handleOpenQrModal(whatsApp)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.qrcode\")}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"DISCONNECTED\" && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={() => handleStartWhatsAppSession(whatsApp.id)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{i18n.t(\"connections.buttons.tryAgain\")}\n\t\t\t\t\t\t</Button>{\" \"}\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tonClick={() => handleRequestNewQrCode(whatsApp.id)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{i18n.t(\"connections.buttons.newQr\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{(whatsApp.status === \"CONNECTED\" ||\n\t\t\t\t\twhatsApp.status === \"PAIRING\" ||\n\t\t\t\t\twhatsApp.status === \"TIMEOUT\") && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\thandleOpenConfirmationModal(\"disconnect\", whatsApp.id);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.disconnect\")}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"OPENING\" && (\n\t\t\t\t\t<Button size=\"small\" variant=\"outlined\" disabled color=\"default\">\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.connecting\")}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t</>\n\t\t);\n\t};\n\n\tconst renderStatusToolTips = whatsApp => {\n\t\treturn (\n\t\t\t<div className={classes.customTableCell}>\n\t\t\t\t{whatsApp.status === \"DISCONNECTED\" && (\n\t\t\t\t\t<CustomToolTip\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.disconnected.title\")}\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.disconnected.content\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SignalCellularConnectedNoInternet0Bar color=\"secondary\" />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"OPENING\" && (\n\t\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"qrcode\" && (\n\t\t\t\t\t<CustomToolTip\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.qrcode.title\")}\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.qrcode.content\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<CropFree />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"CONNECTED\" && (\n\t\t\t\t\t<CustomToolTip title={i18n.t(\"connections.toolTips.connected.title\")}>\n\t\t\t\t\t\t<SignalCellular4Bar style={{ color: green[500] }} />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t\t{(whatsApp.status === \"TIMEOUT\" || whatsApp.status === \"PAIRING\") && (\n\t\t\t\t\t<CustomToolTip\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.timeout.title\")}\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.timeout.content\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SignalCellularConnectedNoInternet2Bar color=\"secondary\" />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t};\n\n\tconst renderStatusBattery = whatsApp => {\n\t\treturn (\n\t\t\t<div className={classes.customTableCell}>\n\t\t\t\t{whatsApp.battery < 20 && (\n\t\t\t\t\t<CustomToolTip title={whatsApp.battery}>\n\t\t\t\t\t\t<BatteryChargingFull color=\"secondary\" />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.battery > 20 && (\n\t\t\t\t\t<CustomToolTip title={whatsApp.battery}>\n\t\t\t\t\t\t<BatteryChargingFull style={{ color: green[500] }} />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t};\n\n\treturn (\n\t\t<MainContainer>\n\t\t\t<ConfirmationModal\n\t\t\t\ttitle={confirmModalInfo.title}\n\t\t\t\topen={confirmModalOpen}\n\t\t\t\tonClose={setConfirmModalOpen}\n\t\t\t\tonConfirm={handleSubmitConfirmationModal}\n\t\t\t>\n\t\t\t\t{confirmModalInfo.message}\n\t\t\t</ConfirmationModal>\n\t\t\t<QrcodeModal\n\t\t\t\topen={qrModalOpen}\n\t\t\t\tonClose={handleCloseQrModal}\n\t\t\t\twhatsAppId={!whatsAppModalOpen && selectedWhatsApp?.id}\n\t\t\t/>\n\t\t\t<WhatsAppModal\n\t\t\t\topen={whatsAppModalOpen}\n\t\t\t\tonClose={handleCloseWhatsAppModal}\n\t\t\t\twhatsAppId={!qrModalOpen && selectedWhatsApp?.id}\n\t\t\t/>\n\t\t\t<MainHeader>\n\t\t\t\t<Title>{i18n.t(\"connections.title\")}</Title>\n\t\t\t\t<MainHeaderButtonsWrapper>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tonClick={handleOpenWhatsAppModal}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.add\")}\n\t\t\t\t\t</Button>\n\t\t\t\t</MainHeaderButtonsWrapper>\n\t\t\t</MainHeader>\n\t\t\t<Paper className={classes.mainPaper} variant=\"outlined\">\n\t\t\t\t<Table size=\"small\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.name\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.default\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.battery\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.session\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.status\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.lastUpdate\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.actions\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t\t<TableRowSkeleton />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{whatsApps?.length > 0 &&\n\t\t\t\t\t\t\t\t\twhatsApps.map(whatsApp => (\n\t\t\t\t\t\t\t\t\t\t<TableRow key={whatsApp.id}>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">{whatsApp.name}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{whatsApp.isDefault && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className={classes.customTableCell}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckCircle style={{ color: green[500] }} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{renderStatusBattery(whatsApp)}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{renderStatusToolTips(whatsApp)}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{renderActionButtons(whatsApp)}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{format(parseISO(whatsApp.updatedAt), \"dd/MM/yy HH:mm\")}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleEditWhatsApp(whatsApp)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleOpenConfirmationModal(\"delete\", whatsApp.id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteOutline />\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</Paper>\n\t\t</MainContainer>\n\t);\n};\n\nexport default Connections;\n","import React, { useState, useEffect } from \"react\";\nimport openSocket from \"socket.io-client\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Container from \"@material-ui/core/Container\";\nimport Select from \"@material-ui/core/Select\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { toast } from \"react-toastify\";\n\nimport Tooltip from \"@material-ui/core/Tooltip\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n.js\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tpadding: theme.spacing(8, 8, 3),\n\t},\n\n\tpaper: {\n\t\tpadding: theme.spacing(2),\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tmarginBottom: 12,\n\n\t},\n\n\tsettingOption: {\n\t\tmarginLeft: \"auto\",\n\t},\n\tmargin: {\n\t\tmargin: theme.spacing(1),\n\t},\n\n}));\n\nconst Settings = () => {\n\tconst classes = useStyles();\n\n\tconst [settings, setSettings] = useState([]);\n\n\tuseEffect(() => {\n\t\tconst fetchSession = async () => {\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(\"/settings\");\n\t\t\t\tsetSettings(data);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\t\tfetchSession();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst socket = openSocket(process.env.REACT_APP_BACKEND_URL);\n\n\t\tsocket.on(\"settings\", data => {\n\t\t\tif (data.action === \"update\") {\n\t\t\t\tsetSettings(prevState => {\n\t\t\t\t\tconst aux = [...prevState];\n\t\t\t\t\tconst settingIndex = aux.findIndex(s => s.key === data.setting.key);\n\t\t\t\t\taux[settingIndex].value = data.setting.value;\n\t\t\t\t\treturn aux;\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tsocket.disconnect();\n\t\t};\n\t}, []);\n\n\tconst handleChangeSetting = async e => {\n\t\tconst selectedValue = e.target.value;\n\t\tconst settingKey = e.target.name;\n\n\t\ttry {\n\t\t\tawait api.put(`/settings/${settingKey}`, {\n\t\t\t\tvalue: selectedValue,\n\t\t\t});\n\t\t\ttoast.success(i18n.t(\"settings.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst getSettingValue = key => {\n\t\tconst { value } = settings.find(s => s.key === key);\n\t\treturn value;\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Container className={classes.container} maxWidth=\"sm\">\n\t\t\t\t<Typography variant=\"body2\" gutterBottom>\n\t\t\t\t\t{i18n.t(\"settings.title\")}\n\t\t\t\t</Typography>\n\t\t\t\t<Paper className={classes.paper}>\n\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t{i18n.t(\"settings.settings.userCreation.name\")}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tnative\n\t\t\t\t\t\tid=\"userCreation-setting\"\n\t\t\t\t\t\tname=\"userCreation\"\n\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\tsettings && settings.length > 0 && getSettingValue(\"userCreation\")\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclassName={classes.settingOption}\n\t\t\t\t\t\tonChange={handleChangeSetting}\n\t\t\t\t\t>\n\t\t\t\t\t\t<option value=\"enabled\">\n\t\t\t\t\t\t\t{i18n.t(\"settings.settings.userCreation.options.enabled\")}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t<option value=\"disabled\">\n\t\t\t\t\t\t\t{i18n.t(\"settings.settings.userCreation.options.disabled\")}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t</Select>\n\t\t\t\t</Paper>\n\t\t\t\t\t\t\t\n\t\t\t\t<Typography variant=\"body2\" gutterBottom></Typography>\n\t\t\t\t<Tooltip title={i18n.t(\"settings.settings.timeCreateNewTicket.note\")}>\n\t\t\t\t\t<Paper className={classes.paper} elevation={3}>\n\t\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t\t{i18n.t(\"settings.settings.timeCreateNewTicket.name\")}\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t<Select\n\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tnative\n\t\t\t\t\t\t\tid=\"timeCreateNewTicket-setting\"\n\t\t\t\t\t\t\tname=\"timeCreateNewTicket\"\n\t\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\t\tsettings && settings.length > 0 && getSettingValue(\"timeCreateNewTicket\")\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tclassName={classes.settingOption}\n\t\t\t\t\t\t\tonChange={handleChangeSetting}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<option value=\"10\">\n\t\t\t\t\t\t\t\t{i18n.t(\"settings.settings.timeCreateNewTicket.options.10\")}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option value=\"30\">\n\t\t\t\t\t\t\t\t{i18n.t(\"settings.settings.timeCreateNewTicket.options.30\")}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option value=\"60\">\n\t\t\t\t\t\t\t\t{i18n.t(\"settings.settings.timeCreateNewTicket.options.60\")}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option value=\"300\">\n\t\t\t\t\t\t\t\t{i18n.t(\"settings.settings.timeCreateNewTicket.options.300\")}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option value=\"1800\">\n\t\t\t\t\t\t\t\t{i18n.t(\"settings.settings.timeCreateNewTicket.options.1800\")}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option value=\"3600\">\n\t\t\t\t\t\t\t\t{i18n.t(\"settings.settings.timeCreateNewTicket.options.3600\")}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option value=\"7200\">\n\t\t\t\t\t\t\t\t{i18n.t(\"settings.settings.timeCreateNewTicket.options.7200\")}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option value=\"21600\">\n\t\t\t\t\t\t\t\t{i18n.t(\"settings.settings.timeCreateNewTicket.options.21600\")}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option value=\"43200\">\n\t\t\t\t\t\t\t\t{i18n.t(\"settings.settings.timeCreateNewTicket.options.43200\")}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option value=\"86400\">\n\t\t\t\t\t\t\t\t{i18n.t(\"settings.settings.timeCreateNewTicket.options.86400\")}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t\t<option value=\"172800\">\n\t\t\t\t\t\t\t\t{i18n.t(\"settings.settings.timeCreateNewTicket.options.172800\")}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t</Select>\n\t\t\t\t\t</Paper>\n\t\t\t\t</Tooltip>\n\n\t\t\t\t<Typography variant=\"body2\" gutterBottom></Typography>\n\t\t\t\t<Paper className={classes.paper}>\n\n\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t{i18n.t(\"settings.settings.call.name\")}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tnative\n\t\t\t\t\t\tid=\"call-setting\"\n\t\t\t\t\t\tname=\"call\"\n\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\tsettings && settings.length > 0 && getSettingValue(\"call\")\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclassName={classes.settingOption}\n\t\t\t\t\t\tonChange={handleChangeSetting}\n\t\t\t\t\t>\n\t\t\t\t\t\t<option value=\"enabled\">\n\t\t\t\t\t\t\t{i18n.t(\"settings.settings.call.options.enabled\")}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t<option value=\"disabled\">\n\t\t\t\t\t\t\t{i18n.t(\"settings.settings.call.options.disabled\")}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t</Select>\n\t\t\t\t</Paper>\n\n\t\t\t\t<Paper className={classes.paper}>\n\t\t\t\t\t<Typography variant=\"body1\">\n\t\t\t\t\t\t{i18n.t(\"settings.settings.CheckMsgIsGroup.name\")}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t<Select\n\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tnative\n\t\t\t\t\t\tid=\"CheckMsgIsGroup-setting\"\n\t\t\t\t\t\tname=\"CheckMsgIsGroup\"\n\t\t\t\t\t\tvalue={\n\t\t\t\t\t\t\tsettings && settings.length > 0 && getSettingValue(\"CheckMsgIsGroup\")\n\t\t\t\t\t\t}\n\t\t\t\t\t\tclassName={classes.settingOption}\n\t\t\t\t\t\tonChange={handleChangeSetting}\n\t\t\t\t\t>\n\t\t\t\t\t\t<option value=\"enabled\">\n\t\t\t\t\t\t\t{i18n.t(\"settings.settings.CheckMsgIsGroup.options.enabled\")}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t\t<option value=\"disabled\">\n\t\t\t\t\t\t\t{i18n.t(\"settings.settings.CheckMsgIsGroup.options.disabled\")}\n\t\t\t\t\t\t</option>\n\t\t\t\t\t</Select>\n\t\t\t\t</Paper>\n\n\t\t\t\t<Paper className={classes.paper}>\n\t\t\t\t\t<TextField\n\t\t\t\t\t\tid=\"api-token-setting\"\n\t\t\t\t\t\treadonly\n\t\t\t\t\t\tlabel=\"Token Api\"\n\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\tvalue={settings && settings.length > 0 && getSettingValue(\"userApiToken\")}\n\t\t\t\t\t/>\n\t\t\t\t</Paper>\n\n\t\t\t</Container>\n\t\t</div>\n\t);\n};\n\nexport default Settings;\n","import React, { useState, useEffect, useReducer } from \"react\";\nimport { toast } from \"react-toastify\";\nimport openSocket from \"socket.io-client\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport UserModal from \"../../components/UserModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_USERS\") {\n    const users = action.payload;\n    const newUsers = [];\n\n    users.forEach((user) => {\n      const userIndex = state.findIndex((u) => u.id === user.id);\n      if (userIndex !== -1) {\n        state[userIndex] = user;\n      } else {\n        newUsers.push(user);\n      }\n    });\n\n    return [...state, ...newUsers];\n  }\n\n  if (action.type === \"UPDATE_USERS\") {\n    const user = action.payload;\n    const userIndex = state.findIndex((u) => u.id === user.id);\n\n    if (userIndex !== -1) {\n      state[userIndex] = user;\n      return [...state];\n    } else {\n      return [user, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_USER\") {\n    const userId = action.payload;\n\n    const userIndex = state.findIndex((u) => u.id === userId);\n    if (userIndex !== -1) {\n      state.splice(userIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Users = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [deletingUser, setDeletingUser] = useState(null);\n  const [userModalOpen, setUserModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [users, dispatch] = useReducer(reducer, []);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchUsers = async () => {\n        try {\n          const { data } = await api.get(\"/users/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_USERS\", payload: data.users });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchUsers();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const socket = openSocket(process.env.REACT_APP_BACKEND_URL);\n\n    socket.on(\"user\", (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_USERS\", payload: data.user });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_USER\", payload: +data.userId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleOpenUserModal = () => {\n    setSelectedUser(null);\n    setUserModalOpen(true);\n  };\n\n  const handleCloseUserModal = () => {\n    setSelectedUser(null);\n    setUserModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditUser = (user) => {\n    setSelectedUser(user);\n    setUserModalOpen(true);\n  };\n\n  const handleDeleteUser = async (userId) => {\n    try {\n      await api.delete(`/users/${userId}`);\n      toast.success(i18n.t(\"users.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingUser(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingUser &&\n          `${i18n.t(\"users.confirmationModal.deleteTitle\")} ${\n            deletingUser.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteUser(deletingUser.id)}\n      >\n        {i18n.t(\"users.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <UserModal\n        open={userModalOpen}\n        onClose={handleCloseUserModal}\n        aria-labelledby=\"form-dialog-title\"\n        userId={selectedUser && selectedUser.id}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"users.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenUserModal}\n          >\n            {i18n.t(\"users.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">{i18n.t(\"users.table.name\")}</TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"users.table.email\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"users.table.profile\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"users.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {users.map((user) => (\n                <TableRow key={user.id}>\n                  <TableCell align=\"center\">{user.name}</TableCell>\n                  <TableCell align=\"center\">{user.email}</TableCell>\n                  <TableCell align=\"center\">{user.profile}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditUser(user)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingUser(user);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Users;\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport openSocket from \"socket.io-client\";\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport api from \"../../services/api\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport ContactModal from \"../../components/ContactModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal/\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport MainContainer from \"../../components/MainContainer\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../../components/Can\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CONTACTS\") {\n    const contacts = action.payload;\n    const newContacts = [];\n\n    contacts.forEach((contact) => {\n      const contactIndex = state.findIndex((c) => c.id === contact.id);\n      if (contactIndex !== -1) {\n        state[contactIndex] = contact;\n      } else {\n        newContacts.push(contact);\n      }\n    });\n\n    return [...state, ...newContacts];\n  }\n\n  if (action.type === \"UPDATE_CONTACTS\") {\n    const contact = action.payload;\n    const contactIndex = state.findIndex((c) => c.id === contact.id);\n\n    if (contactIndex !== -1) {\n      state[contactIndex] = contact;\n      return [...state];\n    } else {\n      return [contact, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CONTACT\") {\n    const contactId = action.payload;\n\n    const contactIndex = state.findIndex((c) => c.id === contactId);\n    if (contactIndex !== -1) {\n      state.splice(contactIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Contacts = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const { user } = useContext(AuthContext);\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [contacts, dispatch] = useReducer(reducer, []);\n  const [selectedContactId, setSelectedContactId] = useState(null);\n  const [contactModalOpen, setContactModalOpen] = useState(false);\n  const [deletingContact, setDeletingContact] = useState(null);\n  const [confirmOpen, setConfirmOpen] = useState(false);\n  const [hasMore, setHasMore] = useState(false);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        try {\n          const { data } = await api.get(\"/contacts/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_CONTACTS\", payload: data.contacts });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchContacts();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const socket = openSocket(process.env.REACT_APP_BACKEND_URL);\n\n    socket.on(\"contact\", (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_CONTACTS\", payload: data.contact });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_CONTACT\", payload: +data.contactId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleOpenContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(true);\n  };\n\n  const handleCloseContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(false);\n  };\n\n  const handleSaveTicket = async (contactId) => {\n    if (!contactId) return;\n    setLoading(true);\n    try {\n      const { data: ticket } = await api.post(\"/tickets\", {\n        contactId: contactId,\n        userId: user?.id,\n        status: \"open\",\n      });\n      history.push(`/tickets/${ticket.id}`);\n    } catch (err) {\n      toastError(err);\n    }\n    setLoading(false);\n  };\n\n  const hadleEditContact = (contactId) => {\n    setSelectedContactId(contactId);\n    setContactModalOpen(true);\n  };\n\n  const handleDeleteContact = async (contactId) => {\n    try {\n      await api.delete(`/contacts/${contactId}`);\n      toast.success(i18n.t(\"contacts.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingContact(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const handleimportContact = async () => {\n    try {\n      await api.post(\"/contacts/import\");\n      history.go(0);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer className={classes.mainContainer}>\n      <ContactModal\n        open={contactModalOpen}\n        onClose={handleCloseContactModal}\n        aria-labelledby=\"form-dialog-title\"\n        contactId={selectedContactId}\n      ></ContactModal>\n      <ConfirmationModal\n        title={\n          deletingContact\n            ? `${i18n.t(\"contacts.confirmationModal.deleteTitle\")} ${\n                deletingContact.name\n              }?`\n            : `${i18n.t(\"contacts.confirmationModal.importTitlte\")}`\n        }\n        open={confirmOpen}\n        onClose={setConfirmOpen}\n        onConfirm={(e) =>\n          deletingContact\n            ? handleDeleteContact(deletingContact.id)\n            : handleimportContact()\n        }\n      >\n        {deletingContact\n          ? `${i18n.t(\"contacts.confirmationModal.deleteMessage\")}`\n          : `${i18n.t(\"contacts.confirmationModal.importMessage\")}`}\n      </ConfirmationModal>\n      <MainHeader>\n        <Title>{i18n.t(\"contacts.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={(e) => setConfirmOpen(true)}\n          >\n            {i18n.t(\"contacts.buttons.import\")}\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenContactModal}\n          >\n            {i18n.t(\"contacts.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell padding=\"checkbox\" />\n              <TableCell>{i18n.t(\"contacts.table.name\")}</TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contacts.table.whatsapp\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contacts.table.email\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contacts.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {contacts.map((contact) => (\n                <TableRow key={contact.id}>\n                  <TableCell style={{ paddingRight: 0 }}>\n                    {<Avatar src={contact.profilePicUrl} />}\n                  </TableCell>\n                  <TableCell>{contact.name}</TableCell>\n                  <TableCell align=\"center\">{contact.number}</TableCell>\n                  <TableCell align=\"center\">{contact.email}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleSaveTicket(contact.id)}\n                    >\n                      <WhatsAppIcon />\n                    </IconButton>\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => hadleEditContact(contact.id)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n                    <Can\n                      role={user.profile}\n                      perform=\"contacts-page:deleteContact\"\n                      yes={() => (\n                        <IconButton\n                          size=\"small\"\n                          onClick={(e) => {\n                            setConfirmOpen(true);\n                            setDeletingContact(contact);\n                          }}\n                        >\n                          <DeleteOutlineIcon />\n                        </IconButton>\n                      )}\n                    />\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton avatar columns={3} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Contacts;\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport {\n  makeStyles,\n  Button,\n  TextField,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport { green } from \"@material-ui/core/colors\";\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flexWrap: \"wrap\",\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    width: \"100%\",\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  textQuickAnswerContainer: {\n    width: \"100%\",\n  },\n}));\n\nconst QuickAnswerSchema = Yup.object().shape({\n  shortcut: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(15, \"Too Long!\")\n    .required(\"Required\"),\n  message: Yup.string()\n    .min(8, \"Too Short!\")\n    .max(30000, \"Too Long!\")\n    .required(\"Required\"),\n});\n\nconst QuickAnswersModal = ({\n  open,\n  onClose,\n  quickAnswerId,\n  initialValues,\n  onSave,\n}) => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n\n  const initialState = {\n    shortcut: \"\",\n    message: \"\",\n  };\n\n  const [quickAnswer, setQuickAnswer] = useState(initialState);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    const fetchQuickAnswer = async () => {\n      if (initialValues) {\n        setQuickAnswer((prevState) => {\n          return { ...prevState, ...initialValues };\n        });\n      }\n\n      if (!quickAnswerId) return;\n\n      try {\n        const { data } = await api.get(`/quickAnswers/${quickAnswerId}`);\n        if (isMounted.current) {\n          setQuickAnswer(data);\n        }\n      } catch (err) {\n        toastError(err);\n      }\n    };\n\n    fetchQuickAnswer();\n  }, [quickAnswerId, open, initialValues]);\n\n  const handleClose = () => {\n    onClose();\n    setQuickAnswer(initialState);\n  };\n\n  const handleSaveQuickAnswer = async (values) => {\n    try {\n      if (quickAnswerId) {\n        await api.put(`/quickAnswers/${quickAnswerId}`, values);\n        handleClose();\n      } else {\n        const { data } = await api.post(\"/quickAnswers\", values);\n        if (onSave) {\n          onSave(data);\n        }\n        handleClose();\n      }\n      toast.success(i18n.t(\"quickAnswersModal.success\"));\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"sm\"\n        fullWidth\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          {quickAnswerId\n            ? `${i18n.t(\"quickAnswersModal.title.edit\")}`\n            : `${i18n.t(\"quickAnswersModal.title.add\")}`}\n        </DialogTitle>\n        <Formik\n          initialValues={quickAnswer}\n          enableReinitialize={true}\n          validationSchema={QuickAnswerSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveQuickAnswer(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ values, errors, touched, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <div className={classes.textQuickAnswerContainer}>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"quickAnswersModal.form.shortcut\")}\n                    name=\"shortcut\"\n                    autoFocus\n                    error={touched.shortcut && Boolean(errors.shortcut)}\n                    helperText={touched.shortcut && errors.shortcut}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    className={classes.textField}\n                    fullWidth\n                  />\n                </div>\n                <div className={classes.textQuickAnswerContainer}>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"quickAnswersModal.form.message\")}\n                    name=\"message\"\n                    error={touched.message && Boolean(errors.message)}\n                    helperText={touched.message && errors.message}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    className={classes.textField}\n                    multiline\n                    rows={5}\n                    fullWidth\n                  />\n                </div>\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"quickAnswersModal.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {quickAnswerId\n                    ? `${i18n.t(\"quickAnswersModal.buttons.okEdit\")}`\n                    : `${i18n.t(\"quickAnswersModal.buttons.okAdd\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default QuickAnswersModal;\n","import React, { useState, useEffect, useReducer } from \"react\";\nimport openSocket from \"socket.io-client\";\n\nimport {\n  Button,\n  IconButton,\n  makeStyles,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  InputAdornment,\n  TextField,\n} from \"@material-ui/core\";\nimport { Edit, DeleteOutline } from \"@material-ui/icons\";\nimport SearchIcon from \"@material-ui/icons/Search\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport QuickAnswersModal from \"../../components/QuickAnswersModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport { toast } from \"react-toastify\";\nimport toastError from \"../../errors/toastError\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_QUICK_ANSWERS\") {\n    const quickAnswers = action.payload;\n    const newQuickAnswers = [];\n\n    quickAnswers.forEach((quickAnswer) => {\n      const quickAnswerIndex = state.findIndex((q) => q.id === quickAnswer.id);\n      if (quickAnswerIndex !== -1) {\n        state[quickAnswerIndex] = quickAnswer;\n      } else {\n        newQuickAnswers.push(quickAnswer);\n      }\n    });\n\n    return [...state, ...newQuickAnswers];\n  }\n\n  if (action.type === \"UPDATE_QUICK_ANSWERS\") {\n    const quickAnswer = action.payload;\n    const quickAnswerIndex = state.findIndex((q) => q.id === quickAnswer.id);\n\n    if (quickAnswerIndex !== -1) {\n      state[quickAnswerIndex] = quickAnswer;\n      return [...state];\n    } else {\n      return [quickAnswer, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_QUICK_ANSWERS\") {\n    const quickAnswerId = action.payload;\n\n    const quickAnswerIndex = state.findIndex((q) => q.id === quickAnswerId);\n    if (quickAnswerIndex !== -1) {\n      state.splice(quickAnswerIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst QuickAnswers = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [quickAnswers, dispatch] = useReducer(reducer, []);\n  const [selectedQuickAnswers, setSelectedQuickAnswers] = useState(null);\n  const [quickAnswersModalOpen, setQuickAnswersModalOpen] = useState(false);\n  const [deletingQuickAnswers, setDeletingQuickAnswers] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [hasMore, setHasMore] = useState(false);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchQuickAnswers = async () => {\n        try {\n          const { data } = await api.get(\"/quickAnswers/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_QUICK_ANSWERS\", payload: data.quickAnswers });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchQuickAnswers();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const socket = openSocket(process.env.REACT_APP_BACKEND_URL);\n\n    socket.on(\"quickAnswer\", (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_QUICK_ANSWERS\", payload: data.quickAnswer });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({\n          type: \"DELETE_QUICK_ANSWERS\",\n          payload: +data.quickAnswerId,\n        });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleOpenQuickAnswersModal = () => {\n    setSelectedQuickAnswers(null);\n    setQuickAnswersModalOpen(true);\n  };\n\n  const handleCloseQuickAnswersModal = () => {\n    setSelectedQuickAnswers(null);\n    setQuickAnswersModalOpen(false);\n  };\n\n  const handleEditQuickAnswers = (quickAnswer) => {\n    setSelectedQuickAnswers(quickAnswer);\n    setQuickAnswersModalOpen(true);\n  };\n\n  const handleDeleteQuickAnswers = async (quickAnswerId) => {\n    try {\n      await api.delete(`/quickAnswers/${quickAnswerId}`);\n      toast.success(i18n.t(\"quickAnswers.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingQuickAnswers(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingQuickAnswers &&\n          `${i18n.t(\"quickAnswers.confirmationModal.deleteTitle\")} ${\n            deletingQuickAnswers.shortcut\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteQuickAnswers(deletingQuickAnswers.id)}\n      >\n        {i18n.t(\"quickAnswers.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <QuickAnswersModal\n        open={quickAnswersModalOpen}\n        onClose={handleCloseQuickAnswersModal}\n        aria-labelledby=\"form-dialog-title\"\n        quickAnswerId={selectedQuickAnswers && selectedQuickAnswers.id}\n      ></QuickAnswersModal>\n      <MainHeader>\n        <Title>{i18n.t(\"quickAnswers.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"quickAnswers.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenQuickAnswersModal}\n          >\n            {i18n.t(\"quickAnswers.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"quickAnswers.table.shortcut\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"quickAnswers.table.message\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"quickAnswers.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {quickAnswers.map((quickAnswer) => (\n                <TableRow key={quickAnswer.id}>\n                  <TableCell align=\"center\">{quickAnswer.shortcut}</TableCell>\n                  <TableCell align=\"center\">{quickAnswer.message}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditQuickAnswers(quickAnswer)}\n                    >\n                      <Edit />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingQuickAnswers(quickAnswer);\n                      }}\n                    >\n                      <DeleteOutline />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={3} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default QuickAnswers;\n","import { Dialog } from \"@material-ui/core\";\nimport React, { useState } from \"react\";\n\nimport { GithubPicker } from \"react-color\";\n\nconst ColorPicker = ({ onChange, currentColor, handleClose, open }) => {\n  const [selectedColor, setSelectedColor] = useState(currentColor);\n  const colors = [\n\"#000000\",\n\"#1C1C1C\",\n\"#363636\",\n\"#4F4F4F\",\n\"#696969\",\n\"#808080\",\n\"#A9A9A9\",\n\"#C0C0C0\",\n\"#D3D3D3\",\n\"#DCDCDC\",\n\"#6A5ACD\",\n\"#836FFF\",\n\"#6959CD\",\n\"#483D8B\",\n\"#191970\",\n\"#000080\",\n\"#00008B\",\n\"#0000CD\",\n\"#0000FF\",\n\"#6495ED\",\n\"#4169E1\",\n\"#1E90FF\",\n\"#00BFFF\",\n\"#87CEFA\",\n\"#87CEEB\",\n\"#ADD8E6\",\n\"#4682B4\",\n\"#B0C4DE\",\n\"#708090\",\n\"#778899\",\n\"#00FFFF\",\n\"#00CED1\",\n\"#40E0D0\",\n\"#48D1CC\",\n\"#20B2AA\",\n\"#008B8B\",\n\"#008080\",\n\"#7FFFD4\",\n\"#66CDAA\",\n\"#5F9EA0\",\n\"#2F4F4F\",\n\"#00FA9A\",\n\"#00FF7F\",\n\"#98FB98\",\n\"#90EE90\",\n\"#8FBC8F\",\n\"#3CB371\",\n\"#2E8B57\",\n\"#006400\",\n\"#008000\",\n\"#228B22\",\n\"#32CD32\",\n\"#00FF00\",\n\"#7CFC00\",\n\"#7FFF00\",\n\"#ADFF2F\",\n\"#9ACD32\",\n\"6B8E23\",\n\"#556B2F\",\n\"#808000\",\n\"#BDB76B\",\n\"#DAA520\",\n\"#B8860B\",\n\"#8B4513\",\n\"#A0522D\",\n\"#BC8F8F\",\n\"#CD853F\",\n\"#D2691E\",\n\"#F4A460\",\n\"#FFDEAD\",\n\"#F5DEB3\",\n\"#DEB887\",\n\"#D2B48C\",\n\"#7B68EE\",\n\"#9370DB\",\n\"#8A2BE2\",\n\"#4B0082\",\n\"#9400D3\",\n\"#9932CC\",\n\"#BA55D3\",\n\"#A020F0\",\n\"#8B008B\",\n\"#FF00FF\",\n\"#EE82EE\",\n\"#DA70D6\",\n\"#DDA0DD\",\n\"#C71585\",\n\"#FF1493\",\n\"#FF69B4\",\n\"#DB7093\",\n\"#FFB6C1\",\n\"#FFC0CB\",\n\"#F08080\",\n\"#CD5C5C\",\n\"#DC143C\",\n\"#800000\",\n\"#8B0000\",\n\"#B22222\",\n\"#A52A2A\",\n\"#FA8072\",\n\"#E9967A\",\n\"#FFA07A\",\n\"#FF7F50\",\n\"#FF6347\",\n\"#FF0000\",\n\"#FF4500\",\n\"#FF8C00\",\n\"#FFA500\",\n\"#FFD700\",\n\"#FFFF00\",\n\"#F0E68C\",\n\"#F0F8FF\",\n\"#F8F8FF\",\n\"#FFFAFA\",\n\"#FFF5EE\",\n\"#FFFAF0\",\n\"#F5F5F5\",\n\"#F5F5DC\",\n\"#FDF5E6\",\n\"#FFFFF0\",\n\"#FAF0E6\",\n\"#FFF8DC\",\n\"#FAEBD7\",\n\"#FFEBCD\",\n\"#FFE4C4\",\n\"#FFFFE0\",\n\"#FFFACD\",\n\"#FAFAD2\",\n\"#FFEFD5\",\n\"#FFDAB9\",\n\"#FFE4B5\",\n\"#EEE8AA\",\n\"#FFE4E1\",\n\"#FFF0F5\",\n\"#E6E6FA\",\n\"#D8BFD8\",\n\"#F0FFFF\",\n\"#E0FFFF\",\n\"#B0E0E6\",\n\"#E0FFFF\",\n\"#F0FFF0\",\n\"#F5FFFA\",\n\n\"#B80000\",\n\"#DB3E00\",\n\"#FCCB00\",\n\"#008B02\",\n\"#006B76\",\n\"#1273DE\",\n\"#004DCF\",\n\"#5300EB\",\n\"#EB9694\",\n\"#FAD0C3\",\n\"#FEF3BD\",\n\"#C1E1C5\",\n\"#BEDADC\",\n\"#C4DEF6\",\n\"#BED3F3\",\n\"#D4C4FB\",\n\"#4D4D4D\",\n\"#999999\",\n\"#FFFFFF\",\n\"#F44E3B\",\n\"#FE9200\",\n\"#FCDC00\",\n\"#DBDF00\",\n\"#A4DD00\",\n\"#68CCCA\",\n\"#73D8FF\",\n\"#AEA1FF\",\n\"#FDA1FF\",\n\"#333333\",\n\"#808080\",\n\"#cccccc\",\n\"#D33115\",\n\"#E27300\",\n\"#FCC400\",\n\"#B0BC00\",\n\"#68BC00\",\n\"#16A5A5\",\n\"#009CE0\",\n\"#7B64FF\",\n\"#FA28FF\",\n\"#666666\",\n\"#B3B3B3\",\n\"#9F0500\",\n\"#C45100\",\n\"#FB9E00\",\n\"#808900\",\n\"#194D33\",\n\"#0C797D\",\n\"#0062B1\",\n\"#653294\",\n\"#AB149E\",\n\n\n\n  ];\n\n  const handleChange = (color) => {\n    setSelectedColor(color.hex);\n    handleClose();\n  };\n\n  return (\n    <Dialog\n      onClose={handleClose}\n      aria-labelledby=\"simple-dialog-title\"\n      open={open}\n      maxWidth=\"xs\"\n      paperFullWidth\n    >\n      <GithubPicker\n        width={\"100%\"}\n        triangle=\"hide\"\n        color={selectedColor}\n        colors={colors}\n        onChange={handleChange}\n        onChangeComplete={(color) => onChange(color.hex)}\n      />\n    </Dialog>\n  );\n};\n\nexport default ColorPicker;\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport ColorPicker from \"../ColorPicker\";\nimport { IconButton, InputAdornment } from \"@material-ui/core\";\nimport { Colorize } from \"@material-ui/icons\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\ttextField: {\n\t\tmarginRight: theme.spacing(1),\n\t\tflex: 1,\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n\tcolorAdorment: {\n\t\twidth: 20,\n\t\theight: 20,\n\t},\n}));\n\nconst QueueSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Obrigatrio*\"),\n\tcolor: Yup.string().min(3, \"Too Short!\").max(9, \"Too Long!\").required(),\n\tgreetingMessage: Yup.string(),\n});\n\nconst QueueModal = ({ open, onClose, queueId }) => {\n\tconst classes = useStyles();\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\tcolor: \"\",\n\t\tgreetingMessage: \"\",\n\t};\n\n\tconst [colorPickerModalOpen, setColorPickerModalOpen] = useState(false);\n\tconst [queue, setQueue] = useState(initialState);\n\tconst greetingRef = useRef();\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\tif (!queueId) return;\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`/queue/${queueId}`);\n\t\t\t\tsetQueue(prevState => {\n\t\t\t\t\treturn { ...prevState, ...data };\n\t\t\t\t});\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t})();\n\n\t\treturn () => {\n\t\t\tsetQueue({\n\t\t\t\tname: \"\",\n\t\t\t\tcolor: \"\",\n\t\t\t\tgreetingMessage: \"\",\n\t\t\t});\n\t\t};\n\t}, [queueId, open]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetQueue(initialState);\n\t};\n\n\tconst handleSaveQueue = async values => {\n\t\ttry {\n\t\t\tif (queueId) {\n\t\t\t\tawait api.put(`/queue/${queueId}`, values);\n\t\t\t} else {\n\t\t\t\tawait api.post(\"/queue\", values);\n\t\t\t}\n\t\t\ttoast.success(\"Queue saved successfully\");\n\t\t\thandleClose();\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog open={open} onClose={handleClose} scroll=\"paper\">\n\t\t\t\t<DialogTitle>\n\t\t\t\t\t{queueId\n\t\t\t\t\t\t? `${i18n.t(\"queueModal.title.edit\")}`\n\t\t\t\t\t\t: `${i18n.t(\"queueModal.title.add\")}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={queue}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={QueueSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveQueue(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting, values }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"queueModal.form.name\")}\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"queueModal.form.color\")}\n\t\t\t\t\t\t\t\t\tname=\"color\"\n\t\t\t\t\t\t\t\t\tid=\"color\"\n\t\t\t\t\t\t\t\t\tonFocus={() => {\n\t\t\t\t\t\t\t\t\t\tsetColorPickerModalOpen(true);\n\t\t\t\t\t\t\t\t\t\tgreetingRef.current.focus();\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\terror={touched.color && Boolean(errors.color)}\n\t\t\t\t\t\t\t\t\thelperText={touched.color && errors.color}\n\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\tstartAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"start\">\n\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: values.color }}\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.colorAdorment}\n\t\t\t\t\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setColorPickerModalOpen(true)}\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<Colorize />\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\t\t\t\topen={colorPickerModalOpen}\n\t\t\t\t\t\t\t\t\thandleClose={() => setColorPickerModalOpen(false)}\n\t\t\t\t\t\t\t\t\tonChange={color => {\n\t\t\t\t\t\t\t\t\t\tvalues.color = color;\n\t\t\t\t\t\t\t\t\t\tsetQueue(() => {\n\t\t\t\t\t\t\t\t\t\t\treturn { ...values, color };\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"queueModal.form.greetingMessage\")}\n\t\t\t\t\t\t\t\t\t\ttype=\"greetingMessage\"\n\t\t\t\t\t\t\t\t\t\tmultiline\n\t\t\t\t\t\t\t\t\t\tinputRef={greetingRef}\n\t\t\t\t\t\t\t\t\t\trows={5}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tname=\"greetingMessage\"\n\t\t\t\t\t\t\t\t\t\terror={\n\t\t\t\t\t\t\t\t\t\t\ttouched.greetingMessage && Boolean(errors.greetingMessage)\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\thelperText={\n\t\t\t\t\t\t\t\t\t\t\ttouched.greetingMessage && errors.greetingMessage\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"queueModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{queueId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"queueModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"queueModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default QueueModal;\n","import React, { useEffect, useReducer, useState } from \"react\";\n\nimport openSocket from \"socket.io-client\";\n\nimport {\n  Button,\n  IconButton,\n  makeStyles,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  Typography,\n} from \"@material-ui/core\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport Title from \"../../components/Title\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { DeleteOutline, Edit } from \"@material-ui/icons\";\nimport QueueModal from \"../../components/QueueModal\";\nimport { toast } from \"react-toastify\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  customTableCell: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_QUEUES\") {\n    const queues = action.payload;\n    const newQueues = [];\n\n    queues.forEach((queue) => {\n      const queueIndex = state.findIndex((q) => q.id === queue.id);\n      if (queueIndex !== -1) {\n        state[queueIndex] = queue;\n      } else {\n        newQueues.push(queue);\n      }\n    });\n\n    return [...state, ...newQueues];\n  }\n\n  if (action.type === \"UPDATE_QUEUES\") {\n    const queue = action.payload;\n    const queueIndex = state.findIndex((u) => u.id === queue.id);\n\n    if (queueIndex !== -1) {\n      state[queueIndex] = queue;\n      return [...state];\n    } else {\n      return [queue, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_QUEUE\") {\n    const queueId = action.payload;\n    const queueIndex = state.findIndex((q) => q.id === queueId);\n    if (queueIndex !== -1) {\n      state.splice(queueIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst Queues = () => {\n  const classes = useStyles();\n\n  const [queues, dispatch] = useReducer(reducer, []);\n  const [loading, setLoading] = useState(false);\n\n  const [queueModalOpen, setQueueModalOpen] = useState(false);\n  const [selectedQueue, setSelectedQueue] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n\n  useEffect(() => {\n    (async () => {\n      setLoading(true);\n      try {\n        const { data } = await api.get(\"/queue\");\n        dispatch({ type: \"LOAD_QUEUES\", payload: data });\n\n        setLoading(false);\n      } catch (err) {\n        toastError(err);\n        setLoading(false);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    const socket = openSocket(process.env.REACT_APP_BACKEND_URL);\n\n    socket.on(\"queue\", (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_QUEUES\", payload: data.queue });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_QUEUE\", payload: data.queueId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleOpenQueueModal = () => {\n    setQueueModalOpen(true);\n    setSelectedQueue(null);\n  };\n\n  const handleCloseQueueModal = () => {\n    setQueueModalOpen(false);\n    setSelectedQueue(null);\n  };\n\n  const handleEditQueue = (queue) => {\n    setSelectedQueue(queue);\n    setQueueModalOpen(true);\n  };\n\n  const handleCloseConfirmationModal = () => {\n    setConfirmModalOpen(false);\n    setSelectedQueue(null);\n  };\n\n  const handleDeleteQueue = async (queueId) => {\n    try {\n      await api.delete(`/queue/${queueId}`);\n      toast.success(i18n.t(\"Queue deleted successfully!\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setSelectedQueue(null);\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          selectedQueue &&\n          `${i18n.t(\"queues.confirmationModal.deleteTitle\")} ${\n            selectedQueue.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={handleCloseConfirmationModal}\n        onConfirm={() => handleDeleteQueue(selectedQueue.id)}\n      >\n        {i18n.t(\"queues.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <QueueModal\n        open={queueModalOpen}\n        onClose={handleCloseQueueModal}\n        queueId={selectedQueue?.id}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"queues.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenQueueModal}\n          >\n            {i18n.t(\"queues.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper className={classes.mainPaper} variant=\"outlined\">\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.name\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.color\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.greeting\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {queues.map((queue) => (\n                <TableRow key={queue.id}>\n                  <TableCell align=\"center\">{queue.name}</TableCell>\n                  <TableCell align=\"center\">\n                    <div className={classes.customTableCell}>\n                      <span\n                        style={{\n                          backgroundColor: queue.color,\n                          width: 60,\n                          height: 20,\n                          alignSelf: \"center\",\n                        }}\n                      />\n                    </div>\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <div className={classes.customTableCell}>\n                      <Typography\n                        style={{ width: 300, align: \"center\" }}\n                        noWrap\n                        variant=\"body2\"\n                      >\n                        {queue.greetingMessage}\n                      </Typography>\n                    </div>\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditQueue(queue)}\n                    >\n                      <Edit />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => {\n                        setSelectedQueue(queue);\n                        setConfirmModalOpen(true);\n                      }}\n                    >\n                      <DeleteOutline />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Queues;\n","import React, { useContext } from \"react\";\nimport { Route as RouterRoute, Redirect } from \"react-router-dom\";\n\nimport { AuthContext } from \"../context/Auth/AuthContext\";\nimport BackdropLoading from \"../components/BackdropLoading\";\n\nconst Route = ({ component: Component, isPrivate = false, isAdminRoute = false, ...rest }) => {\n  const { isAuth, loading, isAdminUser } = useContext(AuthContext);\n\n  if (!isAuth && isPrivate) {\n    return (\n      <>\n        {loading && <BackdropLoading />}\n        <Redirect to={{ pathname: \"/login\", state: { from: rest.location } }} />\n      </>\n    );\n  }\n\n  if (isAuth && !isPrivate) {\n    return (\n      <>\n        {loading && <BackdropLoading />}\n        <Redirect to={{ pathname: \"/\", state: { from: rest.location } }} />;\n      </>\n    );\n  }\n\n  if (isAuth && isPrivate && isAdminRoute && !isAdminUser()) {\n    return (\n      <>\n        {loading && <BackdropLoading />}\n        <Redirect to={{ pathname: \"/tickets\", state: { from: rest.location } }} />;\n      </>\n    );\n  }\n\n  return (\n    <>\n      {loading && <BackdropLoading />}\n      <RouterRoute {...rest} component={Component} />\n    </>\n  );\n};\n\nexport default Route;\n","import React from \"react\";\nimport { BrowserRouter, Switch } from \"react-router-dom\";\nimport { ToastContainer } from \"react-toastify\";\n\nimport LoggedInLayout from \"../layout\";\nimport Dashboard from \"../pages/Dashboard/\";\nimport Tickets from \"../pages/Tickets/\";\nimport Signup from \"../pages/Signup/\";\nimport Login from \"../pages/Login/\";\nimport Connections from \"../pages/Connections/\";\nimport Settings from \"../pages/Settings/\";\nimport Users from \"../pages/Users\";\nimport Contacts from \"../pages/Contacts/\";\nimport QuickAnswers from \"../pages/QuickAnswers/\";\nimport Queues from \"../pages/Queues/\";\nimport { AuthProvider } from \"../context/Auth/AuthContext\";\nimport { WhatsAppsProvider } from \"../context/WhatsApp/WhatsAppsContext\";\nimport Route from \"./Route\";\n\nconst Routes = () => {\n  return (\n    <BrowserRouter>\n      <AuthProvider>\n        <Switch>\n          <Route exact path=\"/login\" component={Login} />\n          <Route exact path=\"/signup\" component={Signup} />\n          <WhatsAppsProvider>\n            <LoggedInLayout>\n              <Route exact path=\"/\" component={Dashboard} isPrivate />\n              <Route\n                exact\n                path=\"/tickets/:ticketId?\"\n                component={Tickets}\n                isPrivate\n              />\n              <Route\n                exact\n                path=\"/connections\"\n                component={Connections}\n                isPrivate\n              />\n              <Route exact path=\"/contacts\" component={Contacts} isPrivate />\n              <Route exact path=\"/users\" component={Users} isPrivate />\n              <Route\n                exact\n                path=\"/quickAnswers\"\n                component={QuickAnswers}\n                isPrivate\n                isAdminRoute\n              />\n              <Route exact path=\"/Settings\" component={Settings} isPrivate />\n              <Route exact path=\"/Queues\" component={Queues} isPrivate />\n            </LoggedInLayout>\n          </WhatsAppsProvider>\n        </Switch>\n        <ToastContainer autoClose={3000} />\n      </AuthProvider>\n    </BrowserRouter>\n  );\n};\n\nexport default Routes;\n","import React, { useState, useEffect } from \"react\";\nimport Routes from \"./routes\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nimport { createTheme, ThemeProvider } from \"@material-ui/core/styles\";\nimport { ptBR } from \"@material-ui/core/locale\";\n\nconst App = () => {\n  const [locale, setLocale] = useState();\n\n  const theme = createTheme(\n    {\n      scrollbarStyles: {\n        \"&::-webkit-scrollbar\": {\n          width: \"8px\",\n          height: \"8px\",\n        },\n        \"&::-webkit-scrollbar-thumb\": {\n          boxShadow: \"inset 0 0 6px rgba(0, 0, 0, 0.3)\",\n          backgroundColor: \"#e8e8e8\",\n        },\n      },\n      palette: {\n        primary: { main: \"#00A884\" },\n      },\n    },\n    locale\n  );\n\n  useEffect(() => {\n    const i18nlocale = localStorage.getItem(\"i18nextLng\");\n    const browserLocale =\n      i18nlocale.substring(0, 2) + i18nlocale.substring(3, 5);\n\n    if (browserLocale === \"ptBR\") {\n      setLocale(ptBR);\n    }\n  }, []);\n\n  return (\n    <ThemeProvider theme={theme}>\n      <Routes />\n    </ThemeProvider>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\n\nimport App from \"./App\";\n\nReactDOM.render(\n\t<CssBaseline>\n\t\t<App />\n\t</CssBaseline>,\n\tdocument.getElementById(\"root\")\n);\n\n// ReactDOM.render(\n// \t<React.StrictMode>\n// \t\t<CssBaseline>\n// \t\t\t<App />\n// \t\t</CssBaseline>,\n//   </React.StrictMode>\n\n// \tdocument.getElementById(\"root\")\n// );\n"],"sourceRoot":""}